{"config":{"lang":["en","zh"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Optopsy","text":"<p>A fast, flexible backtesting library for options strategies in Python.</p>"},{"location":"#what-is-optopsy","title":"What is Optopsy?","text":"<p>Optopsy helps you answer questions like \"How do iron condors perform on SPX?\" or \"What delta range produces the best results for covered calls?\" by generating comprehensive performance statistics from historical options data.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>28 Built-in Strategies - From simple calls/puts to iron condors, butterflies, calendars, and diagonals</li> <li>Greeks Filtering - Filter options by delta to target specific probability ranges</li> <li>Slippage Modeling - Realistic fills with mid, spread, or liquidity-based slippage</li> <li>Flexible Grouping - Analyze results by DTE, OTM%, and delta intervals</li> <li>Any Data Source - Works with any options data in CSV or DataFrame format</li> <li>Pandas Native - Returns DataFrames that integrate with your existing workflow</li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>import optopsy as op\n\n# Load your options data\ndata = op.csv_data('SPX_options.csv')\n\n# Backtest an iron condor strategy\nresults = op.iron_condor(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.25\n)\n\nprint(results)\n</code></pre>"},{"location":"#installation","title":"Installation","text":"<pre><code>pip install optopsy\n</code></pre> <p>Requirements: Python 3.8+, Pandas 2.0+, NumPy 1.26+</p>"},{"location":"#getting-help","title":"Getting Help","text":"<ul> <li>Check the Getting Started guide for a detailed walkthrough</li> <li>Browse Strategies for available options strategies</li> <li>Review Parameters for configuration options</li> <li>See Examples for common use cases</li> <li>View the API Reference for complete function documentation</li> </ul>"},{"location":"#contributing","title":"Contributing","text":"<p>Contributions are welcome! See the Contributing Guide for details.</p>"},{"location":"#license","title":"License","text":"<p>Optopsy is released under the GPL-3.0 License. See the GitHub repository for more information.</p>"},{"location":"api-reference/","title":"API Reference","text":"<p>Complete API documentation for Optopsy functions.</p> <p>Common Parameters</p> <p>All strategy functions share common parameters. See the Common Parameters section below for detailed documentation of <code>max_entry_dte</code>, <code>exit_dte</code>, <code>max_otm_pct</code>, <code>min_bid_ask</code>, slippage settings, and more.</p>"},{"location":"api-reference/#data-loading","title":"Data Loading","text":""},{"location":"api-reference/#csv_data","title":"csv_data","text":"<p>Load options data from CSV file.</p>"},{"location":"api-reference/#optopsy.datafeeds.csv_data","title":"optopsy.datafeeds.csv_data","text":"<pre><code>csv_data(\n    file_path: str,\n    start_date: Optional[str] = None,\n    end_date: Optional[str] = None,\n    underlying_symbol: int = 0,\n    underlying_price: int = 1,\n    option_type: int = 2,\n    expiration: int = 3,\n    quote_date: int = 4,\n    strike: int = 5,\n    bid: int = 6,\n    ask: int = 7,\n    delta: Optional[int] = None,\n    gamma: Optional[int] = None,\n    theta: Optional[int] = None,\n    vega: Optional[int] = None,\n    volume: Optional[int] = None,\n    open_interest: Optional[int] = None,\n) -&gt; pd.DataFrame\n</code></pre> <p>Import option chain data from CSV files with standardized column names.</p> <p>Uses pandas DataFrame.read_csv function to import data from CSV files. Automatically generates standardized headers for library use.</p> <p>Parameters:</p> Name Type Description Default <code>file_path</code> <code>str</code> <p>Path to CSV file</p> required <code>start_date</code> <code>Optional[str]</code> <p>Optional start date of dataset to consider (inclusive)</p> <code>None</code> <code>end_date</code> <code>Optional[str]</code> <p>Optional end date of dataset to consider (inclusive)</p> <code>None</code> <code>underlying_symbol</code> <code>int</code> <p>Column index containing underlying symbol</p> <code>0</code> <code>underlying_price</code> <code>int</code> <p>Column index containing underlying stock price</p> <code>1</code> <code>quote_date</code> <code>int</code> <p>Column index containing quote date</p> <code>4</code> <code>expiration</code> <code>int</code> <p>Column index containing expiration date</p> <code>3</code> <code>strike</code> <code>int</code> <p>Column index containing strike price</p> <code>5</code> <code>option_type</code> <code>int</code> <p>Column index containing option type (call/put)</p> <code>2</code> <code>bid</code> <code>int</code> <p>Column index containing bid price</p> <code>6</code> <code>ask</code> <code>int</code> <p>Column index containing ask price</p> <code>7</code> <code>delta</code> <code>Optional[int]</code> <p>Optional column index containing delta Greek</p> <code>None</code> <code>gamma</code> <code>Optional[int]</code> <p>Optional column index containing gamma Greek</p> <code>None</code> <code>theta</code> <code>Optional[int]</code> <p>Optional column index containing theta Greek</p> <code>None</code> <code>vega</code> <code>Optional[int]</code> <p>Optional column index containing vega Greek</p> <code>None</code> <code>volume</code> <code>Optional[int]</code> <p>Optional column index containing trading volume (used by liquidity slippage)</p> <code>None</code> <code>open_interest</code> <code>Optional[int]</code> <p>Optional column index containing open interest (reserved for future use)</p> <code>None</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with option chains and standardized column names</p> <p>Raises:</p> Type Description <code>FileNotFoundError</code> <p>If CSV file doesn't exist at specified path</p> <code>ValueError</code> <p>If CSV file is empty, has parsing errors, column mapping errors,        or other data processing issues</p>"},{"location":"api-reference/#single-leg-strategies","title":"Single-Leg Strategies","text":"<p>Note</p> <p>All single-leg strategies accept the same parameters. See Common Parameters for full documentation.</p>"},{"location":"api-reference/#long_calls","title":"long_calls","text":""},{"location":"api-reference/#optopsy.strategies.long_calls","title":"optopsy.strategies.long_calls","text":"<pre><code>long_calls(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate long call strategy statistics.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters (see StrategyParams)</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with long call strategy performance statistics</p>"},{"location":"api-reference/#short_calls","title":"short_calls","text":""},{"location":"api-reference/#optopsy.strategies.short_calls","title":"optopsy.strategies.short_calls","text":"<pre><code>short_calls(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate short call strategy statistics.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with short call strategy performance statistics</p>"},{"location":"api-reference/#long_puts","title":"long_puts","text":""},{"location":"api-reference/#optopsy.strategies.long_puts","title":"optopsy.strategies.long_puts","text":"<pre><code>long_puts(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate long put strategy statistics.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with long put strategy performance statistics</p>"},{"location":"api-reference/#short_puts","title":"short_puts","text":""},{"location":"api-reference/#optopsy.strategies.short_puts","title":"optopsy.strategies.short_puts","text":"<pre><code>short_puts(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate short put strategy statistics.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with short put strategy performance statistics</p>"},{"location":"api-reference/#straddles-strangles","title":"Straddles &amp; Strangles","text":"<p>Note</p> <p>All straddle/strangle strategies accept the same parameters. See Common Parameters for full documentation.</p>"},{"location":"api-reference/#long_straddles","title":"long_straddles","text":""},{"location":"api-reference/#optopsy.strategies.long_straddles","title":"optopsy.strategies.long_straddles","text":"<pre><code>long_straddles(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate long straddle strategy statistics (long call + long put at same strike).</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with long straddle strategy performance statistics</p>"},{"location":"api-reference/#short_straddles","title":"short_straddles","text":""},{"location":"api-reference/#optopsy.strategies.short_straddles","title":"optopsy.strategies.short_straddles","text":"<pre><code>short_straddles(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate short straddle strategy statistics (short call + short put at same strike).</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with short straddle strategy performance statistics</p>"},{"location":"api-reference/#long_strangles","title":"long_strangles","text":""},{"location":"api-reference/#optopsy.strategies.long_strangles","title":"optopsy.strategies.long_strangles","text":"<pre><code>long_strangles(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate long strangle strategy statistics (long call + long put at different strikes).</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with long strangle strategy performance statistics</p>"},{"location":"api-reference/#short_strangles","title":"short_strangles","text":""},{"location":"api-reference/#optopsy.strategies.short_strangles","title":"optopsy.strategies.short_strangles","text":"<pre><code>short_strangles(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate short strangle strategy statistics (short call + short put at different strikes).</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with short strangle strategy performance statistics</p>"},{"location":"api-reference/#vertical-spreads","title":"Vertical Spreads","text":"<p>Note</p> <p>All vertical spread strategies accept the same parameters. See Common Parameters for full documentation.</p>"},{"location":"api-reference/#long_call_spread","title":"long_call_spread","text":""},{"location":"api-reference/#optopsy.strategies.long_call_spread","title":"optopsy.strategies.long_call_spread","text":"<pre><code>long_call_spread(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate long call spread (bull call spread) statistics.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with long call spread strategy performance statistics</p>"},{"location":"api-reference/#short_call_spread","title":"short_call_spread","text":""},{"location":"api-reference/#optopsy.strategies.short_call_spread","title":"optopsy.strategies.short_call_spread","text":"<pre><code>short_call_spread(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate short call spread (bear call spread) statistics.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with short call spread strategy performance statistics</p>"},{"location":"api-reference/#long_put_spread","title":"long_put_spread","text":""},{"location":"api-reference/#optopsy.strategies.long_put_spread","title":"optopsy.strategies.long_put_spread","text":"<pre><code>long_put_spread(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate long put spread (bear put spread) statistics.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with long put spread strategy performance statistics</p>"},{"location":"api-reference/#short_put_spread","title":"short_put_spread","text":""},{"location":"api-reference/#optopsy.strategies.short_put_spread","title":"optopsy.strategies.short_put_spread","text":"<pre><code>short_put_spread(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate short put spread (bull put spread) statistics.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with short put spread strategy performance statistics</p>"},{"location":"api-reference/#butterfly-spreads","title":"Butterfly Spreads","text":"<p>Note</p> <p>All butterfly strategies accept the same parameters. See Common Parameters for full documentation.</p>"},{"location":"api-reference/#long_call_butterfly","title":"long_call_butterfly","text":""},{"location":"api-reference/#optopsy.strategies.long_call_butterfly","title":"optopsy.strategies.long_call_butterfly","text":"<pre><code>long_call_butterfly(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate long call butterfly strategy statistics.</p> <p>A long call butterfly consists of: - Long 1 call at lower strike (wing) - Short 2 calls at middle strike (body) - Long 1 call at upper strike (wing)</p> <p>This is a neutral strategy that profits when the underlying stays near the middle strike at expiration. Maximum profit occurs at the middle strike.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with long call butterfly strategy performance statistics</p>"},{"location":"api-reference/#short_call_butterfly","title":"short_call_butterfly","text":""},{"location":"api-reference/#optopsy.strategies.short_call_butterfly","title":"optopsy.strategies.short_call_butterfly","text":"<pre><code>short_call_butterfly(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate short call butterfly strategy statistics.</p> <p>A short call butterfly consists of: - Short 1 call at lower strike (wing) - Long 2 calls at middle strike (body) - Short 1 call at upper strike (wing)</p> <p>This strategy profits when the underlying moves significantly away from the middle strike in either direction.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with short call butterfly strategy performance statistics</p>"},{"location":"api-reference/#long_put_butterfly","title":"long_put_butterfly","text":""},{"location":"api-reference/#optopsy.strategies.long_put_butterfly","title":"optopsy.strategies.long_put_butterfly","text":"<pre><code>long_put_butterfly(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate long put butterfly strategy statistics.</p> <p>A long put butterfly consists of: - Long 1 put at lower strike (wing) - Short 2 puts at middle strike (body) - Long 1 put at upper strike (wing)</p> <p>This is a neutral strategy that profits when the underlying stays near the middle strike at expiration. Maximum profit occurs at the middle strike.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with long put butterfly strategy performance statistics</p>"},{"location":"api-reference/#short_put_butterfly","title":"short_put_butterfly","text":""},{"location":"api-reference/#optopsy.strategies.short_put_butterfly","title":"optopsy.strategies.short_put_butterfly","text":"<pre><code>short_put_butterfly(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate short put butterfly strategy statistics.</p> <p>A short put butterfly consists of: - Short 1 put at lower strike (wing) - Long 2 puts at middle strike (body) - Short 1 put at upper strike (wing)</p> <p>This strategy profits when the underlying moves significantly away from the middle strike in either direction.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with short put butterfly strategy performance statistics</p>"},{"location":"api-reference/#iron-strategies","title":"Iron Strategies","text":"<p>Note</p> <p>All iron strategies accept the same parameters. See Common Parameters for full documentation.</p>"},{"location":"api-reference/#iron_condor","title":"iron_condor","text":""},{"location":"api-reference/#optopsy.strategies.iron_condor","title":"optopsy.strategies.iron_condor","text":"<pre><code>iron_condor(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate iron condor strategy statistics.</p> <p>An iron condor consists of: - Long 1 put at lowest strike (protection) - Short 1 put at lower-middle strike (income) - Short 1 call at upper-middle strike (income) - Long 1 call at highest strike (protection)</p> <p>This is a neutral income strategy that profits when the underlying stays between the two short strikes. Maximum profit is the net credit received.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with iron condor strategy performance statistics</p>"},{"location":"api-reference/#reverse_iron_condor","title":"reverse_iron_condor","text":""},{"location":"api-reference/#optopsy.strategies.reverse_iron_condor","title":"optopsy.strategies.reverse_iron_condor","text":"<pre><code>reverse_iron_condor(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate reverse iron condor strategy statistics.</p> <p>A reverse iron condor consists of: - Short 1 put at lowest strike - Long 1 put at lower-middle strike - Long 1 call at upper-middle strike - Short 1 call at highest strike</p> <p>This strategy profits when the underlying makes a significant move in either direction.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with reverse iron condor strategy performance statistics</p>"},{"location":"api-reference/#iron_butterfly","title":"iron_butterfly","text":""},{"location":"api-reference/#optopsy.strategies.iron_butterfly","title":"optopsy.strategies.iron_butterfly","text":"<pre><code>iron_butterfly(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate iron butterfly strategy statistics.</p> <p>An iron butterfly consists of: - Long 1 put at lowest strike (wing) - Short 1 put at middle strike (body) - Short 1 call at middle strike (body) - same strike as short put - Long 1 call at highest strike (wing)</p> <p>This is a neutral income strategy with higher profit potential than an iron condor, but a narrower profit zone. Maximum profit occurs when the underlying is exactly at the middle strike at expiration.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with iron butterfly strategy performance statistics</p>"},{"location":"api-reference/#reverse_iron_butterfly","title":"reverse_iron_butterfly","text":""},{"location":"api-reference/#optopsy.strategies.reverse_iron_butterfly","title":"optopsy.strategies.reverse_iron_butterfly","text":"<pre><code>reverse_iron_butterfly(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate reverse iron butterfly strategy statistics.</p> <p>A reverse iron butterfly consists of: - Short 1 put at lowest strike (wing) - Long 1 put at middle strike (body) - Long 1 call at middle strike (body) - same strike as long put - Short 1 call at highest strike (wing)</p> <p>This strategy profits when the underlying makes a significant move away from the middle strike in either direction.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with reverse iron butterfly strategy performance statistics</p>"},{"location":"api-reference/#covered-strategies","title":"Covered Strategies","text":"<p>Note</p> <p>All covered strategies accept the same parameters. See Common Parameters for full documentation.</p>"},{"location":"api-reference/#covered_call","title":"covered_call","text":""},{"location":"api-reference/#optopsy.strategies.covered_call","title":"optopsy.strategies.covered_call","text":"<pre><code>covered_call(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate covered call strategy statistics.</p> <p>A covered call consists of: - Long underlying position (simulated via long deep ITM call) - Short 1 call at higher strike</p> <p>This is an income strategy that profits from time decay on the short call while maintaining upside exposure up to the short strike. The long deep ITM call acts as a synthetic long stock position.</p> <p>Note: This implementation uses a synthetic approach with options only. For true covered call analysis with actual stock positions, additional data integration would be required.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with covered call strategy performance statistics</p>"},{"location":"api-reference/#protective_put","title":"protective_put","text":""},{"location":"api-reference/#optopsy.strategies.protective_put","title":"optopsy.strategies.protective_put","text":"<pre><code>protective_put(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate protective put (married put) strategy statistics.</p> <p>A protective put consists of: - Long underlying position (simulated via long deep ITM call) - Long 1 put at lower strike for protection</p> <p>This strategy provides downside protection while maintaining upside potential. The long deep ITM call acts as a synthetic long stock position.</p> <p>Note: This implementation uses a synthetic approach with options only.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with protective put strategy performance statistics</p>"},{"location":"api-reference/#calendar-spreads","title":"Calendar Spreads","text":"<p>Note</p> <p>Calendar spreads have additional timing parameters (<code>front_dte_min</code>, <code>front_dte_max</code>, <code>back_dte_min</code>, <code>back_dte_max</code>) in addition to common parameters. See Common Parameters and Calendar/Diagonal Parameters for full documentation.</p>"},{"location":"api-reference/#long_call_calendar","title":"long_call_calendar","text":""},{"location":"api-reference/#optopsy.strategies.long_call_calendar","title":"optopsy.strategies.long_call_calendar","text":"<pre><code>long_call_calendar(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate long call calendar spread strategy statistics.</p> <p>A long call calendar consists of: - Short 1 front-month call (near-term expiration) - Long 1 back-month call (longer-term expiration) - Both at the same strike</p> <p>This is a neutral strategy that profits from time decay differential between the two expirations. Maximum profit occurs when the underlying is at the strike price at front-month expiration.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters including: - front_dte_min: Minimum DTE for front leg (default: 20) - front_dte_max: Maximum DTE for front leg (default: 40) - back_dte_min: Minimum DTE for back leg (default: 50) - back_dte_max: Maximum DTE for back leg (default: 90) - exit_dte: Days before front expiration to exit (default: 7)</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with long call calendar spread strategy performance statistics</p>"},{"location":"api-reference/#short_call_calendar","title":"short_call_calendar","text":""},{"location":"api-reference/#optopsy.strategies.short_call_calendar","title":"optopsy.strategies.short_call_calendar","text":"<pre><code>short_call_calendar(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate short call calendar spread strategy statistics.</p> <p>A short call calendar consists of: - Long 1 front-month call (near-term expiration) - Short 1 back-month call (longer-term expiration) - Both at the same strike</p> <p>This strategy profits when the underlying moves significantly away from the strike price before front-month expiration.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with short call calendar spread strategy performance statistics</p>"},{"location":"api-reference/#long_put_calendar","title":"long_put_calendar","text":""},{"location":"api-reference/#optopsy.strategies.long_put_calendar","title":"optopsy.strategies.long_put_calendar","text":"<pre><code>long_put_calendar(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate long put calendar spread strategy statistics.</p> <p>A long put calendar consists of: - Short 1 front-month put (near-term expiration) - Long 1 back-month put (longer-term expiration) - Both at the same strike</p> <p>This is a neutral strategy that profits from time decay differential between the two expirations.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with long put calendar spread strategy performance statistics</p>"},{"location":"api-reference/#short_put_calendar","title":"short_put_calendar","text":""},{"location":"api-reference/#optopsy.strategies.short_put_calendar","title":"optopsy.strategies.short_put_calendar","text":"<pre><code>short_put_calendar(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate short put calendar spread strategy statistics.</p> <p>A short put calendar consists of: - Long 1 front-month put (near-term expiration) - Short 1 back-month put (longer-term expiration) - Both at the same strike</p> <p>This strategy profits when the underlying moves significantly away from the strike price before front-month expiration.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with short put calendar spread strategy performance statistics</p>"},{"location":"api-reference/#diagonal-spreads","title":"Diagonal Spreads","text":"<p>Note</p> <p>Diagonal spreads have additional timing parameters (<code>front_dte_min</code>, <code>front_dte_max</code>, <code>back_dte_min</code>, <code>back_dte_max</code>) in addition to common parameters. See Common Parameters and Calendar/Diagonal Parameters for full documentation.</p>"},{"location":"api-reference/#long_call_diagonal","title":"long_call_diagonal","text":""},{"location":"api-reference/#optopsy.strategies.long_call_diagonal","title":"optopsy.strategies.long_call_diagonal","text":"<pre><code>long_call_diagonal(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate long call diagonal spread strategy statistics.</p> <p>A long call diagonal consists of: - Short 1 front-month call (near-term expiration) - Long 1 back-month call (longer-term expiration) - Different strikes for each leg</p> <p>This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with long call diagonal spread strategy performance statistics</p>"},{"location":"api-reference/#short_call_diagonal","title":"short_call_diagonal","text":""},{"location":"api-reference/#optopsy.strategies.short_call_diagonal","title":"optopsy.strategies.short_call_diagonal","text":"<pre><code>short_call_diagonal(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate short call diagonal spread strategy statistics.</p> <p>A short call diagonal consists of: - Long 1 front-month call (near-term expiration) - Short 1 back-month call (longer-term expiration) - Different strikes for each leg</p> <p>This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with short call diagonal spread strategy performance statistics</p>"},{"location":"api-reference/#long_put_diagonal","title":"long_put_diagonal","text":""},{"location":"api-reference/#optopsy.strategies.long_put_diagonal","title":"optopsy.strategies.long_put_diagonal","text":"<pre><code>long_put_diagonal(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate long put diagonal spread strategy statistics.</p> <p>A long put diagonal consists of: - Short 1 front-month put (near-term expiration) - Long 1 back-month put (longer-term expiration) - Different strikes for each leg</p> <p>This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with long put diagonal spread strategy performance statistics</p>"},{"location":"api-reference/#short_put_diagonal","title":"short_put_diagonal","text":""},{"location":"api-reference/#optopsy.strategies.short_put_diagonal","title":"optopsy.strategies.short_put_diagonal","text":"<pre><code>short_put_diagonal(\n    data: DataFrame, **kwargs: Unpack[StrategyParams]\n) -&gt; pd.DataFrame\n</code></pre> <p>Generate short put diagonal spread strategy statistics.</p> <p>A short put diagonal consists of: - Long 1 front-month put (near-term expiration) - Short 1 back-month put (longer-term expiration) - Different strikes for each leg</p> <p>This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated.</p> <p>Parameters:</p> Name Type Description Default <code>data</code> <code>DataFrame</code> <p>DataFrame containing option chain data</p> required <code>**kwargs</code> <code>Unpack[StrategyParams]</code> <p>Optional strategy parameters</p> <code>{}</code> <p>Returns:</p> Type Description <code>DataFrame</code> <p>DataFrame with short put diagonal spread strategy performance statistics</p>"},{"location":"api-reference/#common-parameters","title":"Common Parameters","text":"<p>All strategy functions accept these common parameters:</p>"},{"location":"api-reference/#timing-parameters","title":"Timing Parameters","text":"<ul> <li>max_entry_dte (int, default=90): Maximum days to expiration at entry</li> <li>exit_dte (int, default=0): Days to expiration at exit</li> <li>dte_interval (int, default=7): Grouping interval for DTE ranges</li> </ul>"},{"location":"api-reference/#filtering-parameters","title":"Filtering Parameters","text":"<ul> <li>max_otm_pct (float, default=0.5): Maximum out-of-the-money percentage</li> <li>otm_pct_interval (float, default=0.05): Grouping interval for OTM ranges</li> <li>min_bid_ask (float, default=0.05): Minimum bid-ask spread filter</li> </ul>"},{"location":"api-reference/#greeks-parameters","title":"Greeks Parameters","text":"<ul> <li>delta_min (float, optional): Minimum delta filter</li> <li>delta_max (float, optional): Maximum delta filter</li> <li>delta_interval (float, optional): Grouping interval for delta ranges</li> </ul>"},{"location":"api-reference/#slippage-parameters","title":"Slippage Parameters","text":"<ul> <li>slippage (str, default='mid'): Slippage mode - 'mid', 'spread', or 'liquidity'</li> <li>fill_ratio (float, default=0.5): Fill ratio for liquidity mode (0.0-1.0)</li> <li>reference_volume (int, default=1000): Volume threshold for liquid options</li> </ul>"},{"location":"api-reference/#output-parameters","title":"Output Parameters","text":"<ul> <li>raw (bool, default=False): Return raw trade data instead of aggregated stats</li> <li>drop_nan (bool, default=True): Drop rows with NaN values</li> </ul>"},{"location":"api-reference/#calendardiagonal-parameters","title":"Calendar/Diagonal Parameters","text":"<p>These strategies have additional timing parameters:</p> <ul> <li>front_dte_min (int, default=20): Minimum DTE for front leg</li> <li>front_dte_max (int, default=40): Maximum DTE for front leg</li> <li>back_dte_min (int, default=50): Minimum DTE for back leg</li> <li>back_dte_max (int, default=90): Maximum DTE for back leg</li> </ul>"},{"location":"api-reference/#return-values","title":"Return Values","text":""},{"location":"api-reference/#aggregated-results-default","title":"Aggregated Results (default)","text":"<p>When <code>raw=False</code> (default), strategies return aggregated statistics:</p> <p>Columns: - <code>dte_range</code>: DTE interval group - <code>otm_pct_range</code>: OTM percentage interval group - <code>count</code>: Number of trades in group - <code>mean</code>: Mean return - <code>std</code>: Standard deviation of returns - <code>min</code>: Minimum return - <code>25%</code>: 25th percentile - <code>50%</code>: Median return - <code>75%</code>: 75th percentile - <code>max</code>: Maximum return</p>"},{"location":"api-reference/#raw-trade-data","title":"Raw Trade Data","text":"<p>When <code>raw=True</code>, strategies return individual trade details:</p> <p>Columns (vary by strategy): - <code>underlying_symbol</code>: Ticker symbol - <code>expiration</code>: Option expiration date - <code>dte_entry</code>: Days to expiration at entry - <code>strike</code> / <code>strike_leg1</code>, <code>strike_leg2</code>, etc.: Strike prices - <code>entry</code>: Entry price/cost - <code>exit</code>: Exit price/proceeds - <code>pct_change</code>: Percentage return - Additional strategy-specific columns</p>"},{"location":"api-reference/#examples","title":"Examples","text":"<p>See the Examples page for detailed usage examples.</p>"},{"location":"api-reference/#type-hints","title":"Type Hints","text":"<p>All functions include full type hints with TypedDict for IDE autocomplete support:</p> <pre><code>import pandas as pd\nfrom typing_extensions import Unpack\nfrom optopsy import StrategyParams\n\ndef long_calls(data: pd.DataFrame, **kwargs: Unpack[StrategyParams]) -&gt; pd.DataFrame:\n    ...\n</code></pre>"},{"location":"api-reference/#using-type-hints","title":"Using Type Hints","text":"<p>Import <code>StrategyParams</code> or <code>CalendarStrategyParams</code> for better IDE support:</p> <pre><code>import optopsy as op\nfrom optopsy import StrategyParams\n\n# Your IDE will now provide autocomplete for all parameters\nresults = op.iron_condor(\n    data,\n    max_entry_dte=45,      # Type: int\n    exit_dte=21,           # Type: int\n    slippage='liquidity',  # Type: Literal['mid', 'spread', 'liquidity']\n    fill_ratio=0.5,        # Type: float\n)\n</code></pre> <p>See TYPE_HINTS.md for detailed documentation on using type hints with Optopsy.</p>"},{"location":"contributing/","title":"Contributing to Optopsy","text":"<p>Thank you for your interest in contributing to Optopsy! This guide will help you get started.</p>"},{"location":"contributing/#development-setup","title":"Development Setup","text":""},{"location":"contributing/#1-clone-the-repository","title":"1. Clone the Repository","text":"<pre><code>git clone https://github.com/michaelchu/optopsy.git\ncd optopsy\n</code></pre>"},{"location":"contributing/#2-create-virtual-environment","title":"2. Create Virtual Environment","text":"<pre><code>python -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\n</code></pre>"},{"location":"contributing/#3-install-development-dependencies","title":"3. Install Development Dependencies","text":"<pre><code>pip install -e .\npip install pytest black\n</code></pre>"},{"location":"contributing/#4-verify-installation","title":"4. Verify Installation","text":"<pre><code>pytest tests/ -v\n</code></pre>"},{"location":"contributing/#development-workflow","title":"Development Workflow","text":""},{"location":"contributing/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\npytest tests/ -v\n\n# Run specific test file\npytest tests/test_strategies.py -v\n\n# Run tests matching a pattern\npytest tests/ -k \"butterfly\" -v\n</code></pre>"},{"location":"contributing/#code-formatting","title":"Code Formatting","text":"<p>Optopsy uses Black for code formatting:</p> <pre><code># Check formatting\nblack --check optopsy/ tests/ setup.py\n\n# Auto-format code\nblack optopsy/ tests/ setup.py\n</code></pre> <p>Important: All code must be formatted with Black before submitting a PR.</p>"},{"location":"contributing/#adding-a-new-strategy","title":"Adding a New Strategy","text":"<p>Follow these steps to add a new options strategy:</p>"},{"location":"contributing/#1-define-strategy-in-strategiespy","title":"1. Define Strategy in <code>strategies.py</code>","text":"<p>Add a public function and helper if needed:</p> <pre><code>def new_strategy(data: pd.DataFrame, **kwargs: Any) -&gt; pd.DataFrame:\n    \"\"\"\n    Generate new strategy statistics.\n\n    A clear description of what this strategy does, including:\n    - Leg composition\n    - Market outlook\n    - Profit/loss characteristics\n\n    Args:\n        data: DataFrame containing option chain data\n        **kwargs: Optional strategy parameters\n\n    Returns:\n        DataFrame with strategy performance statistics\n    \"\"\"\n    return _helper(data, leg_def=[...], **kwargs)\n</code></pre>"},{"location":"contributing/#2-add-validation-rules-if-needed","title":"2. Add Validation Rules (if needed)","text":"<p>If your strategy has strike constraints, add them to <code>rules.py</code>:</p> <pre><code>def _rule_new_strategy_strikes(df: pd.DataFrame) -&gt; pd.DataFrame:\n    \"\"\"\n    Validate strike ordering for new strategy.\n\n    Rule: [Describe your rule here]\n    \"\"\"\n    # Implementation\n    return df[mask]\n</code></pre>"},{"location":"contributing/#3-update-column-definitions-if-needed","title":"3. Update Column Definitions (if needed)","text":"<p>If your strategy needs new column structures, add them to <code>definitions.py</code>:</p> <pre><code>new_strategy_internal_cols: List[str] = [\n    \"underlying_symbol\",\n    \"strike_leg1\",\n    # ... other columns\n]\n</code></pre>"},{"location":"contributing/#4-export-in-__init__py","title":"4. Export in <code>__init__.py</code>","text":"<p>Add your strategy to the exports:</p> <pre><code>from .strategies import (\n    # ... existing strategies\n    new_strategy,\n)\n\n__all__ = [\n    # ... existing strategies\n    \"new_strategy\",\n]\n</code></pre>"},{"location":"contributing/#5-add-tests","title":"5. Add Tests","text":"<p>Create tests in <code>tests/test_strategies.py</code>:</p> <pre><code>def test_new_strategy(sample_data):\n    \"\"\"Test new strategy returns expected output.\"\"\"\n    results = op.new_strategy(sample_data)\n\n    assert isinstance(results, pd.DataFrame)\n    assert len(results) &gt; 0\n    assert 'mean' in results.columns\n    # Additional assertions\n</code></pre>"},{"location":"contributing/#6-update-documentation","title":"6. Update Documentation","text":"<p>Add documentation to the appropriate strategy category file in <code>docs/strategies/</code>.</p>"},{"location":"contributing/#pull-request-guidelines","title":"Pull Request Guidelines","text":""},{"location":"contributing/#before-submitting","title":"Before Submitting","text":"<ul> <li>[ ] All tests pass (<code>pytest tests/ -v</code>)</li> <li>[ ] Code is formatted with Black (<code>black optopsy/ tests/</code>)</li> <li>[ ] New features have tests</li> <li>[ ] New strategies have documentation</li> <li>[ ] Docstrings follow existing style (Google format)</li> <li>[ ] Type hints are included</li> </ul>"},{"location":"contributing/#pr-description","title":"PR Description","text":"<p>Include in your PR description: - What changes you made - Why you made them - How to test the changes - Any breaking changes</p>"},{"location":"contributing/#example-pr-template","title":"Example PR Template","text":"<pre><code>## Description\nBrief description of changes\n\n## Type of Change\n- [ ] Bug fix\n- [ ] New feature\n- [ ] Breaking change\n- [ ] Documentation update\n\n## Testing\nHow to test these changes\n\n## Checklist\n- [ ] Tests pass\n- [ ] Code formatted with Black\n- [ ] Documentation updated\n- [ ] Type hints included\n</code></pre>"},{"location":"contributing/#code-style-guidelines","title":"Code Style Guidelines","text":""},{"location":"contributing/#docstrings","title":"Docstrings","text":"<p>Use Google-style docstrings:</p> <pre><code>def function_name(param1: str, param2: int) -&gt; bool:\n    \"\"\"\n    Brief description of function.\n\n    Longer description if needed, explaining behavior,\n    edge cases, or important details.\n\n    Args:\n        param1: Description of param1\n        param2: Description of param2\n\n    Returns:\n        Description of return value\n\n    Raises:\n        ValueError: When param1 is invalid\n    \"\"\"\n    pass\n</code></pre>"},{"location":"contributing/#type-hints","title":"Type Hints","text":"<p>Always include type hints:</p> <pre><code>from typing import Any, Dict, List\nimport pandas as pd\n\ndef process_data(\n    data: pd.DataFrame,\n    params: Dict[str, Any]\n) -&gt; List[pd.DataFrame]:\n    ...\n</code></pre>"},{"location":"contributing/#function-naming","title":"Function Naming","text":"<ul> <li>Public functions: <code>snake_case</code> (e.g., <code>long_calls</code>)</li> <li>Private functions: <code>_snake_case</code> (e.g., <code>_process_strategy</code>)</li> <li>Constants: <code>UPPER_CASE</code> (rarely used)</li> </ul>"},{"location":"contributing/#testing-guidelines","title":"Testing Guidelines","text":""},{"location":"contributing/#test-structure","title":"Test Structure","text":"<pre><code>def test_feature_name(sample_data):\n    \"\"\"Test that feature behaves correctly.\"\"\"\n    # Arrange\n    expected_result = ...\n\n    # Act\n    actual_result = function_under_test(sample_data)\n\n    # Assert\n    assert actual_result == expected_result\n</code></pre>"},{"location":"contributing/#fixtures","title":"Fixtures","text":"<p>Use pytest fixtures for common test data:</p> <pre><code>@pytest.fixture\ndef sample_data():\n    \"\"\"Generate sample options data for testing.\"\"\"\n    return pd.DataFrame({...})\n</code></pre>"},{"location":"contributing/#coverage","title":"Coverage","text":"<p>Aim for high test coverage on public APIs. Not every internal function needs tests, but all public strategy functions should be tested.</p>"},{"location":"contributing/#documentation","title":"Documentation","text":""},{"location":"contributing/#building-docs-locally","title":"Building Docs Locally","text":"<pre><code># Install MkDocs\npip install mkdocs mkdocs-material mkdocstrings[python]\n\n# Serve docs locally\nmkdocs serve\n\n# Visit http://127.0.0.1:8000\n</code></pre>"},{"location":"contributing/#documentation-structure","title":"Documentation Structure","text":"<ul> <li><code>docs/index.md</code> - Home page</li> <li><code>docs/getting-started.md</code> - Installation and quick start</li> <li><code>docs/strategies/</code> - Strategy-specific documentation</li> <li><code>docs/parameters.md</code> - Parameter reference</li> <li><code>docs/examples.md</code> - Usage examples</li> <li><code>docs/api-reference.md</code> - Auto-generated API docs</li> </ul>"},{"location":"contributing/#reporting-issues","title":"Reporting Issues","text":""},{"location":"contributing/#bug-reports","title":"Bug Reports","text":"<p>Include: - Python version - Optopsy version - Minimal reproducible example - Expected vs actual behavior - Error messages/tracebacks</p>"},{"location":"contributing/#feature-requests","title":"Feature Requests","text":"<p>Describe: - The problem you're trying to solve - How you envision the solution - Any alternatives you've considered - Whether you're willing to contribute the feature</p>"},{"location":"contributing/#community","title":"Community","text":"<ul> <li>GitHub Issues: Bug reports and feature requests</li> <li>Discussions: Questions and general discussion</li> <li>Pull Requests: Code contributions</li> </ul>"},{"location":"contributing/#license","title":"License","text":"<p>By contributing to Optopsy, you agree that your contributions will be licensed under the GPL-3.0 License.</p>"},{"location":"contributing/#questions","title":"Questions?","text":"<p>If you have questions about contributing, feel free to: - Open a GitHub Discussion - Create an issue with the \"question\" label - Check existing issues and documentation</p> <p>Thank you for contributing to Optopsy! \ud83c\udf89</p>"},{"location":"examples/","title":"Examples","text":"<p>This page provides real-world examples of using Optopsy for options backtesting.</p>"},{"location":"examples/#basic-examples","title":"Basic Examples","text":""},{"location":"examples/#simple-long-calls-backtest","title":"Simple Long Calls Backtest","text":"<pre><code>import optopsy as op\n\n# Load data\ndata = op.csv_data('SPX_2023.csv')\n\n# Backtest long calls\nresults = op.long_calls(data)\n\nprint(results.head())\n</code></pre>"},{"location":"examples/#iron-condor-with-custom-parameters","title":"Iron Condor with Custom Parameters","text":"<pre><code>results = op.iron_condor(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.25,\n    min_bid_ask=0.10\n)\n\n# Filter for best performing DTE ranges\nbest_dte = results[results['mean'] &gt; 0.20]\nprint(best_dte)\n</code></pre>"},{"location":"examples/#advanced-examples","title":"Advanced Examples","text":""},{"location":"examples/#delta-neutral-iron-condors","title":"Delta-Neutral Iron Condors","text":"<p>Target specific delta ranges for short strikes:</p> <pre><code>results = op.iron_condor(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    delta_min=0.15,  # Target 15-20 delta\n    delta_max=0.20,\n    delta_interval=0.05,\n    min_bid_ask=0.10\n)\n\n# Analyze by delta ranges\nprint(results.groupby('delta_range')['mean'].describe())\n</code></pre>"},{"location":"examples/#earnings-straddle-strategy","title":"Earnings Straddle Strategy","text":"<p>Backtest long straddles around earnings events:</p> <pre><code># Load earnings dates\nearnings_dates = ['2023-01-15', '2023-04-15', '2023-07-15', '2023-10-15']\n\n# Filter data around earnings (\u00b17 days)\nimport pandas as pd\ndata['quote_date'] = pd.to_datetime(data['quote_date'])\n\nearnings_data = []\nfor date in pd.to_datetime(earnings_dates):\n    mask = (data['quote_date'] &gt;= date - pd.Timedelta(days=7)) &amp; \\\n           (data['quote_date'] &lt;= date + pd.Timedelta(days=7))\n    earnings_data.append(data[mask])\n\nearnings_df = pd.concat(earnings_data)\n\n# Backtest straddles\nresults = op.long_straddles(\n    earnings_df,\n    max_entry_dte=7,  # Enter 1 week before\n    exit_dte=0,       # Hold through earnings\n    max_otm_pct=0.05  # ATM straddles\n)\n\nprint(results)\n</code></pre>"},{"location":"examples/#time-decay-analysis","title":"Time Decay Analysis","text":"<p>Compare different exit times for short strangles:</p> <pre><code>exit_times = [0, 7, 14, 21, 30]\nresults_by_exit = {}\n\nfor exit_dte in exit_times:\n    results = op.short_strangles(\n        data,\n        max_entry_dte=45,\n        exit_dte=exit_dte,\n        max_otm_pct=0.30\n    )\n    results_by_exit[exit_dte] = results['mean'].mean()\n\n# Plot results\nimport matplotlib.pyplot as plt\nplt.bar(exit_times, results_by_exit.values())\nplt.xlabel('Exit DTE')\nplt.ylabel('Mean Return')\nplt.title('Short Strangle Returns by Exit Time')\nplt.show()\n</code></pre>"},{"location":"examples/#slippage-comparison","title":"Slippage Comparison","text":"<p>Compare different slippage models:</p> <pre><code>slippage_modes = ['mid', 'spread', 'liquidity']\nresults_comparison = {}\n\nfor mode in slippage_modes:\n    results = op.iron_condor(\n        data,\n        max_entry_dte=45,\n        exit_dte=21,\n        slippage=mode,\n        fill_ratio=0.5,\n        reference_volume=1000\n    )\n    results_comparison[mode] = results['mean'].mean()\n\nprint(\"Slippage Model Comparison:\")\nfor mode, avg_return in results_comparison.items():\n    print(f\"{mode}: {avg_return:.2%}\")\n</code></pre>"},{"location":"examples/#data-analysis-examples","title":"Data Analysis Examples","text":""},{"location":"examples/#raw-trade-data-analysis","title":"Raw Trade Data Analysis","text":"<p>Get individual trades for custom analysis:</p> <pre><code># Get raw trade data\ntrades = op.iron_condor(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    raw=True  # Return individual trades\n)\n\n# Custom analysis\nimport pandas as pd\n\n# Win rate\nwin_rate = (trades['pct_change'] &gt; 0).mean()\nprint(f\"Win Rate: {win_rate:.1%}\")\n\n# Average winner vs loser\navg_winner = trades[trades['pct_change'] &gt; 0]['pct_change'].mean()\navg_loser = trades[trades['pct_change'] &lt; 0]['pct_change'].mean()\nprint(f\"Avg Winner: {avg_winner:.2%}\")\nprint(f\"Avg Loser: {avg_loser:.2%}\")\n\n# Profit factor\ntotal_profit = trades[trades['pct_change'] &gt; 0]['pct_change'].sum()\ntotal_loss = abs(trades[trades['pct_change'] &lt; 0]['pct_change'].sum())\nprofit_factor = total_profit / total_loss if total_loss &gt; 0 else float('inf')\nprint(f\"Profit Factor: {profit_factor:.2f}\")\n</code></pre>"},{"location":"examples/#monthly-performance","title":"Monthly Performance","text":"<p>Analyze strategy performance by month:</p> <pre><code>trades = op.short_puts(data, raw=True)\n\n# Convert to datetime\ntrades['entry_date'] = pd.to_datetime(trades['quote_date'])\ntrades['month'] = trades['entry_date'].dt.to_period('M')\n\n# Group by month\nmonthly_perf = trades.groupby('month').agg({\n    'pct_change': ['count', 'mean', 'std', 'sum']\n})\n\nprint(monthly_perf)\n</code></pre>"},{"location":"examples/#strike-selection-analysis","title":"Strike Selection Analysis","text":"<p>Analyze performance by OTM percentage:</p> <pre><code>results = op.short_puts(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.50,\n    otm_pct_interval=0.05\n)\n\n# Find optimal OTM range\noptimal = results.loc[results['mean'].idxmax()]\nprint(f\"Optimal OTM Range: {optimal['otm_pct_range']}\")\nprint(f\"Mean Return: {optimal['mean']:.2%}\")\nprint(f\"Count: {optimal['count']:.0f}\")\n</code></pre>"},{"location":"examples/#multi-strategy-comparison","title":"Multi-Strategy Comparison","text":"<p>Compare multiple strategies:</p> <pre><code>strategies = {\n    'Long Calls': op.long_calls,\n    'Short Puts': op.short_puts,\n    'Iron Condor': op.iron_condor,\n    'Long Straddle': op.long_straddles\n}\n\ncomparison = {}\nfor name, strategy_func in strategies.items():\n    results = strategy_func(\n        data,\n        max_entry_dte=45,\n        exit_dte=21\n    )\n    comparison[name] = {\n        'mean': results['mean'].mean(),\n        'std': results['std'].mean(),\n        'max': results['max'].max(),\n        'min': results['min'].min()\n    }\n\n# Display comparison\ndf_comparison = pd.DataFrame(comparison).T\nprint(df_comparison)\n</code></pre>"},{"location":"examples/#portfolio-simulation","title":"Portfolio Simulation","text":"<p>Simulate a portfolio of multiple strategies:</p> <pre><code># Define portfolio allocation\nportfolio = {\n    'iron_condor': 0.50,\n    'short_strangles': 0.30,\n    'long_call_spread': 0.20\n}\n\n# Get raw trades for each strategy\ntrades = {}\ntrades['iron_condor'] = op.iron_condor(data, raw=True)\ntrades['short_strangles'] = op.short_strangles(data, raw=True)\ntrades['long_call_spread'] = op.long_call_spread(data, raw=True)\n\n# Weight returns by allocation\nfor strategy, weight in portfolio.items():\n    trades[strategy]['weighted_return'] = trades[strategy]['pct_change'] * weight\n\n# Combine all trades\nall_trades = pd.concat([\n    trades[s][['quote_date', 'weighted_return']]\n    for s in portfolio.keys()\n])\n\n# Aggregate by date\nportfolio_returns = all_trades.groupby('quote_date')['weighted_return'].sum()\n\nprint(f\"Portfolio Mean Return: {portfolio_returns.mean():.2%}\")\nprint(f\"Portfolio Std Dev: {portfolio_returns.std():.2%}\")\nprint(f\"Sharpe Ratio (annualized): {(portfolio_returns.mean() / portfolio_returns.std()) * (252**0.5):.2f}\")\n</code></pre>"},{"location":"examples/#performance-metrics","title":"Performance Metrics","text":"<p>Calculate comprehensive performance statistics:</p> <pre><code>def calculate_metrics(trades_df):\n    \"\"\"Calculate performance metrics for a strategy.\"\"\"\n    returns = trades_df['pct_change']\n\n    metrics = {\n        'Total Trades': len(returns),\n        'Win Rate': (returns &gt; 0).mean(),\n        'Mean Return': returns.mean(),\n        'Median Return': returns.median(),\n        'Std Dev': returns.std(),\n        'Max Win': returns.max(),\n        'Max Loss': returns.min(),\n        'Profit Factor': returns[returns &gt; 0].sum() / abs(returns[returns &lt; 0].sum()),\n        'Sharpe Ratio': returns.mean() / returns.std() if returns.std() &gt; 0 else 0\n    }\n\n    return pd.Series(metrics)\n\n# Apply to strategy\ntrades = op.iron_condor(data, raw=True)\nmetrics = calculate_metrics(trades)\nprint(metrics)\n</code></pre>"},{"location":"examples/#working-with-different-data-sources","title":"Working with Different Data Sources","text":""},{"location":"examples/#historical-options-data-providers","title":"Historical Options Data Providers","text":"<pre><code># Example: Loading from different CSV formats\n\n# Format 1: CBOE data export\ndata = op.csv_data(\n    'cboe_spx.csv',\n    underlying_symbol='underlying_symbol',\n    underlying_price='underlying_bid_1545',\n    option_type='option_type',\n    expiration='expiration',\n    quote_date='quote_date',\n    strike='strike',\n    bid='bid',\n    ask='ask'\n)\n\n# Format 2: Indexed columns\ndata = op.csv_data(\n    'provider_data.csv',\n    underlying_symbol=0,\n    underlying_price=1,\n    option_type=2,\n    expiration=3,\n    quote_date=4,\n    strike=5,\n    bid=6,\n    ask=7\n)\n</code></pre>"},{"location":"examples/#best-practices","title":"Best Practices","text":""},{"location":"examples/#1-always-use-filters","title":"1. Always Use Filters","text":"<pre><code># Bad: No filtering\nresults = op.iron_condor(data)\n\n# Good: Filtered for quality\nresults = op.iron_condor(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    min_bid_ask=0.10,  # Ensure liquidity\n    max_otm_pct=0.30\n)\n</code></pre>"},{"location":"examples/#2-compare-apples-to-apples","title":"2. Compare Apples to Apples","text":"<pre><code># Use same parameters when comparing strategies\nparams = {\n    'max_entry_dte': 45,\n    'exit_dte': 21,\n    'max_otm_pct': 0.25\n}\n\nic_results = op.iron_condor(data, **params)\nstrangle_results = op.short_strangles(data, **params)\n</code></pre>"},{"location":"examples/#3-realistic-slippage","title":"3. Realistic Slippage","text":"<pre><code># Use liquidity mode for realistic results\nresults = op.iron_condor(\n    data,\n    slippage='liquidity',\n    fill_ratio=0.5,\n    reference_volume=1000\n)\n</code></pre>"},{"location":"examples/#next-steps","title":"Next Steps","text":"<ul> <li>Review Strategy documentation for specific strategy details</li> <li>Check Parameters for all configuration options</li> <li>See API Reference for function signatures</li> <li>Explore the <code>samples/</code> directory in the repository for more examples</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This guide will walk you through setting up Optopsy and running your first backtest.</p>"},{"location":"getting-started/#installation","title":"Installation","text":"<p>Install Optopsy using pip:</p> <pre><code>pip install optopsy\n</code></pre>"},{"location":"getting-started/#requirements","title":"Requirements","text":"<ul> <li>Python 3.8 or higher</li> <li>Pandas 2.0 or higher</li> <li>NumPy 1.26 or higher</li> </ul>"},{"location":"getting-started/#data-format","title":"Data Format","text":"<p>Optopsy requires historical options chain data with the following columns:</p> Column Description Example <code>underlying_symbol</code> Ticker symbol SPX, SPY, QQQ <code>underlying_price</code> Stock/index price 4500.00 <code>option_type</code> Call or Put 'c', 'p', 'call', 'put' <code>expiration</code> Option expiration date 2023-01-20 <code>quote_date</code> Date of the quote 2023-01-01 <code>strike</code> Strike price 4500 <code>bid</code> Bid price 10.50 <code>ask</code> Ask price 11.00"},{"location":"getting-started/#optional-columns-for-greeks-filtering","title":"Optional Columns for Greeks Filtering","text":"Column Description <code>delta</code> Option delta <code>gamma</code> Option gamma <code>theta</code> Option theta <code>vega</code> Option vega <code>volume</code> Trading volume <code>open_interest</code> Open interest"},{"location":"getting-started/#loading-data","title":"Loading Data","text":""},{"location":"getting-started/#from-csv","title":"From CSV","text":"<p>Use <code>csv_data()</code> to load options data from a CSV file:</p> <pre><code>import optopsy as op\n\ndata = op.csv_data(\n    'options_data.csv',\n    underlying_symbol=0,      # Column index or name\n    underlying_price=1,\n    option_type=2,\n    expiration=3,\n    quote_date=4,\n    strike=5,\n    bid=6,\n    ask=7\n)\n</code></pre> <p>The function accepts either: - Column indices (integers): Position of each column - Column names (strings): Header names from your CSV</p>"},{"location":"getting-started/#from-dataframe","title":"From DataFrame","text":"<p>If you already have a pandas DataFrame, ensure it has the required columns:</p> <pre><code>import pandas as pd\nimport optopsy as op\n\n# Your existing DataFrame\ndf = pd.read_csv('options_data.csv')\n\n# Rename columns to match Optopsy's expected format\ndf = df.rename(columns={\n    'Symbol': 'underlying_symbol',\n    'UnderlyingPrice': 'underlying_price',\n    'Type': 'option_type',\n    'Expiration': 'expiration',\n    'QuoteDate': 'quote_date',\n    'Strike': 'strike',\n    'Bid': 'bid',\n    'Ask': 'ask'\n})\n\n# Now you can use it directly\nresults = op.long_calls(df)\n</code></pre>"},{"location":"getting-started/#running-your-first-backtest","title":"Running Your First Backtest","text":""},{"location":"getting-started/#example-long-calls","title":"Example: Long Calls","text":"<p>Let's backtest a simple long call strategy:</p> <pre><code>import optopsy as op\n\n# Load data\ndata = op.csv_data('SPX_2023.csv')\n\n# Run backtest with default parameters\nresults = op.long_calls(data)\n\nprint(results)\n</code></pre>"},{"location":"getting-started/#example-with-custom-parameters","title":"Example with Custom Parameters","text":"<p>Customize the backtest parameters:</p> <pre><code>results = op.long_calls(\n    data,\n    max_entry_dte=60,        # Enter with 60 days to expiration\n    exit_dte=30,             # Exit at 30 DTE\n    dte_interval=7,          # Group results by 7-day intervals\n    max_otm_pct=0.20,        # Maximum 20% out-of-the-money\n    otm_pct_interval=0.05,   # Group by 5% OTM intervals\n    min_bid_ask=0.10         # Minimum $0.10 bid-ask spread\n)\n\nprint(results.head())\n</code></pre>"},{"location":"getting-started/#understanding-the-output","title":"Understanding the Output","text":""},{"location":"getting-started/#aggregated-results-default","title":"Aggregated Results (Default)","text":"<p>By default, strategies return aggregated statistics grouped by DTE and OTM% ranges:</p> <pre><code>results = op.long_calls(data)\nprint(results.columns)\n# ['dte_range', 'otm_pct_range', 'count', 'mean', 'std', 'min', '25%', '50%', '75%', 'max']\n</code></pre> <p>Example output:</p> dte_range otm_pct_range count mean std min 50% max (0, 7] (0.0, 0.05] 1250 0.23 0.45 -1.0 0.15 2.8 (0, 7] (0.05, 0.10] 980 0.18 0.52 -1.0 0.10 3.2"},{"location":"getting-started/#raw-trade-data","title":"Raw Trade Data","text":"<p>Get individual trade details by setting <code>raw=True</code>:</p> <pre><code>results = op.long_calls(data, raw=True)\nprint(results.columns)\n# ['underlying_symbol', 'expiration', 'dte_entry', 'strike', 'entry', 'exit', 'pct_change', ...]\n</code></pre> <p>This gives you every individual trade for custom analysis.</p>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ul> <li>Explore all 28 strategies</li> <li>Learn about strategy parameters</li> <li>See more examples with Greeks filtering and slippage</li> <li>Read the API Reference for detailed function documentation</li> </ul>"},{"location":"getting-started/#common-issues","title":"Common Issues","text":""},{"location":"getting-started/#date-format-errors","title":"Date Format Errors","text":"<p>If you encounter date parsing errors, ensure your dates are in a standard format: - ISO format: <code>2023-01-20</code> - US format: <code>01/20/2023</code> - European format: <code>20/01/2023</code></p> <p>The <code>csv_data()</code> function will attempt to auto-detect date formats.</p>"},{"location":"getting-started/#missing-columns","title":"Missing Columns","text":"<p>If you see a \"KeyError\" for a column, check that: 1. The column exists in your data 2. You've specified the correct column index or name in <code>csv_data()</code> 3. Column names match exactly (case-sensitive)</p>"},{"location":"getting-started/#empty-results","title":"Empty Results","text":"<p>If your backtest returns no results: - Check your parameter ranges (DTE, OTM%, etc.) - Verify your data covers the time period you're testing - Ensure bid/ask spreads meet the <code>min_bid_ask</code> threshold</p>"},{"location":"parameters/","title":"Strategy Parameters","text":"<p>All Optopsy strategies accept a common set of parameters for filtering, grouping, and output formatting. This guide covers all available parameters and their usage.</p>"},{"location":"parameters/#core-parameters","title":"Core Parameters","text":""},{"location":"parameters/#entry-and-exit-timing","title":"Entry and Exit Timing","text":""},{"location":"parameters/#max_entry_dte","title":"<code>max_entry_dte</code>","text":"<p>Type: <code>int</code> | Default: <code>90</code></p> <p>Maximum days to expiration at strategy entry.</p> <pre><code>results = op.iron_condor(data, max_entry_dte=45)  # Enter at 45 DTE or less\n</code></pre> <p>Use Cases: - <code>max_entry_dte=30</code> - Short-term trades - <code>max_entry_dte=60</code> - Medium-term trades - <code>max_entry_dte=90</code> - Longer-term positions</p>"},{"location":"parameters/#exit_dte","title":"<code>exit_dte</code>","text":"<p>Type: <code>int</code> | Default: <code>0</code></p> <p>Days to expiration when the strategy exits. Use <code>0</code> to hold until expiration.</p> <pre><code>results = op.long_calls(data, max_entry_dte=60, exit_dte=30)  # Exit at 30 DTE\n</code></pre> <p>Use Cases: - <code>exit_dte=0</code> - Hold to expiration - <code>exit_dte=21</code> - Exit 3 weeks before expiration - <code>exit_dte=7</code> - Exit 1 week before expiration</p>"},{"location":"parameters/#filtering-parameters","title":"Filtering Parameters","text":""},{"location":"parameters/#max_otm_pct","title":"<code>max_otm_pct</code>","text":"<p>Type: <code>float</code> | Default: <code>0.5</code></p> <p>Maximum out-of-the-money percentage for option selection.</p> <pre><code>results = op.short_puts(data, max_otm_pct=0.20)  # Max 20% OTM\n</code></pre> <p>Examples: - <code>0.05</code> - Near ATM options (5% OTM max) - <code>0.20</code> - Moderately OTM (20% OTM max) - <code>0.50</code> - Wide range (50% OTM max)</p> <p>Calculation: <pre><code># For calls: (strike - underlying_price) / underlying_price\n# For puts: (underlying_price - strike) / underlying_price\n</code></pre></p>"},{"location":"parameters/#min_bid_ask","title":"<code>min_bid_ask</code>","text":"<p>Type: <code>float</code> | Default: <code>0.05</code></p> <p>Minimum bid-ask spread required for option liquidity.</p> <pre><code>results = op.iron_condor(data, min_bid_ask=0.10)  # Require $0.10+ spread\n</code></pre> <p>Use Cases: - <code>0.05</code> - Less liquid underlyings - <code>0.10</code> - Standard liquidity requirement - <code>0.20</code> - High liquidity requirement (SPX, SPY)</p>"},{"location":"parameters/#grouping-and-aggregation","title":"Grouping and Aggregation","text":""},{"location":"parameters/#dte_interval","title":"<code>dte_interval</code>","text":"<p>Type: <code>int</code> | Default: <code>7</code></p> <p>Interval for grouping results by DTE ranges.</p> <pre><code>results = op.long_calls(data, dte_interval=14)  # Group by 14-day buckets\n</code></pre> <p>Examples: - <code>7</code> - Weekly groupings: (0,7], (7,14], (14,21], ... - <code>14</code> - Bi-weekly groupings: (0,14], (14,28], ... - <code>30</code> - Monthly groupings: (0,30], (30,60], ...</p>"},{"location":"parameters/#otm_pct_interval","title":"<code>otm_pct_interval</code>","text":"<p>Type: <code>float</code> | Default: <code>0.05</code></p> <p>Interval for grouping results by OTM percentage ranges.</p> <pre><code>results = op.short_strangles(data, otm_pct_interval=0.10)  # 10% OTM buckets\n</code></pre> <p>Examples: - <code>0.05</code> - Fine-grained: (0.0, 0.05], (0.05, 0.10], ... - <code>0.10</code> - Coarse buckets: (0.0, 0.10], (0.10, 0.20], ...</p>"},{"location":"parameters/#output-control","title":"Output Control","text":""},{"location":"parameters/#raw","title":"<code>raw</code>","text":"<p>Type: <code>bool</code> | Default: <code>False</code></p> <p>Return raw trade data instead of aggregated statistics.</p> <pre><code># Aggregated statistics (default)\nresults = op.iron_condor(data, raw=False)\n# Output: ['dte_range', 'otm_pct_range', 'count', 'mean', 'std', ...]\n\n# Raw trade data\ntrades = op.iron_condor(data, raw=True)\n# Output: ['expiration', 'strike_leg1', 'strike_leg2', 'entry', 'exit', 'pct_change', ...]\n</code></pre> <p>Use Cases: - <code>raw=False</code> - Performance statistics, backtesting results - <code>raw=True</code> - Custom analysis, detailed inspection, debugging</p>"},{"location":"parameters/#drop_nan","title":"<code>drop_nan</code>","text":"<p>Type: <code>bool</code> | Default: <code>True</code></p> <p>Drop rows with NaN values in the results.</p> <pre><code>results = op.long_calls(data, drop_nan=False)  # Keep NaN values\n</code></pre>"},{"location":"parameters/#greeks-parameters","title":"Greeks Parameters","text":""},{"location":"parameters/#delta-filtering","title":"Delta Filtering","text":""},{"location":"parameters/#delta_min-delta_max","title":"<code>delta_min</code> / <code>delta_max</code>","text":"<p>Type: <code>float</code> | Default: <code>None</code></p> <p>Filter options by delta range.</p> <pre><code># Target 30-delta options\nresults = op.short_puts(\n    data,\n    delta_min=0.25,\n    delta_max=0.35\n)\n</code></pre> <p>Common Delta Ranges: - <code>0.15-0.20</code> - 1 standard deviation OTM (~15-20% probability ITM) - <code>0.25-0.35</code> - Popular for credit spreads - <code>0.40-0.50</code> - Near-the-money options - <code>0.50+</code> - In-the-money options</p> <p>Note: Requires <code>delta</code> column in your data.</p>"},{"location":"parameters/#delta_interval","title":"<code>delta_interval</code>","text":"<p>Type: <code>float</code> | Default: <code>None</code></p> <p>Group results by delta ranges.</p> <pre><code>results = op.iron_condor(\n    data,\n    delta_interval=0.10  # Group by: (0.0,0.1], (0.1,0.2], etc.\n)\n</code></pre>"},{"location":"parameters/#slippage-parameters","title":"Slippage Parameters","text":""},{"location":"parameters/#slippage","title":"<code>slippage</code>","text":"<p>Type: <code>str</code> | Default: <code>'mid'</code></p> <p>Slippage model for fill price calculation.</p> <pre><code>results = op.long_calls(data, slippage='liquidity')\n</code></pre> <p>Options:</p> Mode Description Buy Fill Sell Fill Best For <code>'mid'</code> Mid-price between bid/ask (bid+ask)/2 (bid+ask)/2 Ideal/optimistic <code>'spread'</code> Worst-case spread Ask Bid Conservative <code>'liquidity'</code> Volume-based dynamic Dynamic Dynamic Realistic"},{"location":"parameters/#fill_ratio-liquidity-mode-only","title":"<code>fill_ratio</code> (Liquidity Mode Only)","text":"<p>Type: <code>float</code> | Default: <code>0.5</code></p> <p>Base fill ratio for liquidity-based slippage (0.0 = bid/ask, 1.0 = ask/bid).</p> <pre><code>results = op.iron_condor(\n    data,\n    slippage='liquidity',\n    fill_ratio=0.3  # More conservative fill (30% through spread)\n)\n</code></pre> <p>Examples: - <code>0.0</code> - Worst case (buy at ask, sell at bid) - <code>0.5</code> - Mid-point (default) - <code>1.0</code> - Best case (buy at bid, sell at ask - unrealistic)</p>"},{"location":"parameters/#reference_volume-liquidity-mode-only","title":"<code>reference_volume</code> (Liquidity Mode Only)","text":"<p>Type: <code>int</code> | Default: <code>1000</code></p> <p>Volume threshold for determining liquid options in liquidity mode.</p> <pre><code>results = op.short_strangles(\n    data,\n    slippage='liquidity',\n    reference_volume=5000  # Higher threshold for SPX\n)\n</code></pre> <p>Guidelines: - <code>500-1000</code> - Less liquid underlyings - <code>1000-2000</code> - Standard liquidity (default) - <code>5000+</code> - Highly liquid (SPX, SPY, QQQ)</p> <p>Note: Requires <code>volume</code> or <code>open_interest</code> column in your data.</p>"},{"location":"parameters/#calendar-diagonal-parameters","title":"Calendar &amp; Diagonal Parameters","text":"<p>Calendar and diagonal spreads use different timing parameters:</p>"},{"location":"parameters/#front_dte_min-front_dte_max","title":"<code>front_dte_min</code> / <code>front_dte_max</code>","text":"<p>Type: <code>int</code> | Default: <code>20</code> / <code>40</code></p> <p>DTE range for the front-month leg.</p> <pre><code>results = op.long_call_calendar(\n    data,\n    front_dte_min=25,\n    front_dte_max=35  # Front leg between 25-35 DTE\n)\n</code></pre>"},{"location":"parameters/#back_dte_min-back_dte_max","title":"<code>back_dte_min</code> / <code>back_dte_max</code>","text":"<p>Type: <code>int</code> | Default: <code>50</code> / <code>90</code></p> <p>DTE range for the back-month leg.</p> <pre><code>results = op.long_call_diagonal(\n    data,\n    back_dte_min=60,\n    back_dte_max=120  # Back leg between 60-120 DTE\n)\n</code></pre>"},{"location":"parameters/#complete-example","title":"Complete Example","text":"<p>Combining multiple parameters:</p> <pre><code>import optopsy as op\n\ndata = op.csv_data('SPX_options.csv')\n\nresults = op.iron_condor(\n    data,\n    # Timing\n    max_entry_dte=45,\n    exit_dte=21,\n\n    # Filtering\n    max_otm_pct=0.30,\n    min_bid_ask=0.15,\n    delta_min=0.15,\n    delta_max=0.20,\n\n    # Grouping\n    dte_interval=7,\n    otm_pct_interval=0.05,\n    delta_interval=0.05,\n\n    # Slippage\n    slippage='liquidity',\n    fill_ratio=0.5,\n    reference_volume=5000,\n\n    # Output\n    raw=False,\n    drop_nan=True\n)\n\nprint(results.head())\n</code></pre>"},{"location":"parameters/#default-values-reference","title":"Default Values Reference","text":""},{"location":"parameters/#standard-strategies","title":"Standard Strategies","text":"<pre><code>default_kwargs = {\n    \"dte_interval\": 7,\n    \"max_entry_dte\": 90,\n    \"exit_dte\": 0,\n    \"otm_pct_interval\": 0.05,\n    \"max_otm_pct\": 0.5,\n    \"min_bid_ask\": 0.05,\n    \"drop_nan\": True,\n    \"raw\": False,\n    \"delta_min\": None,\n    \"delta_max\": None,\n    \"delta_interval\": None,\n    \"slippage\": \"mid\",\n    \"fill_ratio\": 0.5,\n    \"reference_volume\": 1000,\n}\n</code></pre>"},{"location":"parameters/#calendar-diagonal-strategies","title":"Calendar &amp; Diagonal Strategies","text":"<pre><code>calendar_default_kwargs = {\n    \"front_dte_min\": 20,\n    \"front_dte_max\": 40,\n    \"back_dte_min\": 50,\n    \"back_dte_max\": 90,\n    \"exit_dte\": 7,\n    \"dte_interval\": 7,\n    \"otm_pct_interval\": 0.05,\n    \"max_otm_pct\": 0.5,\n    \"min_bid_ask\": 0.05,\n    \"drop_nan\": True,\n    \"raw\": False,\n    \"slippage\": \"mid\",\n    \"fill_ratio\": 0.5,\n    \"reference_volume\": 1000,\n}\n</code></pre>"},{"location":"parameters/#next-steps","title":"Next Steps","text":"<ul> <li>See Examples for real-world parameter usage</li> <li>Explore Strategies to understand strategy-specific considerations</li> <li>Review API Reference for function signatures</li> </ul>"},{"location":"strategies/","title":"Strategy Overview","text":"<p>Optopsy includes 28 built-in options strategies covering single-leg, multi-leg, and time-based strategies.</p>"},{"location":"strategies/#strategy-categories","title":"Strategy Categories","text":""},{"location":"strategies/#single-leg-strategies-4","title":"Single-Leg Strategies (4)","text":"<p>Basic directional plays with calls or puts.</p> <ul> <li>Long Calls - Bullish directional bet</li> <li>Short Calls - Bearish or neutral income</li> <li>Long Puts - Bearish directional bet</li> <li>Short Puts - Bullish income strategy</li> </ul> <p>Learn more \u2192</p>"},{"location":"strategies/#straddles-strangles-4","title":"Straddles &amp; Strangles (4)","text":"<p>Volatility-based strategies combining calls and puts.</p> <ul> <li>Long Straddle - Profit from big moves</li> <li>Short Straddle - Income from low volatility</li> <li>Long Strangle - Lower-cost volatility play</li> <li>Short Strangle - Wider profit zone income</li> </ul> <p>Learn more \u2192</p>"},{"location":"strategies/#vertical-spreads-4","title":"Vertical Spreads (4)","text":"<p>Limited-risk directional strategies.</p> <ul> <li>Long Call Spread - Bullish debit spread</li> <li>Short Call Spread - Bearish credit spread</li> <li>Long Put Spread - Bearish debit spread</li> <li>Short Put Spread - Bullish credit spread</li> </ul> <p>Learn more \u2192</p>"},{"location":"strategies/#butterfly-spreads-4","title":"Butterfly Spreads (4)","text":"<p>Neutral strategies targeting specific price ranges.</p> <ul> <li>Long Call Butterfly - Profit at middle strike</li> <li>Short Call Butterfly - Profit from movement</li> <li>Long Put Butterfly - Bearish butterfly</li> <li>Short Put Butterfly - Inverse put butterfly</li> </ul> <p>Learn more \u2192</p>"},{"location":"strategies/#iron-strategies-4","title":"Iron Strategies (4)","text":"<p>Four-leg strategies with defined risk.</p> <ul> <li>Iron Condor - Range-bound income</li> <li>Reverse Iron Condor - Breakout play</li> <li>Iron Butterfly - Tighter profit zone</li> <li>Reverse Iron Butterfly - Long volatility</li> </ul> <p>Learn more \u2192</p>"},{"location":"strategies/#covered-strategies-2","title":"Covered Strategies (2)","text":"<p>Stock + option combinations (synthetic).</p> <ul> <li>Covered Call - Income on stock holdings</li> <li>Protective Put - Downside insurance</li> </ul> <p>Learn more \u2192</p>"},{"location":"strategies/#calendar-spreads-4","title":"Calendar Spreads (4)","text":"<p>Same strike, different expirations.</p> <ul> <li>Long Call Calendar - Time decay play</li> <li>Short Call Calendar - Opposite calendar</li> <li>Long Put Calendar - Bearish time spread</li> <li>Short Put Calendar - Reverse put calendar</li> </ul> <p>Learn more \u2192</p>"},{"location":"strategies/#diagonal-spreads-4","title":"Diagonal Spreads (4)","text":"<p>Different strikes and expirations.</p> <ul> <li>Long Call Diagonal - Hybrid spread</li> <li>Short Call Diagonal - Reverse call diagonal</li> <li>Long Put Diagonal - Bearish diagonal</li> <li>Short Put Diagonal - Bullish diagonal</li> </ul> <p>Learn more \u2192</p>"},{"location":"strategies/#quick-reference-table","title":"Quick Reference Table","text":"Strategy Legs Market View Max Profit Max Loss Example Use Long Call 1 Bullish Unlimited Premium paid Betting on rally Short Put 1 Bullish Premium received Substantial Income generation Iron Condor 4 Neutral Net credit Difference in strikes Range-bound markets Long Straddle 2 High volatility Unlimited Premiums paid Before earnings Call Butterfly 3 Neutral Width of wing Net debit Pinning at strike Call Calendar 2 Neutral Variable Net debit Time decay play"},{"location":"strategies/#strategy-selection-guide","title":"Strategy Selection Guide","text":""},{"location":"strategies/#if-you-think-the-market-will","title":"If you think the market will...","text":"<p>Go Up Significantly - Long Calls - Long Call Spread</p> <p>Go Down Significantly - Long Puts - Long Put Spread</p> <p>Stay Flat - Short Straddle - Short Strangle - Iron Condor - Iron Butterfly</p> <p>Move But Unsure Direction - Long Straddle - Long Strangle</p> <p>Stay Near Current Price - Calendar Spreads - Butterflies</p>"},{"location":"strategies/#by-riskreward-profile","title":"By Risk/Reward Profile","text":"<p>Limited Risk, Limited Reward - All spreads (vertical, butterfly, iron condor)</p> <p>Limited Risk, Unlimited Reward - Long calls/puts - Long straddles/strangles</p> <p>Substantial Risk, Limited Reward - Short calls/puts - Short straddles/strangles</p>"},{"location":"strategies/#common-parameters","title":"Common Parameters","text":"<p>All strategies accept these common parameters:</p> <ul> <li><code>max_entry_dte</code> - Maximum days to expiration at entry</li> <li><code>exit_dte</code> - Days to expiration at exit</li> <li><code>dte_interval</code> - Grouping interval for results</li> <li><code>max_otm_pct</code> - Maximum out-of-the-money percentage</li> <li><code>otm_pct_interval</code> - Grouping interval for OTM%</li> <li><code>min_bid_ask</code> - Minimum bid-ask spread filter</li> <li><code>raw</code> - Return raw trade data (default: aggregated stats)</li> </ul> <p>See the Parameters Guide for complete details.</p>"},{"location":"strategies/#next-steps","title":"Next Steps","text":"<ul> <li>Dive into specific strategy categories</li> <li>Learn about strategy parameters</li> <li>See examples of real backtests</li> <li>Check the API Reference for function signatures</li> </ul>"},{"location":"strategies/butterflies/","title":"Butterfly Spreads","text":"<p>Butterfly spreads are three-leg strategies designed to profit when the underlying stays near a specific price. They offer defined risk and defined reward with neutral market outlooks.</p>"},{"location":"strategies/butterflies/#long-call-butterfly","title":"Long Call Butterfly","text":""},{"location":"strategies/butterflies/#description","title":"Description","text":"<p>Profits when the underlying stays at the middle strike at expiration.</p> <p>Composition: - Long 1 call at lower strike (wing) - Short 2 calls at middle strike (body) - Long 1 call at upper strike (wing)</p>"},{"location":"strategies/butterflies/#example","title":"Example","text":"<pre><code>import optopsy as op\nresults = op.long_call_butterfly(data, max_entry_dte=45, exit_dte=21)\n</code></pre>"},{"location":"strategies/butterflies/#short-call-butterfly","title":"Short Call Butterfly","text":""},{"location":"strategies/butterflies/#description_1","title":"Description","text":"<p>Profits when the underlying moves away from the middle strike in either direction.</p> <p>Composition: - Short 1 call at lower strike - Long 2 calls at middle strike - Short 1 call at upper strike</p>"},{"location":"strategies/butterflies/#example_1","title":"Example","text":"<pre><code>results = op.short_call_butterfly(data, max_entry_dte=30, exit_dte=7)\n</code></pre>"},{"location":"strategies/butterflies/#long-put-butterfly","title":"Long Put Butterfly","text":""},{"location":"strategies/butterflies/#description_2","title":"Description","text":"<p>Similar to long call butterfly but using puts. Profits at middle strike.</p> <p>Composition: - Long 1 put at lower strike (wing) - Short 2 puts at middle strike (body) - Long 1 put at upper strike (wing)</p>"},{"location":"strategies/butterflies/#example_2","title":"Example","text":"<pre><code>results = op.long_put_butterfly(data, max_entry_dte=45, exit_dte=21)\n</code></pre>"},{"location":"strategies/butterflies/#short-put-butterfly","title":"Short Put Butterfly","text":""},{"location":"strategies/butterflies/#description_3","title":"Description","text":"<p>Profits when the underlying moves significantly away from the middle strike.</p> <p>Composition: - Short 1 put at lower strike - Long 2 puts at middle strike - Short 1 put at upper strike</p>"},{"location":"strategies/butterflies/#example_3","title":"Example","text":"<pre><code>results = op.short_put_butterfly(data, max_entry_dte=30, exit_dte=7)\n</code></pre>"},{"location":"strategies/butterflies/#key-characteristics","title":"Key Characteristics","text":"<ul> <li>Equal Wing Width: Wings are equidistant from the body</li> <li>Low Cost: Often entered for small debit or even credit</li> <li>Defined Risk: Maximum loss is limited to debit paid</li> <li>High Precision: Profits in narrow range around middle strike</li> </ul>"},{"location":"strategies/calendars/","title":"Calendar Spreads","text":"<p>Calendar spreads (also called time spreads or horizontal spreads) use options with the same strike but different expiration dates. They profit from time decay differential and changes in implied volatility.</p>"},{"location":"strategies/calendars/#long-call-calendar","title":"Long Call Calendar","text":""},{"location":"strategies/calendars/#description","title":"Description","text":"<p>Sell a near-term call and buy a longer-term call at the same strike. Profits from time decay and volatility expansion in the back month.</p> <p>Composition: - Short 1 front-month call (near expiration) - Long 1 back-month call (longer expiration) - Both at the same strike</p>"},{"location":"strategies/calendars/#example","title":"Example","text":"<pre><code>import optopsy as op\n\nresults = op.long_call_calendar(\n    data,\n    front_dte_min=20,\n    front_dte_max=40,\n    back_dte_min=50,\n    back_dte_max=90,\n    exit_dte=7  # Exit 7 days before front expiration\n)\n</code></pre>"},{"location":"strategies/calendars/#use-cases","title":"Use Cases","text":"<ul> <li>Neutral markets near the strike</li> <li>Expecting volatility increase</li> <li>Time decay plays</li> </ul>"},{"location":"strategies/calendars/#short-call-calendar","title":"Short Call Calendar","text":""},{"location":"strategies/calendars/#description_1","title":"Description","text":"<p>Buy the near-term call, sell the longer-term call. Profits from significant movement away from strike.</p> <p>Composition: - Long 1 front-month call - Short 1 back-month call - Both at the same strike</p>"},{"location":"strategies/calendars/#example_1","title":"Example","text":"<pre><code>results = op.short_call_calendar(\n    data,\n    front_dte_min=20,\n    front_dte_max=40,\n    back_dte_min=50,\n    back_dte_max=90\n)\n</code></pre>"},{"location":"strategies/calendars/#long-put-calendar","title":"Long Put Calendar","text":""},{"location":"strategies/calendars/#description_2","title":"Description","text":"<p>Similar to long call calendar but with puts. Profits from neutral price action at the strike.</p> <p>Composition: - Short 1 front-month put - Long 1 back-month put - Both at the same strike</p>"},{"location":"strategies/calendars/#example_2","title":"Example","text":"<pre><code>results = op.long_put_calendar(data)\n</code></pre>"},{"location":"strategies/calendars/#short-put-calendar","title":"Short Put Calendar","text":""},{"location":"strategies/calendars/#description_3","title":"Description","text":"<p>Opposite of long put calendar. Profits from movement away from strike.</p> <p>Composition: - Long 1 front-month put - Short 1 back-month put - Both at the same strike</p>"},{"location":"strategies/calendars/#example_3","title":"Example","text":"<pre><code>results = op.short_put_calendar(data)\n</code></pre>"},{"location":"strategies/calendars/#key-parameters","title":"Key Parameters","text":"<p>Calendar spreads use different default parameters:</p> <pre><code>calendar_default_kwargs = {\n    \"front_dte_min\": 20,      # Min DTE for front leg\n    \"front_dte_max\": 40,      # Max DTE for front leg\n    \"back_dte_min\": 50,       # Min DTE for back leg\n    \"back_dte_max\": 90,       # Max DTE for back leg\n    \"exit_dte\": 7,            # Exit 7 days before front expiration\n    \"dte_interval\": 7,\n    \"otm_pct_interval\": 0.05,\n    \"max_otm_pct\": 0.5,\n}\n</code></pre>"},{"location":"strategies/calendars/#best-practices","title":"Best Practices","text":"<ul> <li>Exit before front leg expiration to avoid assignment</li> <li>Target strikes near current price</li> <li>Monitor volatility skew between expirations</li> <li>Consider IV changes in back month</li> </ul>"},{"location":"strategies/covered/","title":"Covered Strategies","text":"<p>Covered strategies combine stock positions with options for income generation or downside protection.</p> <p>Synthetic Implementation</p> <p>Optopsy simulates covered strategies using deep ITM calls as synthetic stock positions, since the library works with options data only.</p>"},{"location":"strategies/covered/#covered-call","title":"Covered Call","text":""},{"location":"strategies/covered/#description","title":"Description","text":"<p>Generate income by selling calls against a long stock position (or synthetic long via deep ITM call).</p> <p>Composition: - Long underlying (simulated via long deep ITM call) - Short 1 call at higher strike</p>"},{"location":"strategies/covered/#example","title":"Example","text":"<pre><code>import optopsy as op\nresults = op.covered_call(data, max_entry_dte=45, exit_dte=21)\n</code></pre>"},{"location":"strategies/covered/#use-cases","title":"Use Cases","text":"<ul> <li>Generate income on stock holdings</li> <li>Willing to sell stock at higher price</li> <li>Neutral to slightly bullish outlook</li> </ul>"},{"location":"strategies/covered/#protective-put","title":"Protective Put (Married Put)","text":""},{"location":"strategies/covered/#description_1","title":"Description","text":"<p>Buy downside protection by purchasing puts against a long stock position.</p> <p>Composition: - Long underlying (simulated via long deep ITM call) - Long 1 put at lower strike for protection</p>"},{"location":"strategies/covered/#example_1","title":"Example","text":"<pre><code>results = op.protective_put(data, max_entry_dte=90, exit_dte=60)\n</code></pre>"},{"location":"strategies/covered/#use-cases_1","title":"Use Cases","text":"<ul> <li>Hedging long stock positions</li> <li>Protection during uncertain periods</li> <li>Portfolio insurance</li> </ul>"},{"location":"strategies/diagonals/","title":"Diagonal Spreads","text":"<p>Diagonal spreads combine elements of vertical spreads and calendar spreads, using different strikes AND different expirations. These hybrid strategies offer flexible profit zones and directional bias.</p>"},{"location":"strategies/diagonals/#long-call-diagonal","title":"Long Call Diagonal","text":""},{"location":"strategies/diagonals/#description","title":"Description","text":"<p>Buy a longer-term call at one strike and sell a shorter-term call at a different strike. Combines time decay and directional movement.</p> <p>Composition: - Short 1 front-month call - Long 1 back-month call - Different strikes for each leg</p>"},{"location":"strategies/diagonals/#example","title":"Example","text":"<pre><code>import optopsy as op\n\nresults = op.long_call_diagonal(\n    data,\n    front_dte_min=20,\n    front_dte_max=40,\n    back_dte_min=50,\n    back_dte_max=90,\n    exit_dte=7\n)\n</code></pre>"},{"location":"strategies/diagonals/#use-cases","title":"Use Cases","text":"<ul> <li>Bullish to neutral bias with income</li> <li>More flexible than calendars</li> <li>Adjustable directional exposure</li> </ul>"},{"location":"strategies/diagonals/#short-call-diagonal","title":"Short Call Diagonal","text":""},{"location":"strategies/diagonals/#description_1","title":"Description","text":"<p>Opposite of long call diagonal. Buy near-term, sell longer-term at different strikes.</p> <p>Composition: - Long 1 front-month call - Short 1 back-month call - Different strikes for each leg</p>"},{"location":"strategies/diagonals/#example_1","title":"Example","text":"<pre><code>results = op.short_call_diagonal(data)\n</code></pre>"},{"location":"strategies/diagonals/#long-put-diagonal","title":"Long Put Diagonal","text":""},{"location":"strategies/diagonals/#description_2","title":"Description","text":"<p>Similar structure to call diagonals but using puts. Allows bearish to neutral positioning.</p> <p>Composition: - Short 1 front-month put - Long 1 back-month put - Different strikes for each leg</p>"},{"location":"strategies/diagonals/#example_2","title":"Example","text":"<pre><code>results = op.long_put_diagonal(data)\n</code></pre>"},{"location":"strategies/diagonals/#short-put-diagonal","title":"Short Put Diagonal","text":""},{"location":"strategies/diagonals/#description_3","title":"Description","text":"<p>Opposite of long put diagonal with reversed expiration dates.</p> <p>Composition: - Long 1 front-month put - Short 1 back-month put - Different strikes for each leg</p>"},{"location":"strategies/diagonals/#example_3","title":"Example","text":"<pre><code>results = op.short_put_diagonal(data)\n</code></pre>"},{"location":"strategies/diagonals/#diagonal-vs-calendar","title":"Diagonal vs Calendar","text":"Feature Calendar Spread Diagonal Spread Strikes Same Different Directional Neutral Can be directional Complexity Simple More complex Flexibility Limited High"},{"location":"strategies/diagonals/#parameters","title":"Parameters","text":"<p>Diagonal spreads use calendar spread parameters but evaluate all strike combinations:</p> <pre><code>results = op.long_call_diagonal(\n    data,\n    front_dte_min=20,\n    front_dte_max=40,\n    back_dte_min=50,\n    back_dte_max=90,\n    max_otm_pct=0.30  # Wider range for strike selection\n)\n</code></pre>"},{"location":"strategies/diagonals/#strategy-tips","title":"Strategy Tips","text":"<ul> <li>Start with calendar, adjust strikes as market moves</li> <li>Monitor both time decay and directional movement</li> <li>More management-intensive than calendars</li> <li>Can convert to vertical spreads or calendars</li> </ul>"},{"location":"strategies/iron-strategies/","title":"Iron Condors &amp; Iron Butterflies","text":"<p>Four-leg strategies that combine credit spreads to create defined-risk, defined-reward positions. These are popular income strategies for neutral to range-bound markets.</p>"},{"location":"strategies/iron-strategies/#iron-condor","title":"Iron Condor","text":""},{"location":"strategies/iron-strategies/#description","title":"Description","text":"<p>An iron condor combines a bull put spread and a bear call spread, creating a wide profit zone. This is one of the most popular credit strategies.</p> <p>Composition: - Long 1 put at strike A (protection) - Short 1 put at strike B (income) - Short 1 call at strike C (income) - Long 1 call at strike D (protection)</p> <p>Where: A &lt; B &lt; C &lt; D</p>"},{"location":"strategies/iron-strategies/#market-outlook","title":"Market Outlook","text":"<ul> <li>Neutral - Expect the underlying to stay between the short strikes</li> <li>Profits if price stays in the range at expiration</li> <li>Ideal for low-volatility, range-bound markets</li> </ul>"},{"location":"strategies/iron-strategies/#profitloss","title":"Profit/Loss","text":"<ul> <li>Maximum Profit: Net credit received</li> <li>Maximum Loss: Width of spread - net credit</li> <li>Breakeven: Short put strike - net credit, Short call strike + net credit</li> </ul>"},{"location":"strategies/iron-strategies/#example","title":"Example","text":"<pre><code>import optopsy as op\n\ndata = op.csv_data('SPX_options.csv')\n\n# Backtest iron condors\nresults = op.iron_condor(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.30,  # Wide wings for high probability\n    min_bid_ask=0.10\n)\n\nprint(results)\n</code></pre>"},{"location":"strategies/iron-strategies/#use-cases","title":"Use Cases","text":"<ul> <li>Income generation in range-bound markets</li> <li>After high IV events (post-earnings IV crush)</li> <li>When you expect low volatility</li> <li>Monthly income strategies (45 DTE entry, 21 DTE exit)</li> </ul>"},{"location":"strategies/iron-strategies/#management-guidelines","title":"Management Guidelines","text":"<ul> <li>Take Profit: Close at 50% of max profit</li> <li>Stop Loss: Close at 200% of credit received or 21 DTE</li> <li>Rolling: Roll untested side if challenged</li> <li>Profit Zone: Typically 60-70% probability of profit</li> </ul>"},{"location":"strategies/iron-strategies/#reverse-iron-condor","title":"Reverse Iron Condor","text":""},{"location":"strategies/iron-strategies/#description_1","title":"Description","text":"<p>The opposite of an iron condor - this strategy profits from large price movements in either direction while defining risk.</p> <p>Composition: - Short 1 put at strike A - Long 1 put at strike B - Long 1 call at strike C - Short 1 call at strike D</p> <p>Where: A &lt; B &lt; C &lt; D</p>"},{"location":"strategies/iron-strategies/#market-outlook_1","title":"Market Outlook","text":"<ul> <li>High Volatility Expected - Anticipate breakout in either direction</li> <li>Profits if price moves significantly beyond inner strikes</li> <li>Defined-risk alternative to long straddles</li> </ul>"},{"location":"strategies/iron-strategies/#profitloss_1","title":"Profit/Loss","text":"<ul> <li>Maximum Profit: Width of spread - net debit</li> <li>Maximum Loss: Net debit paid</li> <li>Breakeven: Long put strike + debit, Long call strike - debit</li> </ul>"},{"location":"strategies/iron-strategies/#example_1","title":"Example","text":"<pre><code>results = op.reverse_iron_condor(\n    data,\n    max_entry_dte=30,\n    exit_dte=0,\n    max_otm_pct=0.25  # Setup for breakout moves\n)\n</code></pre>"},{"location":"strategies/iron-strategies/#use-cases_1","title":"Use Cases","text":"<ul> <li>Before major events expecting big moves</li> <li>Defined-risk volatility plays</li> <li>When you expect a breakout but want limited loss</li> </ul>"},{"location":"strategies/iron-strategies/#iron-butterfly","title":"Iron Butterfly","text":""},{"location":"strategies/iron-strategies/#description_2","title":"Description","text":"<p>An iron butterfly is similar to an iron condor but with the short strikes at the same price (ATM), creating a tighter profit zone with higher potential profit.</p> <p>Composition: - Long 1 put at strike A (wing) - Short 1 put at strike B (body) - Short 1 call at strike B (body) - same as short put - Long 1 call at strike C (wing)</p> <p>Where: A &lt; B &lt; C</p>"},{"location":"strategies/iron-strategies/#market-outlook_2","title":"Market Outlook","text":"<ul> <li>Very Neutral - Expect price to stay at or very near current level</li> <li>Maximum profit if price is exactly at middle strike at expiration</li> <li>Higher reward but narrower profit zone than iron condor</li> </ul>"},{"location":"strategies/iron-strategies/#profitloss_2","title":"Profit/Loss","text":"<ul> <li>Maximum Profit: Net credit received (larger than iron condor)</li> <li>Maximum Loss: Width of wing - net credit</li> <li>Breakeven: Short strike \u00b1 net credit</li> </ul>"},{"location":"strategies/iron-strategies/#example_2","title":"Example","text":"<pre><code>results = op.iron_butterfly(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.05,  # ATM body for maximum credit\n    min_bid_ask=0.15\n)\n</code></pre>"},{"location":"strategies/iron-strategies/#use-cases_2","title":"Use Cases","text":"<ul> <li>Expecting price to pin at a specific level</li> <li>Around major strikes with high open interest</li> <li>When you want higher credit than iron condors</li> <li>Lower probability but higher reward than iron condors</li> </ul>"},{"location":"strategies/iron-strategies/#pin-risk","title":"Pin Risk","text":"<ul> <li>Stock prices tend to pin at strikes with high open interest</li> <li>Iron butterflies benefit from this pinning effect</li> <li>Monitor expiration week price action carefully</li> </ul>"},{"location":"strategies/iron-strategies/#reverse-iron-butterfly","title":"Reverse Iron Butterfly","text":""},{"location":"strategies/iron-strategies/#description_3","title":"Description","text":"<p>The opposite of an iron butterfly - profits from large moves away from the center strike.</p> <p>Composition: - Short 1 put at strike A (wing) - Long 1 put at strike B (body) - Long 1 call at strike B (body) - same as long put - Short 1 call at strike C (wing)</p> <p>Where: A &lt; B &lt; C</p>"},{"location":"strategies/iron-strategies/#market-outlook_3","title":"Market Outlook","text":"<ul> <li>High Volatility - Expect significant move from current price</li> <li>Defined-risk alternative to long straddles</li> <li>Lower cost and defined max loss</li> </ul>"},{"location":"strategies/iron-strategies/#profitloss_3","title":"Profit/Loss","text":"<ul> <li>Maximum Profit: Width of wing - net debit</li> <li>Maximum Loss: Net debit paid</li> <li>Breakeven: Long strike \u00b1 net debit</li> </ul>"},{"location":"strategies/iron-strategies/#example_3","title":"Example","text":"<pre><code>results = op.reverse_iron_butterfly(\n    data,\n    max_entry_dte=30,\n    exit_dte=7,\n    max_otm_pct=0.10\n)\n</code></pre>"},{"location":"strategies/iron-strategies/#use-cases_3","title":"Use Cases","text":"<ul> <li>Before major events (earnings, FDA decisions)</li> <li>When you expect explosive moves</li> <li>Defined-risk alternative to long straddles/strangles</li> </ul>"},{"location":"strategies/iron-strategies/#strategy-comparison","title":"Strategy Comparison","text":"Strategy Profit Zone Max Profit Max Loss Best For Iron Condor Wide range Medium credit Defined Range-bound income Reverse IC Outside range Defined Net debit Breakout plays Iron Butterfly Narrow (at ATM) Higher credit Defined Pinning at strike Reverse Iron Butterfly Away from ATM Defined Net debit Volatility explosion"},{"location":"strategies/iron-strategies/#iron-condor-vs-iron-butterfly","title":"Iron Condor vs Iron Butterfly","text":"<p>Iron Condor: - \u2705 Wider profit zone (60-70% probability) - \u2705 More forgiving if price moves - \u274c Lower credit received - Use when: Moderate confidence in range</p> <p>Iron Butterfly: - \u2705 Higher credit (2-3x more) - \u274c Narrower profit zone (40-50% probability) - \u274c Less forgiving to price movement - Use when: High confidence in pinning</p>"},{"location":"strategies/iron-strategies/#advanced-example-delta-neutral-iron-condors","title":"Advanced Example: Delta-Neutral Iron Condors","text":"<pre><code># Target delta-neutral positioning\nresults = op.iron_condor(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    # Target specific delta for short strikes\n    delta_min=0.15,  # ~15-20 delta short strikes\n    delta_max=0.20,\n    delta_interval=0.05,\n    min_bid_ask=0.10,\n    slippage='liquidity'\n)\n</code></pre>"},{"location":"strategies/iron-strategies/#risk-management-best-practices","title":"Risk Management Best Practices","text":""},{"location":"strategies/iron-strategies/#entry-checklist","title":"Entry Checklist","text":"<ul> <li>[ ] 45 DTE or less (optimal theta decay)</li> <li>[ ] Credit &gt; 1/3 width of spreads</li> <li>[ ] Probability of profit &gt; 60%</li> <li>[ ] Liquid strikes (tight bid-ask spreads)</li> <li>[ ] Defined position size (&lt; 5% of account per trade)</li> </ul>"},{"location":"strategies/iron-strategies/#management-rules","title":"Management Rules","text":"<ol> <li>Take Profit: Close at 50% max profit (21 DTE)</li> <li>Stop Loss: Close at 200-300% of credit or break-even</li> <li>Rolling: Roll down/up untested side if challenged early</li> <li>Expiration: Avoid holding through expiration (pin risk)</li> </ol>"},{"location":"strategies/iron-strategies/#position-sizing","title":"Position Sizing","text":"<ul> <li>Risk no more than 2-5% per trade</li> <li>Iron condors: Width determines risk per contract</li> <li>Example: $5 wide spreads for $2 credit = $300 max risk per IC</li> </ul>"},{"location":"strategies/iron-strategies/#greeks-analysis","title":"Greeks Analysis","text":""},{"location":"strategies/iron-strategies/#iron-condor-greeks","title":"Iron Condor Greeks","text":"<ul> <li>Theta: Positive (time decay helps you)</li> <li>Vega: Negative (want volatility to decrease)</li> <li>Delta: Near zero (neutral position)</li> <li>Gamma: Negative (position against you if price moves)</li> </ul> <p>Optimal Conditions: - High IV \u2192 Sell when IV is elevated - Decreasing volatility \u2192 IV crush benefits position - Time passes \u2192 Theta decay increases profit</p>"},{"location":"strategies/iron-strategies/#common-mistakes-to-avoid","title":"Common Mistakes to Avoid","text":"<ol> <li>Holding Too Long: Exit at 50% profit, don't be greedy</li> <li>Wrong IV Environment: Don't sell when IV is low</li> <li>Too Narrow: Ensure adequate buffer between short strikes</li> <li>Ignoring Adjustments: Have a plan if price threatens strikes</li> <li>Over-Sizing: Respect max loss per position</li> </ol>"},{"location":"strategies/iron-strategies/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Butterfly Spreads for three-leg alternatives</li> <li>Explore Calendar Spreads for time-based strategies</li> <li>See more Examples with risk management</li> <li>Review Parameters for optimization</li> </ul>"},{"location":"strategies/singles/","title":"Single-Leg Strategies","text":"<p>Single-leg strategies involve buying or selling a single call or put option. These are the simplest options strategies and form the building blocks for more complex multi-leg strategies.</p>"},{"location":"strategies/singles/#long-calls","title":"Long Calls","text":""},{"location":"strategies/singles/#description","title":"Description","text":"<p>A long call gives you the right to buy the underlying at the strike price. This is a bullish strategy with unlimited profit potential and limited risk (the premium paid).</p>"},{"location":"strategies/singles/#market-outlook","title":"Market Outlook","text":"<ul> <li>Bullish - Expect significant upward price movement</li> <li>Profits increase as the underlying rises above the strike + premium paid</li> </ul>"},{"location":"strategies/singles/#profitloss","title":"Profit/Loss","text":"<ul> <li>Maximum Profit: Unlimited (underlying price - strike - premium)</li> <li>Maximum Loss: Premium paid (if underlying stays below strike)</li> <li>Breakeven: Strike + premium paid</li> </ul>"},{"location":"strategies/singles/#example","title":"Example","text":"<pre><code>import optopsy as op\n\ndata = op.csv_data('SPX_options.csv')\n\n# Backtest long calls with 30-60 DTE range\nresults = op.long_calls(\n    data,\n    max_entry_dte=60,\n    exit_dte=30,\n    max_otm_pct=0.10  # Slightly OTM calls\n)\n\nprint(results)\n</code></pre>"},{"location":"strategies/singles/#use-cases","title":"Use Cases","text":"<ul> <li>Betting on a strong rally</li> <li>Lower-cost alternative to buying stock</li> <li>Earnings plays expecting a positive surprise</li> <li>Breakout trades</li> </ul>"},{"location":"strategies/singles/#short-calls","title":"Short Calls","text":""},{"location":"strategies/singles/#description_1","title":"Description","text":"<p>A short call obligates you to sell the underlying at the strike if exercised. This is a bearish or neutral income strategy with limited profit and theoretically unlimited risk.</p>"},{"location":"strategies/singles/#market-outlook_1","title":"Market Outlook","text":"<ul> <li>Bearish to Neutral - Expect price to stay flat or decline</li> <li>Profits if the underlying stays below the strike at expiration</li> </ul>"},{"location":"strategies/singles/#profitloss_1","title":"Profit/Loss","text":"<ul> <li>Maximum Profit: Premium received</li> <li>Maximum Loss: Unlimited (underlying price - strike - premium)</li> <li>Breakeven: Strike + premium received</li> </ul>"},{"location":"strategies/singles/#example_1","title":"Example","text":"<pre><code>results = op.short_calls(\n    data,\n    max_entry_dte=45,\n    exit_dte=0,  # Hold to expiration\n    max_otm_pct=0.30  # Sell OTM calls for income\n)\n</code></pre>"},{"location":"strategies/singles/#use-cases_1","title":"Use Cases","text":"<ul> <li>Generating income in neutral/bearish markets</li> <li>Covered call strategies (with stock holdings)</li> <li>High-probability income trades</li> </ul>"},{"location":"strategies/singles/#risk-warning","title":"\u26a0\ufe0f Risk Warning","text":"<p>Short naked calls have unlimited risk if the underlying rises significantly. Consider defined-risk alternatives like call spreads.</p>"},{"location":"strategies/singles/#long-puts","title":"Long Puts","text":""},{"location":"strategies/singles/#description_2","title":"Description","text":"<p>A long put gives you the right to sell the underlying at the strike price. This is a bearish strategy with substantial profit potential and limited risk (the premium paid).</p>"},{"location":"strategies/singles/#market-outlook_2","title":"Market Outlook","text":"<ul> <li>Bearish - Expect significant downward price movement</li> <li>Profits increase as the underlying falls below the strike - premium paid</li> </ul>"},{"location":"strategies/singles/#profitloss_2","title":"Profit/Loss","text":"<ul> <li>Maximum Profit: Strike - premium - 0 (if underlying goes to zero)</li> <li>Maximum Loss: Premium paid (if underlying stays above strike)</li> <li>Breakeven: Strike - premium paid</li> </ul>"},{"location":"strategies/singles/#example_2","title":"Example","text":"<pre><code>results = op.long_puts(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.15  # Moderately OTM puts\n)\n</code></pre>"},{"location":"strategies/singles/#use-cases_2","title":"Use Cases","text":"<ul> <li>Betting on a market decline</li> <li>Portfolio hedging</li> <li>Earnings plays expecting negative news</li> <li>Breakdown trades</li> </ul>"},{"location":"strategies/singles/#short-puts","title":"Short Puts","text":""},{"location":"strategies/singles/#description_3","title":"Description","text":"<p>A short put obligates you to buy the underlying at the strike if exercised. This is a bullish income strategy where you collect premium, hoping the option expires worthless.</p>"},{"location":"strategies/singles/#market-outlook_3","title":"Market Outlook","text":"<ul> <li>Bullish to Neutral - Expect price to stay flat or rise</li> <li>Profits if the underlying stays above the strike at expiration</li> </ul>"},{"location":"strategies/singles/#profitloss_3","title":"Profit/Loss","text":"<ul> <li>Maximum Profit: Premium received</li> <li>Maximum Loss: Strike - premium (if underlying goes to zero)</li> <li>Breakeven: Strike - premium received</li> </ul>"},{"location":"strategies/singles/#example_3","title":"Example","text":"<pre><code>results = op.short_puts(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.20,  # 20% OTM for safer premium\n    min_bid_ask=0.10\n)\n</code></pre>"},{"location":"strategies/singles/#use-cases_3","title":"Use Cases","text":"<ul> <li>Generating income in bullish markets</li> <li>Getting \"paid to wait\" to buy stock at a lower price</li> <li>High-probability credit strategies</li> <li>Wheel strategy (sell puts, get assigned, sell calls)</li> </ul>"},{"location":"strategies/singles/#assignment-considerations","title":"Assignment Considerations","text":"<p>If the option is in-the-money at expiration, you'll be obligated to buy shares at the strike price. Ensure you have capital or can close before expiration.</p>"},{"location":"strategies/singles/#greeks-filtering","title":"Greeks Filtering","text":"<p>All single-leg strategies support delta filtering to target specific probability ranges:</p> <pre><code># Target 0.30 delta options (roughly 30% probability ITM)\nresults = op.long_calls(\n    data,\n    delta_min=0.25,\n    delta_max=0.35,\n    delta_interval=0.05  # Group results by delta ranges\n)\n</code></pre>"},{"location":"strategies/singles/#slippage-models","title":"Slippage Models","text":"<p>Configure realistic fill prices:</p> <pre><code># Use liquidity-based slippage\nresults = op.long_calls(\n    data,\n    slippage='liquidity',\n    fill_ratio=0.5,  # 50% through the spread\n    reference_volume=1000  # Minimum volume for liquid options\n)\n</code></pre> <p>Available slippage modes: - <code>'mid'</code> - Fill at mid-price (bid+ask)/2 (default) - <code>'spread'</code> - Buy at ask, sell at bid (worst case) - <code>'liquidity'</code> - Dynamic fill based on volume/open interest</p>"},{"location":"strategies/singles/#comparison-table","title":"Comparison Table","text":"Strategy Direction Max Profit Max Loss Best When Long Call Bullish Unlimited Premium Expecting rally Short Call Bearish/Neutral Premium Unlimited Expecting decline/flat Long Put Bearish Substantial Premium Expecting drop Short Put Bullish/Neutral Premium Substantial Expecting rise/flat"},{"location":"strategies/singles/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Straddles &amp; Strangles</li> <li>Explore Vertical Spreads for defined-risk alternatives</li> <li>See more Examples</li> </ul>"},{"location":"strategies/spreads/","title":"Vertical Spreads","text":"<p>Vertical spreads combine buying and selling options of the same type (both calls or both puts) with different strikes but the same expiration. These strategies offer defined risk and defined reward.</p>"},{"location":"strategies/spreads/#long-call-spread","title":"Long Call Spread (Bull Call Spread)","text":""},{"location":"strategies/spreads/#description","title":"Description","text":"<p>A bullish strategy that buys a lower strike call and sells a higher strike call, reducing cost but capping upside.</p> <p>Composition: - Long 1 call at lower strike X - Short 1 call at higher strike Y</p>"},{"location":"strategies/spreads/#example","title":"Example","text":"<pre><code>import optopsy as op\nresults = op.long_call_spread(data, max_entry_dte=45, exit_dte=21)\n</code></pre>"},{"location":"strategies/spreads/#short-call-spread","title":"Short Call Spread (Bear Call Spread)","text":""},{"location":"strategies/spreads/#description_1","title":"Description","text":"<p>A bearish credit strategy profiting when the underlying stays below the short strike.</p> <p>Composition: - Short 1 call at lower strike X - Long 1 call at higher strike Y (protection)</p>"},{"location":"strategies/spreads/#example_1","title":"Example","text":"<pre><code>results = op.short_call_spread(data, max_entry_dte=45, exit_dte=21, max_otm_pct=0.20)\n</code></pre>"},{"location":"strategies/spreads/#long-put-spread","title":"Long Put Spread (Bear Put Spread)","text":""},{"location":"strategies/spreads/#description_2","title":"Description","text":"<p>A bearish strategy profiting from downward moves with defined risk.</p> <p>Composition: - Short 1 put at lower strike X - Long 1 put at higher strike Y</p>"},{"location":"strategies/spreads/#example_2","title":"Example","text":"<pre><code>results = op.long_put_spread(data, max_entry_dte=45, exit_dte=21)\n</code></pre>"},{"location":"strategies/spreads/#short-put-spread","title":"Short Put Spread (Bull Put Spread)","text":""},{"location":"strategies/spreads/#description_3","title":"Description","text":"<p>A bullish credit strategy profiting when the underlying stays above the short strike.</p> <p>Composition: - Long 1 put at lower strike X (protection) - Short 1 put at higher strike Y</p>"},{"location":"strategies/spreads/#example_3","title":"Example","text":"<pre><code>results = op.short_put_spread(data, max_entry_dte=45, exit_dte=21, max_otm_pct=0.25)\n</code></pre>"},{"location":"strategies/spreads/#comparison-table","title":"Comparison Table","text":"Spread Direction Type Max Profit Max Loss Long Call Bullish Debit Width - debit Debit paid Short Call Bearish Credit Credit Width - credit Long Put Bearish Debit Width - debit Debit paid Short Put Bullish Credit Credit Width - credit"},{"location":"strategies/straddles-strangles/","title":"Straddles &amp; Strangles","text":"<p>Straddles and strangles are volatility-based strategies that combine calls and puts to profit from large price movements (long) or low volatility (short).</p>"},{"location":"strategies/straddles-strangles/#long-straddle","title":"Long Straddle","text":""},{"location":"strategies/straddles-strangles/#description","title":"Description","text":"<p>A long straddle consists of buying a call and a put at the same strike, typically at-the-money. This strategy profits from large price movements in either direction.</p> <p>Composition: - Long 1 call at strike X - Long 1 put at strike X</p>"},{"location":"strategies/straddles-strangles/#market-outlook","title":"Market Outlook","text":"<ul> <li>High Volatility Expected - Anticipate a significant move up or down</li> <li>Direction doesn't matter, only magnitude</li> <li>Common before earnings announcements or major events</li> </ul>"},{"location":"strategies/straddles-strangles/#profitloss","title":"Profit/Loss","text":"<ul> <li>Maximum Profit: Unlimited (in either direction)</li> <li>Maximum Loss: Total premiums paid (if price stays at strike)</li> <li>Breakeven: Strike \u00b1 total premium paid</li> </ul>"},{"location":"strategies/straddles-strangles/#example","title":"Example","text":"<pre><code>import optopsy as op\n\ndata = op.csv_data('SPX_options.csv')\n\n# Backtest long straddles\nresults = op.long_straddles(\n    data,\n    max_entry_dte=30,\n    exit_dte=0,  # Hold to expiration\n    max_otm_pct=0.05  # Near ATM\n)\n\nprint(results)\n</code></pre>"},{"location":"strategies/straddles-strangles/#use-cases","title":"Use Cases","text":"<ul> <li>Earnings plays expecting big moves</li> <li>Before Fed announcements or major economic data</li> <li>When implied volatility is low but you expect an explosion</li> <li>Binary events (FDA approvals, court rulings)</li> </ul>"},{"location":"strategies/straddles-strangles/#short-straddle","title":"Short Straddle","text":""},{"location":"strategies/straddles-strangles/#description_1","title":"Description","text":"<p>A short straddle consists of selling a call and a put at the same strike. This strategy profits when the price stays near the strike at expiration.</p> <p>Composition: - Short 1 call at strike X - Short 1 put at strike X</p>"},{"location":"strategies/straddles-strangles/#market-outlook_1","title":"Market Outlook","text":"<ul> <li>Low Volatility Expected - Price stays stable</li> <li>Maximum profit if price is exactly at strike at expiration</li> <li>Profits erode if price moves significantly in either direction</li> </ul>"},{"location":"strategies/straddles-strangles/#profitloss_1","title":"Profit/Loss","text":"<ul> <li>Maximum Profit: Total premiums received</li> <li>Maximum Loss: Unlimited (if price moves far from strike)</li> <li>Breakeven: Strike \u00b1 total premium received</li> </ul>"},{"location":"strategies/straddles-strangles/#example_1","title":"Example","text":"<pre><code>results = op.short_straddles(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.05,  # ATM straddles\n    min_bid_ask=0.20    # Ensure liquid options\n)\n</code></pre>"},{"location":"strategies/straddles-strangles/#use-cases_1","title":"Use Cases","text":"<ul> <li>High implied volatility environments</li> <li>After earnings when IV crush is expected</li> <li>Range-bound markets</li> <li>Income generation in low-volatility periods</li> </ul>"},{"location":"strategies/straddles-strangles/#risk-warning","title":"\u26a0\ufe0f Risk Warning","text":"<p>Short straddles have unlimited risk in both directions. Consider iron butterflies for defined-risk alternatives.</p>"},{"location":"strategies/straddles-strangles/#long-strangle","title":"Long Strangle","text":""},{"location":"strategies/straddles-strangles/#description_2","title":"Description","text":"<p>A long strangle consists of buying an OTM call and an OTM put at different strikes. This is similar to a long straddle but cheaper with wider breakevens.</p> <p>Composition: - Long 1 OTM put at strike X - Long 1 OTM call at strike Y (Y &gt; X)</p>"},{"location":"strategies/straddles-strangles/#market-outlook_2","title":"Market Outlook","text":"<ul> <li>High Volatility Expected - Anticipate a large move</li> <li>Lower cost than straddles but requires bigger move to profit</li> <li>Better risk/reward than straddles for explosive moves</li> </ul>"},{"location":"strategies/straddles-strangles/#profitloss_2","title":"Profit/Loss","text":"<ul> <li>Maximum Profit: Unlimited (in either direction)</li> <li>Maximum Loss: Total premiums paid</li> <li>Breakeven: Put strike - total premium, Call strike + total premium</li> </ul>"},{"location":"strategies/straddles-strangles/#example_2","title":"Example","text":"<pre><code>results = op.long_strangles(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.20  # Wider strikes for lower cost\n)\n</code></pre>"},{"location":"strategies/straddles-strangles/#use-cases_2","title":"Use Cases","text":"<ul> <li>Lower-cost volatility plays</li> <li>Before major events with unknown outcomes</li> <li>When you expect a significant move but want to reduce cost</li> <li>Higher probability of profit than straddles on massive moves</li> </ul>"},{"location":"strategies/straddles-strangles/#short-strangle","title":"Short Strangle","text":""},{"location":"strategies/straddles-strangles/#description_3","title":"Description","text":"<p>A short strangle consists of selling an OTM call and an OTM put at different strikes. This provides a wider profit zone than a short straddle.</p> <p>Composition: - Short 1 OTM put at strike X - Short 1 OTM call at strike Y (Y &gt; X)</p>"},{"location":"strategies/straddles-strangles/#market-outlook_3","title":"Market Outlook","text":"<ul> <li>Low to Moderate Volatility - Price stays in a range</li> <li>Wider profit zone than short straddles</li> <li>More forgiving if price moves moderately</li> </ul>"},{"location":"strategies/straddles-strangles/#profitloss_3","title":"Profit/Loss","text":"<ul> <li>Maximum Profit: Total premiums received</li> <li>Maximum Loss: Unlimited (past short strikes)</li> <li>Breakeven: Put strike - total premium, Call strike + total premium</li> </ul>"},{"location":"strategies/straddles-strangles/#example_3","title":"Example","text":"<pre><code>results = op.short_strangles(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.30,  # Wide strikes for safer range\n    min_bid_ask=0.15\n)\n</code></pre>"},{"location":"strategies/straddles-strangles/#use-cases_3","title":"Use Cases","text":"<ul> <li>Income in range-bound markets</li> <li>Higher probability of success than short straddles</li> <li>After high IV events (post-earnings)</li> <li>When you expect low volatility but want buffer</li> </ul>"},{"location":"strategies/straddles-strangles/#management-tips","title":"Management Tips","text":"<ul> <li>Consider closing at 50% of max profit</li> <li>Roll untested side if needed</li> <li>Monitor position size carefully due to undefined risk</li> </ul>"},{"location":"strategies/straddles-strangles/#strategy-comparison","title":"Strategy Comparison","text":"Strategy Strikes Premium Profit Zone Best For Long Straddle Same Higher cost Wide (any big move) Maximum volatility plays Long Strangle Different Lower cost Wider breakevens Lower-cost volatility Short Straddle Same Higher credit Narrow (at strike) Maximum income, low vol Short Strangle Different Lower credit Wider range Safer income, moderate vol"},{"location":"strategies/straddles-strangles/#greeks-considerations","title":"Greeks Considerations","text":""},{"location":"strategies/straddles-strangles/#for-long-straddlesstrangles","title":"For Long Straddles/Strangles","text":"<ul> <li>Positive Vega - Benefit from volatility increases</li> <li>Negative Theta - Time decay works against you</li> <li>Trade: Buy when IV is low, sell when IV spikes</li> </ul>"},{"location":"strategies/straddles-strangles/#for-short-straddlesstrangles","title":"For Short Straddles/Strangles","text":"<ul> <li>Negative Vega - Hurt by volatility increases</li> <li>Positive Theta - Time decay works for you</li> <li>Trade: Sell when IV is high, benefit from IV crush</li> </ul>"},{"location":"strategies/straddles-strangles/#example-iv-filtering","title":"Example: IV Filtering","text":"<pre><code># Target high IV environments for short strangles\nresults = op.short_strangles(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.25,\n    # Filter for liquid, high IV options\n    min_bid_ask=0.15,\n    slippage='liquidity'\n)\n</code></pre>"},{"location":"strategies/straddles-strangles/#risk-management","title":"Risk Management","text":"<p>For Long Positions: - Risk is limited to premiums paid - Consider exiting at 100% loss or 200%+ gain - Profits can be substantial on big moves</p> <p>For Short Positions: - \u26a0\ufe0f Risk is unlimited - Consider stop losses or conversion to iron condors/butterflies - Close early at 50-75% max profit - Position size conservatively (small % of account)</p>"},{"location":"strategies/straddles-strangles/#next-steps","title":"Next Steps","text":"<ul> <li>Learn about Vertical Spreads for defined-risk alternatives</li> <li>Explore Iron Butterflies for defined-risk volatility plays</li> <li>See more Examples with IV analysis</li> </ul>"},{"location":"zh/","title":"Optopsy","text":"<p>\u4e00\u4e2a\u5feb\u901f\u3001\u7075\u6d3b\u7684 Python \u671f\u6743\u7b56\u7565\u56de\u6d4b\u5e93\u3002</p>"},{"location":"zh/#optopsy_1","title":"\u4ec0\u4e48\u662f Optopsy\uff1f","text":"<p>Optopsy \u5e2e\u52a9\u60a8\u56de\u7b54\u8bf8\u5982\"\u94c1\u79c3\u9e70\u7b56\u7565\u5728 SPX \u4e0a\u7684\u8868\u73b0\u5982\u4f55\uff1f\"\u6216\"\u54ea\u4e2a delta \u8303\u56f4\u4e3a\u5907\u5151\u770b\u6da8\u671f\u6743\u4ea7\u751f\u6700\u4f73\u7ed3\u679c\uff1f\"\u7b49\u95ee\u9898\uff0c\u901a\u8fc7\u4ece\u5386\u53f2\u671f\u6743\u6570\u636e\u751f\u6210\u5168\u9762\u7684\u7ee9\u6548\u7edf\u8ba1\u3002</p>"},{"location":"zh/#_1","title":"\u4e3b\u8981\u7279\u6027","text":"<ul> <li>28 \u79cd\u5185\u7f6e\u7b56\u7565 - \u4ece\u7b80\u5355\u7684\u770b\u6da8/\u770b\u8dcc\u671f\u6743\u5230\u94c1\u79c3\u9e70\u3001\u8776\u5f0f\u3001\u65e5\u5386\u548c\u5bf9\u89d2\u4ef7\u5dee</li> <li>\u5e0c\u814a\u5b57\u6bcd\u8fc7\u6ee4 - \u6309 delta \u8fc7\u6ee4\u671f\u6743\u4ee5\u9488\u5bf9\u7279\u5b9a\u6982\u7387\u8303\u56f4</li> <li>\u6ed1\u70b9\u5efa\u6a21 - \u4f7f\u7528\u4e2d\u95f4\u4ef7\u3001\u4ef7\u5dee\u6216\u57fa\u4e8e\u6d41\u52a8\u6027\u7684\u6ed1\u70b9\u8fdb\u884c\u771f\u5b9e\u586b\u5145</li> <li>\u7075\u6d3b\u5206\u7ec4 - \u6309 DTE\u3001OTM% \u548c delta \u533a\u95f4\u5206\u6790\u7ed3\u679c</li> <li>\u4efb\u4f55\u6570\u636e\u6e90 - \u9002\u7528\u4e8e CSV \u6216 DataFrame \u683c\u5f0f\u7684\u4efb\u4f55\u671f\u6743\u6570\u636e</li> <li>\u539f\u751f Pandas - \u8fd4\u56de\u4e0e\u73b0\u6709\u5de5\u4f5c\u6d41\u7a0b\u96c6\u6210\u7684 DataFrames</li> </ul>"},{"location":"zh/#_2","title":"\u5feb\u901f\u793a\u4f8b","text":"<pre><code>import optopsy as op\n\n# \u52a0\u8f7d\u60a8\u7684\u671f\u6743\u6570\u636e\ndata = op.csv_data('SPX_options.csv')\n\n# \u56de\u6d4b\u94c1\u79c3\u9e70\u7b56\u7565\nresults = op.iron_condor(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.25\n)\n\nprint(results)\n</code></pre>"},{"location":"zh/#_3","title":"\u5b89\u88c5","text":"<pre><code>pip install optopsy\n</code></pre> <p>\u8981\u6c42\uff1a Python 3.8+\u3001Pandas 2.0+\u3001NumPy 1.26+</p>"},{"location":"zh/#_4","title":"\u83b7\u53d6\u5e2e\u52a9","text":"<ul> <li>\u67e5\u770b\u5165\u95e8\u6307\u5357\u83b7\u53d6\u8be6\u7ec6\u6f14\u7ec3</li> <li>\u6d4f\u89c8\u7b56\u7565\u4e86\u89e3\u53ef\u7528\u7684\u671f\u6743\u7b56\u7565</li> <li>\u67e5\u770b\u53c2\u6570\u4e86\u89e3\u914d\u7f6e\u9009\u9879</li> <li>\u53c2\u9605\u793a\u4f8b\u4e86\u89e3\u5e38\u89c1\u7528\u4f8b</li> <li>\u67e5\u770b API \u53c2\u8003\u83b7\u53d6\u5b8c\u6574\u7684\u51fd\u6570\u6587\u6863</li> </ul>"},{"location":"zh/#_5","title":"\u8d21\u732e","text":"<p>\u6b22\u8fce\u8d21\u732e\uff01\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u8d21\u732e\u6307\u5357\u3002</p>"},{"location":"zh/#_6","title":"\u8bb8\u53ef\u8bc1","text":"<p>Optopsy \u6839\u636e GPL-3.0 \u8bb8\u53ef\u8bc1\u53d1\u5e03\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 GitHub \u4ed3\u5e93\u3002</p>"},{"location":"zh/api-reference/","title":"API \u53c2\u8003","text":"<p>Optopsy \u51fd\u6570\u7684\u5b8c\u6574 API \u6587\u6863\u3002</p> <p>\u901a\u7528\u53c2\u6570</p> <p>\u6240\u6709\u7b56\u7565\u51fd\u6570\u5171\u4eab\u901a\u7528\u53c2\u6570\u3002\u8bf7\u53c2\u9605\u4e0b\u9762\u7684 \u901a\u7528\u53c2\u6570 \u90e8\u5206,\u4e86\u89e3 <code>max_entry_dte</code>\u3001<code>exit_dte</code>\u3001<code>max_otm_pct</code>\u3001<code>min_bid_ask</code>\u3001\u6ed1\u70b9\u8bbe\u7f6e\u7b49\u7684\u8be6\u7ec6\u6587\u6863\u3002</p>"},{"location":"zh/api-reference/#_1","title":"\u6570\u636e\u52a0\u8f7d","text":""},{"location":"zh/api-reference/#csv_data","title":"csv_data","text":"<p>\u4ece CSV \u6587\u4ef6\u52a0\u8f7d\u671f\u6743\u6570\u636e\u3002</p>"},{"location":"zh/api-reference/#_2","title":"\u5355\u817f\u7b56\u7565","text":"<p>Note</p> <p>\u6240\u6709\u5355\u817f\u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570\u3002</p>"},{"location":"zh/api-reference/#straddles-strangles","title":"Straddles &amp; Strangles","text":"<p>Note</p> <p>\u6240\u6709 straddle/strangle \u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570\u3002</p>"},{"location":"zh/api-reference/#_3","title":"\u5782\u76f4\u4ef7\u5dee","text":"<p>Note</p> <p>\u6240\u6709\u5782\u76f4\u4ef7\u5dee\u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570\u3002</p>"},{"location":"zh/api-reference/#_4","title":"\u8776\u5f0f\u4ef7\u5dee","text":"<p>Note</p> <p>\u6240\u6709\u8776\u5f0f\u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570\u3002</p>"},{"location":"zh/api-reference/#iron","title":"Iron \u7b56\u7565","text":"<p>Note</p> <p>\u6240\u6709 iron \u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570\u3002</p>"},{"location":"zh/api-reference/#_5","title":"\u5907\u5151\u7b56\u7565","text":"<p>Note</p> <p>\u6240\u6709\u5907\u5151\u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570\u3002</p>"},{"location":"zh/api-reference/#_6","title":"\u65e5\u5386\u4ef7\u5dee","text":"<p>Note</p> <p>\u65e5\u5386\u4ef7\u5dee\u9664\u4e86\u901a\u7528\u53c2\u6570\u5916,\u8fd8\u6709\u989d\u5916\u7684\u65f6\u95f4\u53c2\u6570(<code>front_dte_min</code>\u3001<code>front_dte_max</code>\u3001<code>back_dte_min</code>\u3001<code>back_dte_max</code>)\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u548c Calendar/Diagonal \u53c2\u6570\u3002</p>"},{"location":"zh/api-reference/#_7","title":"\u5bf9\u89d2\u4ef7\u5dee","text":"<p>Note</p> <p>\u5bf9\u89d2\u4ef7\u5dee\u9664\u4e86\u901a\u7528\u53c2\u6570\u5916,\u8fd8\u6709\u989d\u5916\u7684\u65f6\u95f4\u53c2\u6570(<code>front_dte_min</code>\u3001<code>front_dte_max</code>\u3001<code>back_dte_min</code>\u3001<code>back_dte_max</code>)\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u548c Calendar/Diagonal \u53c2\u6570\u3002</p>"},{"location":"zh/api-reference/#_8","title":"\u901a\u7528\u53c2\u6570","text":"<p>\u6240\u6709\u7b56\u7565\u51fd\u6570\u90fd\u63a5\u53d7\u8fd9\u4e9b\u901a\u7528\u53c2\u6570:</p>"},{"location":"zh/api-reference/#_9","title":"\u65f6\u95f4\u53c2\u6570","text":"<ul> <li>max_entry_dte (int, \u9ed8\u8ba4=90): \u8fdb\u573a\u65f6\u7684\u6700\u5927\u5230\u671f\u5929\u6570</li> <li>exit_dte (int, \u9ed8\u8ba4=0): \u51fa\u573a\u65f6\u7684\u5230\u671f\u5929\u6570</li> <li>dte_interval (int, \u9ed8\u8ba4=7): DTE \u8303\u56f4\u7684\u5206\u7ec4\u95f4\u9694</li> </ul>"},{"location":"zh/api-reference/#_10","title":"\u8fc7\u6ee4\u53c2\u6570","text":"<ul> <li>max_otm_pct (float, \u9ed8\u8ba4=0.5): \u6700\u5927\u865a\u503c\u767e\u5206\u6bd4</li> <li>otm_pct_interval (float, \u9ed8\u8ba4=0.05): OTM \u8303\u56f4\u7684\u5206\u7ec4\u95f4\u9694</li> <li>min_bid_ask (float, \u9ed8\u8ba4=0.05): \u6700\u5c0f\u4e70\u5356\u4ef7\u5dee\u8fc7\u6ee4\u5668</li> </ul>"},{"location":"zh/api-reference/#greeks","title":"Greeks \u53c2\u6570","text":"<ul> <li>delta_min (float, \u53ef\u9009): \u6700\u5c0f delta \u8fc7\u6ee4\u5668</li> <li>delta_max (float, \u53ef\u9009): \u6700\u5927 delta \u8fc7\u6ee4\u5668</li> <li>delta_interval (float, \u53ef\u9009): delta \u8303\u56f4\u7684\u5206\u7ec4\u95f4\u9694</li> </ul>"},{"location":"zh/api-reference/#_11","title":"\u6ed1\u70b9\u53c2\u6570","text":"<ul> <li>slippage (str, \u9ed8\u8ba4='mid'): \u6ed1\u70b9\u6a21\u5f0f - 'mid'\u3001'spread' \u6216 'liquidity'</li> <li>fill_ratio (float, \u9ed8\u8ba4=0.5): liquidity \u6a21\u5f0f\u7684\u6210\u4ea4\u6bd4\u7387(0.0-1.0)</li> <li>reference_volume (int, \u9ed8\u8ba4=1000): \u6d41\u52a8\u671f\u6743\u7684\u6210\u4ea4\u91cf\u9608\u503c</li> </ul>"},{"location":"zh/api-reference/#_12","title":"\u8f93\u51fa\u53c2\u6570","text":"<ul> <li>raw (bool, \u9ed8\u8ba4=False): \u8fd4\u56de\u539f\u59cb\u4ea4\u6613\u6570\u636e\u800c\u4e0d\u662f\u805a\u5408\u7edf\u8ba1</li> <li>drop_nan (bool, \u9ed8\u8ba4=True): \u5220\u9664\u5305\u542b NaN \u503c\u7684\u884c</li> </ul>"},{"location":"zh/api-reference/#calendardiagonal","title":"Calendar/Diagonal \u53c2\u6570","text":"<p>\u8fd9\u4e9b\u7b56\u7565\u6709\u989d\u5916\u7684\u65f6\u95f4\u53c2\u6570:</p> <ul> <li>front_dte_min (int, \u9ed8\u8ba4=20): \u524d\u6708\u817f\u7684\u6700\u5c0f DTE</li> <li>front_dte_max (int, \u9ed8\u8ba4=40): \u524d\u6708\u817f\u7684\u6700\u5927 DTE</li> <li>back_dte_min (int, \u9ed8\u8ba4=50): \u540e\u6708\u817f\u7684\u6700\u5c0f DTE</li> <li>back_dte_max (int, \u9ed8\u8ba4=90): \u540e\u6708\u817f\u7684\u6700\u5927 DTE</li> </ul>"},{"location":"zh/api-reference/#_13","title":"\u8fd4\u56de\u503c","text":""},{"location":"zh/api-reference/#_14","title":"\u805a\u5408\u7ed3\u679c(\u9ed8\u8ba4)","text":"<p>\u5f53 <code>raw=False</code>(\u9ed8\u8ba4)\u65f6,\u7b56\u7565\u8fd4\u56de\u805a\u5408\u7edf\u8ba1:</p> <p>\u5217: - <code>dte_range</code>: DTE \u95f4\u9694\u7ec4 - <code>otm_pct_range</code>: OTM \u767e\u5206\u6bd4\u95f4\u9694\u7ec4 - <code>count</code>: \u7ec4\u4e2d\u7684\u4ea4\u6613\u6570\u91cf - <code>mean</code>: \u5e73\u5747\u6536\u76ca - <code>std</code>: \u6536\u76ca\u6807\u51c6\u5dee - <code>min</code>: \u6700\u5c0f\u6536\u76ca - <code>25%</code>: \u7b2c 25 \u767e\u5206\u4f4d - <code>50%</code>: \u4e2d\u4f4d\u6536\u76ca - <code>75%</code>: \u7b2c 75 \u767e\u5206\u4f4d - <code>max</code>: \u6700\u5927\u6536\u76ca</p>"},{"location":"zh/api-reference/#_15","title":"\u539f\u59cb\u4ea4\u6613\u6570\u636e","text":"<p>\u5f53 <code>raw=True</code> \u65f6,\u7b56\u7565\u8fd4\u56de\u5355\u4e2a\u4ea4\u6613\u8be6\u60c5:</p> <p>\u5217(\u56e0\u7b56\u7565\u800c\u5f02): - <code>underlying_symbol</code>: \u80a1\u7968\u4ee3\u7801 - <code>expiration</code>: \u671f\u6743\u5230\u671f\u65e5 - <code>dte_entry</code>: \u8fdb\u573a\u65f6\u7684\u5230\u671f\u5929\u6570 - <code>strike</code> / <code>strike_leg1</code>\u3001<code>strike_leg2</code> \u7b49: \u884c\u6743\u4ef7 - <code>entry</code>: \u8fdb\u573a\u4ef7\u683c/\u6210\u672c - <code>exit</code>: \u51fa\u573a\u4ef7\u683c/\u6536\u76ca - <code>pct_change</code>: \u767e\u5206\u6bd4\u6536\u76ca - \u5176\u4ed6\u7279\u5b9a\u4e8e\u7b56\u7565\u7684\u5217</p>"},{"location":"zh/api-reference/#_16","title":"\u793a\u4f8b","text":"<p>\u8be6\u7ec6\u4f7f\u7528\u793a\u4f8b\u8bf7\u53c2\u9605 \u793a\u4f8b\u9875\u9762\u3002</p>"},{"location":"zh/api-reference/#_17","title":"\u7c7b\u578b\u63d0\u793a","text":"<p>\u6240\u6709\u51fd\u6570\u90fd\u5305\u542b\u5b8c\u6574\u7684\u7c7b\u578b\u63d0\u793a,\u4f7f\u7528 TypedDict \u63d0\u4f9b IDE \u81ea\u52a8\u5b8c\u6210\u652f\u6301:</p> <pre><code>import pandas as pd\nfrom typing_extensions import Unpack\nfrom optopsy import StrategyParams\n\ndef long_calls(data: pd.DataFrame, **kwargs: Unpack[StrategyParams]) -&gt; pd.DataFrame:\n    ...\n</code></pre>"},{"location":"zh/api-reference/#_18","title":"\u4f7f\u7528\u7c7b\u578b\u63d0\u793a","text":"<p>\u5bfc\u5165 <code>StrategyParams</code> \u6216 <code>CalendarStrategyParams</code> \u4ee5\u83b7\u5f97\u66f4\u597d\u7684 IDE \u652f\u6301:</p> <pre><code>import optopsy as op\nfrom optopsy import StrategyParams\n\n# \u60a8\u7684 IDE \u73b0\u5728\u5c06\u4e3a\u6240\u6709\u53c2\u6570\u63d0\u4f9b\u81ea\u52a8\u5b8c\u6210\nresults = op.iron_condor(\n    data,\n    max_entry_dte=45,      # \u7c7b\u578b: int\n    exit_dte=21,           # \u7c7b\u578b: int\n    slippage='liquidity',  # \u7c7b\u578b: Literal['mid', 'spread', 'liquidity']\n    fill_ratio=0.5,        # \u7c7b\u578b: float\n)\n</code></pre> <p>\u6709\u5173\u5728 Optopsy \u4e2d\u4f7f\u7528\u7c7b\u578b\u63d0\u793a\u7684\u8be6\u7ec6\u6587\u6863,\u8bf7\u53c2\u9605 TYPE_HINTS.md\u3002</p>"},{"location":"zh/examples/","title":"\u793a\u4f8b","text":"<p>\u672c\u9875\u63d0\u4f9b\u4f7f\u7528 Optopsy \u8fdb\u884c\u671f\u6743\u56de\u6d4b\u7684\u5b9e\u9645\u793a\u4f8b\u3002</p>"},{"location":"zh/examples/#_2","title":"\u57fa\u7840\u793a\u4f8b","text":""},{"location":"zh/examples/#long-calls","title":"\u7b80\u5355\u7684 Long Calls \u56de\u6d4b","text":"<pre><code>import optopsy as op\n\n# \u52a0\u8f7d\u6570\u636e\ndata = op.csv_data('SPX_2023.csv')\n\n# \u56de\u6d4b long calls\nresults = op.long_calls(data)\n\nprint(results.head())\n</code></pre>"},{"location":"zh/examples/#iron-condor","title":"\u81ea\u5b9a\u4e49\u53c2\u6570\u7684 Iron Condor","text":"<pre><code>results = op.iron_condor(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.25,\n    min_bid_ask=0.10\n)\n\n# \u8fc7\u6ee4\u51fa\u8868\u73b0\u6700\u4f73\u7684 DTE \u8303\u56f4\nbest_dte = results[results['mean'] &gt; 0.20]\nprint(best_dte)\n</code></pre>"},{"location":"zh/examples/#_3","title":"\u9ad8\u7ea7\u793a\u4f8b","text":""},{"location":"zh/examples/#delta-iron-condors","title":"Delta \u4e2d\u6027 Iron Condors","text":"<p>\u9488\u5bf9\u7a7a\u5934\u884c\u6743\u4ef7\u7684\u7279\u5b9a delta \u8303\u56f4:</p> <pre><code>results = op.iron_condor(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    delta_min=0.15,  # \u76ee\u6807 15-20 delta\n    delta_max=0.20,\n    delta_interval=0.05,\n    min_bid_ask=0.10\n)\n\n# \u6309 delta \u8303\u56f4\u5206\u6790\nprint(results.groupby('delta_range')['mean'].describe())\n</code></pre>"},{"location":"zh/examples/#straddle","title":"\u8d22\u62a5 Straddle \u7b56\u7565","text":"<p>\u56de\u6d4b\u8d22\u62a5\u671f\u95f4\u7684 long straddles:</p> <pre><code># \u52a0\u8f7d\u8d22\u62a5\u65e5\u671f\nearnings_dates = ['2023-01-15', '2023-04-15', '2023-07-15', '2023-10-15']\n\n# \u8fc7\u6ee4\u8d22\u62a5\u5468\u56f4\u7684\u6570\u636e(\u00b17 \u5929)\nimport pandas as pd\ndata['quote_date'] = pd.to_datetime(data['quote_date'])\n\nearnings_data = []\nfor date in pd.to_datetime(earnings_dates):\n    mask = (data['quote_date'] &gt;= date - pd.Timedelta(days=7)) &amp; \\\n           (data['quote_date'] &lt;= date + pd.Timedelta(days=7))\n    earnings_data.append(data[mask])\n\nearnings_df = pd.concat(earnings_data)\n\n# \u56de\u6d4b straddles\nresults = op.long_straddles(\n    earnings_df,\n    max_entry_dte=7,  # \u63d0\u524d 1 \u5468\u8fdb\u573a\n    exit_dte=0,       # \u6301\u6709\u81f3\u8d22\u62a5\u540e\n    max_otm_pct=0.05  # ATM straddles\n)\n\nprint(results)\n</code></pre>"},{"location":"zh/examples/#_4","title":"\u65f6\u95f4\u8870\u51cf\u5206\u6790","text":"<p>\u6bd4\u8f83 short strangles \u7684\u4e0d\u540c\u51fa\u573a\u65f6\u95f4:</p> <pre><code>exit_times = [0, 7, 14, 21, 30]\nresults_by_exit = {}\n\nfor exit_dte in exit_times:\n    results = op.short_strangles(\n        data,\n        max_entry_dte=45,\n        exit_dte=exit_dte,\n        max_otm_pct=0.30\n    )\n    results_by_exit[exit_dte] = results['mean'].mean()\n\n# \u7ed8\u5236\u7ed3\u679c\nimport matplotlib.pyplot as plt\nplt.bar(exit_times, results_by_exit.values())\nplt.xlabel('Exit DTE')\nplt.ylabel('Mean Return')\nplt.title('Short Strangle Returns by Exit Time')\nplt.show()\n</code></pre>"},{"location":"zh/examples/#_5","title":"\u6ed1\u70b9\u6bd4\u8f83","text":"<p>\u6bd4\u8f83\u4e0d\u540c\u7684\u6ed1\u70b9\u6a21\u578b:</p> <pre><code>slippage_modes = ['mid', 'spread', 'liquidity']\nresults_comparison = {}\n\nfor mode in slippage_modes:\n    results = op.iron_condor(\n        data,\n        max_entry_dte=45,\n        exit_dte=21,\n        slippage=mode,\n        fill_ratio=0.5,\n        reference_volume=1000\n    )\n    results_comparison[mode] = results['mean'].mean()\n\nprint(\"Slippage Model Comparison:\")\nfor mode, avg_return in results_comparison.items():\n    print(f\"{mode}: {avg_return:.2%}\")\n</code></pre>"},{"location":"zh/examples/#_6","title":"\u6570\u636e\u5206\u6790\u793a\u4f8b","text":""},{"location":"zh/examples/#_7","title":"\u539f\u59cb\u4ea4\u6613\u6570\u636e\u5206\u6790","text":"<p>\u83b7\u53d6\u5355\u4e2a\u4ea4\u6613\u8fdb\u884c\u81ea\u5b9a\u4e49\u5206\u6790:</p> <pre><code># \u83b7\u53d6\u539f\u59cb\u4ea4\u6613\u6570\u636e\ntrades = op.iron_condor(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    raw=True  # \u8fd4\u56de\u5355\u4e2a\u4ea4\u6613\n)\n\n# \u81ea\u5b9a\u4e49\u5206\u6790\nimport pandas as pd\n\n# \u80dc\u7387\nwin_rate = (trades['pct_change'] &gt; 0).mean()\nprint(f\"Win Rate: {win_rate:.1%}\")\n\n# \u5e73\u5747\u76c8\u5229 vs \u5e73\u5747\u4e8f\u635f\navg_winner = trades[trades['pct_change'] &gt; 0]['pct_change'].mean()\navg_loser = trades[trades['pct_change'] &lt; 0]['pct_change'].mean()\nprint(f\"Avg Winner: {avg_winner:.2%}\")\nprint(f\"Avg Loser: {avg_loser:.2%}\")\n\n# \u76c8\u4e8f\u6bd4\ntotal_profit = trades[trades['pct_change'] &gt; 0]['pct_change'].sum()\ntotal_loss = abs(trades[trades['pct_change'] &lt; 0]['pct_change'].sum())\nprofit_factor = total_profit / total_loss if total_loss &gt; 0 else float('inf')\nprint(f\"Profit Factor: {profit_factor:.2f}\")\n</code></pre>"},{"location":"zh/examples/#_8","title":"\u6708\u5ea6\u8868\u73b0","text":"<p>\u6309\u6708\u4efd\u5206\u6790\u7b56\u7565\u8868\u73b0:</p> <pre><code>trades = op.short_puts(data, raw=True)\n\n# \u8f6c\u6362\u4e3a datetime\ntrades['entry_date'] = pd.to_datetime(trades['quote_date'])\ntrades['month'] = trades['entry_date'].dt.to_period('M')\n\n# \u6309\u6708\u5206\u7ec4\nmonthly_perf = trades.groupby('month').agg({\n    'pct_change': ['count', 'mean', 'std', 'sum']\n})\n\nprint(monthly_perf)\n</code></pre>"},{"location":"zh/examples/#_9","title":"\u884c\u6743\u4ef7\u9009\u62e9\u5206\u6790","text":"<p>\u6309 OTM \u767e\u5206\u6bd4\u5206\u6790\u8868\u73b0:</p> <pre><code>results = op.short_puts(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.50,\n    otm_pct_interval=0.05\n)\n\n# \u627e\u5230\u6700\u4f18 OTM \u8303\u56f4\noptimal = results.loc[results['mean'].idxmax()]\nprint(f\"Optimal OTM Range: {optimal['otm_pct_range']}\")\nprint(f\"Mean Return: {optimal['mean']:.2%}\")\nprint(f\"Count: {optimal['count']:.0f}\")\n</code></pre>"},{"location":"zh/examples/#_10","title":"\u591a\u7b56\u7565\u6bd4\u8f83","text":"<p>\u6bd4\u8f83\u591a\u79cd\u7b56\u7565:</p> <pre><code>strategies = {\n    'Long Calls': op.long_calls,\n    'Short Puts': op.short_puts,\n    'Iron Condor': op.iron_condor,\n    'Long Straddle': op.long_straddles\n}\n\ncomparison = {}\nfor name, strategy_func in strategies.items():\n    results = strategy_func(\n        data,\n        max_entry_dte=45,\n        exit_dte=21\n    )\n    comparison[name] = {\n        'mean': results['mean'].mean(),\n        'std': results['std'].mean(),\n        'max': results['max'].max(),\n        'min': results['min'].min()\n    }\n\n# \u663e\u793a\u6bd4\u8f83\ndf_comparison = pd.DataFrame(comparison).T\nprint(df_comparison)\n</code></pre>"},{"location":"zh/examples/#_11","title":"\u6295\u8d44\u7ec4\u5408\u6a21\u62df","text":"<p>\u6a21\u62df\u591a\u7b56\u7565\u6295\u8d44\u7ec4\u5408:</p> <pre><code># \u5b9a\u4e49\u6295\u8d44\u7ec4\u5408\u914d\u7f6e\nportfolio = {\n    'iron_condor': 0.50,\n    'short_strangles': 0.30,\n    'long_call_spread': 0.20\n}\n\n# \u83b7\u53d6\u6bcf\u4e2a\u7b56\u7565\u7684\u539f\u59cb\u4ea4\u6613\ntrades = {}\ntrades['iron_condor'] = op.iron_condor(data, raw=True)\ntrades['short_strangles'] = op.short_strangles(data, raw=True)\ntrades['long_call_spread'] = op.long_call_spread(data, raw=True)\n\n# \u6309\u914d\u7f6e\u52a0\u6743\u6536\u76ca\nfor strategy, weight in portfolio.items():\n    trades[strategy]['weighted_return'] = trades[strategy]['pct_change'] * weight\n\n# \u5408\u5e76\u6240\u6709\u4ea4\u6613\nall_trades = pd.concat([\n    trades[s][['quote_date', 'weighted_return']]\n    for s in portfolio.keys()\n])\n\n# \u6309\u65e5\u671f\u805a\u5408\nportfolio_returns = all_trades.groupby('quote_date')['weighted_return'].sum()\n\nprint(f\"Portfolio Mean Return: {portfolio_returns.mean():.2%}\")\nprint(f\"Portfolio Std Dev: {portfolio_returns.std():.2%}\")\nprint(f\"Sharpe Ratio (annualized): {(portfolio_returns.mean() / portfolio_returns.std()) * (252**0.5):.2f}\")\n</code></pre>"},{"location":"zh/examples/#_12","title":"\u6027\u80fd\u6307\u6807","text":"<p>\u8ba1\u7b97\u7efc\u5408\u6027\u80fd\u7edf\u8ba1:</p> <pre><code>def calculate_metrics(trades_df):\n    \"\"\"\u8ba1\u7b97\u7b56\u7565\u7684\u6027\u80fd\u6307\u6807\u3002\"\"\"\n    returns = trades_df['pct_change']\n\n    metrics = {\n        'Total Trades': len(returns),\n        'Win Rate': (returns &gt; 0).mean(),\n        'Mean Return': returns.mean(),\n        'Median Return': returns.median(),\n        'Std Dev': returns.std(),\n        'Max Win': returns.max(),\n        'Max Loss': returns.min(),\n        'Profit Factor': returns[returns &gt; 0].sum() / abs(returns[returns &lt; 0].sum()),\n        'Sharpe Ratio': returns.mean() / returns.std() if returns.std() &gt; 0 else 0\n    }\n\n    return pd.Series(metrics)\n\n# \u5e94\u7528\u4e8e\u7b56\u7565\ntrades = op.iron_condor(data, raw=True)\nmetrics = calculate_metrics(trades)\nprint(metrics)\n</code></pre>"},{"location":"zh/examples/#_13","title":"\u5904\u7406\u4e0d\u540c\u6570\u636e\u6e90","text":""},{"location":"zh/examples/#_14","title":"\u5386\u53f2\u671f\u6743\u6570\u636e\u63d0\u4f9b\u5546","text":"<pre><code># \u793a\u4f8b: \u4ece\u4e0d\u540c CSV \u683c\u5f0f\u52a0\u8f7d\n\n# \u683c\u5f0f 1: CBOE \u6570\u636e\u5bfc\u51fa\ndata = op.csv_data(\n    'cboe_spx.csv',\n    underlying_symbol='underlying_symbol',\n    underlying_price='underlying_bid_1545',\n    option_type='option_type',\n    expiration='expiration',\n    quote_date='quote_date',\n    strike='strike',\n    bid='bid',\n    ask='ask'\n)\n\n# \u683c\u5f0f 2: \u7d22\u5f15\u5217\ndata = op.csv_data(\n    'provider_data.csv',\n    underlying_symbol=0,\n    underlying_price=1,\n    option_type=2,\n    expiration=3,\n    quote_date=4,\n    strike=5,\n    bid=6,\n    ask=7\n)\n</code></pre>"},{"location":"zh/examples/#_15","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"zh/examples/#1","title":"1. \u59cb\u7ec8\u4f7f\u7528\u8fc7\u6ee4\u5668","text":"<pre><code># \u4e0d\u597d: \u6ca1\u6709\u8fc7\u6ee4\nresults = op.iron_condor(data)\n\n# \u597d: \u8fc7\u6ee4\u4ee5\u786e\u4fdd\u8d28\u91cf\nresults = op.iron_condor(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    min_bid_ask=0.10,  # \u786e\u4fdd\u6d41\u52a8\u6027\n    max_otm_pct=0.30\n)\n</code></pre>"},{"location":"zh/examples/#2","title":"2. \u6bd4\u8f83\u540c\u7c7b\u4e8b\u7269","text":"<pre><code># \u6bd4\u8f83\u7b56\u7565\u65f6\u4f7f\u7528\u76f8\u540c\u53c2\u6570\nparams = {\n    'max_entry_dte': 45,\n    'exit_dte': 21,\n    'max_otm_pct': 0.25\n}\n\nic_results = op.iron_condor(data, **params)\nstrangle_results = op.short_strangles(data, **params)\n</code></pre>"},{"location":"zh/examples/#3","title":"3. \u73b0\u5b9e\u7684\u6ed1\u70b9","text":"<pre><code># \u4f7f\u7528 liquidity \u6a21\u5f0f\u83b7\u5f97\u73b0\u5b9e\u7ed3\u679c\nresults = op.iron_condor(\n    data,\n    slippage='liquidity',\n    fill_ratio=0.5,\n    reference_volume=1000\n)\n</code></pre>"},{"location":"zh/examples/#_16","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\u67e5\u770b \u7b56\u7565\u6587\u6863 \u4e86\u89e3\u7279\u5b9a\u7b56\u7565\u8be6\u60c5</li> <li>\u67e5\u770b \u53c2\u6570 \u4e86\u89e3\u6240\u6709\u914d\u7f6e\u9009\u9879</li> <li>\u67e5\u9605 API \u53c2\u8003 \u4e86\u89e3\u51fd\u6570\u7b7e\u540d</li> <li>\u63a2\u7d22\u4ee3\u7801\u4ed3\u5e93\u4e2d\u7684 <code>samples/</code> \u76ee\u5f55\u83b7\u53d6\u66f4\u591a\u793a\u4f8b</li> </ul>"},{"location":"zh/getting-started/","title":"\u5165\u95e8\u6307\u5357","text":"<p>\u672c\u6307\u5357\u5c06\u5f15\u5bfc\u60a8\u5b8c\u6210 Optopsy \u7684\u8bbe\u7f6e\u5e76\u8fd0\u884c\u7b2c\u4e00\u6b21\u56de\u6d4b\u3002</p>"},{"location":"zh/getting-started/#_2","title":"\u5b89\u88c5","text":"<p>\u4f7f\u7528 pip \u5b89\u88c5 Optopsy:</p> <pre><code>pip install optopsy\n</code></pre>"},{"location":"zh/getting-started/#_3","title":"\u7cfb\u7edf\u8981\u6c42","text":"<ul> <li>Python 3.8 \u6216\u66f4\u9ad8\u7248\u672c</li> <li>Pandas 2.0 \u6216\u66f4\u9ad8\u7248\u672c</li> <li>NumPy 1.26 \u6216\u66f4\u9ad8\u7248\u672c</li> </ul>"},{"location":"zh/getting-started/#_4","title":"\u6570\u636e\u683c\u5f0f","text":"<p>Optopsy \u9700\u8981\u5305\u542b\u4ee5\u4e0b\u5217\u7684\u5386\u53f2\u671f\u6743\u94fe\u6570\u636e:</p> \u5217\u540d \u63cf\u8ff0 \u793a\u4f8b <code>underlying_symbol</code> \u80a1\u7968\u4ee3\u7801 SPX, SPY, QQQ <code>underlying_price</code> \u80a1\u7968/\u6307\u6570\u4ef7\u683c 4500.00 <code>option_type</code> Call \u6216 Put 'c', 'p', 'call', 'put' <code>expiration</code> \u671f\u6743\u5230\u671f\u65e5 2023-01-20 <code>quote_date</code> \u62a5\u4ef7\u65e5\u671f 2023-01-01 <code>strike</code> \u884c\u6743\u4ef7 4500 <code>bid</code> \u4e70\u5165\u4ef7 10.50 <code>ask</code> \u5356\u51fa\u4ef7 11.00"},{"location":"zh/getting-started/#greeks","title":"\u7528\u4e8e Greeks \u8fc7\u6ee4\u7684\u53ef\u9009\u5217","text":"\u5217\u540d \u63cf\u8ff0 <code>delta</code> Delta \u503c <code>gamma</code> Gamma \u503c <code>theta</code> Theta \u503c <code>vega</code> Vega \u503c <code>volume</code> \u4ea4\u6613\u91cf <code>open_interest</code> \u6301\u4ed3\u91cf"},{"location":"zh/getting-started/#_5","title":"\u52a0\u8f7d\u6570\u636e","text":""},{"location":"zh/getting-started/#csv","title":"\u4ece CSV \u52a0\u8f7d","text":"<p>\u4f7f\u7528 <code>csv_data()</code> \u4ece CSV \u6587\u4ef6\u52a0\u8f7d\u671f\u6743\u6570\u636e:</p> <pre><code>import optopsy as op\n\ndata = op.csv_data(\n    'options_data.csv',\n    underlying_symbol=0,      # \u5217\u7d22\u5f15\u6216\u5217\u540d\n    underlying_price=1,\n    option_type=2,\n    expiration=3,\n    quote_date=4,\n    strike=5,\n    bid=6,\n    ask=7\n)\n</code></pre> <p>\u8be5\u51fd\u6570\u63a5\u53d7\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f: - \u5217\u7d22\u5f15(\u6574\u6570): \u6bcf\u5217\u7684\u4f4d\u7f6e - \u5217\u540d(\u5b57\u7b26\u4e32): CSV \u6587\u4ef6\u7684\u8868\u5934\u540d\u79f0</p>"},{"location":"zh/getting-started/#dataframe","title":"\u4ece DataFrame \u52a0\u8f7d","text":"<p>\u5982\u679c\u60a8\u5df2\u6709 pandas DataFrame,\u8bf7\u786e\u4fdd\u5b83\u5305\u542b\u6240\u9700\u7684\u5217:</p> <pre><code>import pandas as pd\nimport optopsy as op\n\n# \u60a8\u73b0\u6709\u7684 DataFrame\ndf = pd.read_csv('options_data.csv')\n\n# \u91cd\u547d\u540d\u5217\u4ee5\u5339\u914d Optopsy \u7684\u9884\u671f\u683c\u5f0f\ndf = df.rename(columns={\n    'Symbol': 'underlying_symbol',\n    'UnderlyingPrice': 'underlying_price',\n    'Type': 'option_type',\n    'Expiration': 'expiration',\n    'QuoteDate': 'quote_date',\n    'Strike': 'strike',\n    'Bid': 'bid',\n    'Ask': 'ask'\n})\n\n# \u73b0\u5728\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\nresults = op.long_calls(df)\n</code></pre>"},{"location":"zh/getting-started/#_6","title":"\u8fd0\u884c\u7b2c\u4e00\u6b21\u56de\u6d4b","text":""},{"location":"zh/getting-started/#long-calls","title":"\u793a\u4f8b: Long Calls","text":"<p>\u8ba9\u6211\u4eec\u56de\u6d4b\u4e00\u4e2a\u7b80\u5355\u7684 long call \u7b56\u7565:</p> <pre><code>import optopsy as op\n\n# \u52a0\u8f7d\u6570\u636e\ndata = op.csv_data('SPX_2023.csv')\n\n# \u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\u8fd0\u884c\u56de\u6d4b\nresults = op.long_calls(data)\n\nprint(results)\n</code></pre>"},{"location":"zh/getting-started/#_7","title":"\u81ea\u5b9a\u4e49\u53c2\u6570\u793a\u4f8b","text":"<p>\u81ea\u5b9a\u4e49\u56de\u6d4b\u53c2\u6570:</p> <pre><code>results = op.long_calls(\n    data,\n    max_entry_dte=60,        # \u5728 60 \u5929 DTE \u65f6\u8fdb\u573a\n    exit_dte=30,             # \u5728 30 DTE \u65f6\u51fa\u573a\n    dte_interval=7,          # \u6309 7 \u5929\u95f4\u9694\u5206\u7ec4\u7ed3\u679c\n    max_otm_pct=0.20,        # \u6700\u5927 20% \u865a\u503c\n    otm_pct_interval=0.05,   # \u6309 5% OTM \u95f4\u9694\u5206\u7ec4\n    min_bid_ask=0.10         # \u6700\u5c0f $0.10 \u4e70\u5356\u4ef7\u5dee\n)\n\nprint(results.head())\n</code></pre>"},{"location":"zh/getting-started/#_8","title":"\u7406\u89e3\u8f93\u51fa\u7ed3\u679c","text":""},{"location":"zh/getting-started/#_9","title":"\u805a\u5408\u7ed3\u679c(\u9ed8\u8ba4)","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b,\u7b56\u7565\u8fd4\u56de\u6309 DTE \u548c OTM% \u8303\u56f4\u5206\u7ec4\u7684\u805a\u5408\u7edf\u8ba1\u6570\u636e:</p> <pre><code>results = op.long_calls(data)\nprint(results.columns)\n# ['dte_range', 'otm_pct_range', 'count', 'mean', 'std', 'min', '25%', '50%', '75%', 'max']\n</code></pre> <p>\u8f93\u51fa\u793a\u4f8b:</p> dte_range otm_pct_range count mean std min 50% max (0, 7] (0.0, 0.05] 1250 0.23 0.45 -1.0 0.15 2.8 (0, 7] (0.05, 0.10] 980 0.18 0.52 -1.0 0.10 3.2"},{"location":"zh/getting-started/#_10","title":"\u539f\u59cb\u4ea4\u6613\u6570\u636e","text":"<p>\u901a\u8fc7\u8bbe\u7f6e <code>raw=True</code> \u83b7\u53d6\u5355\u4e2a\u4ea4\u6613\u8be6\u60c5:</p> <pre><code>results = op.long_calls(data, raw=True)\nprint(results.columns)\n# ['underlying_symbol', 'expiration', 'dte_entry', 'strike', 'entry', 'exit', 'pct_change', ...]\n</code></pre> <p>\u8fd9\u5c06\u4e3a\u60a8\u63d0\u4f9b\u6bcf\u7b14\u4ea4\u6613\u7684\u8be6\u7ec6\u4fe1\u606f,\u7528\u4e8e\u81ea\u5b9a\u4e49\u5206\u6790\u3002</p>"},{"location":"zh/getting-started/#_11","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\u63a2\u7d22 \u5168\u90e8 28 \u79cd\u7b56\u7565</li> <li>\u4e86\u89e3 \u7b56\u7565\u53c2\u6570</li> <li>\u67e5\u770b\u66f4\u591a\u5305\u542b Greeks \u8fc7\u6ee4\u548c\u6ed1\u70b9\u7684 \u793a\u4f8b</li> <li>\u9605\u8bfb API \u53c2\u8003 \u83b7\u53d6\u8be6\u7ec6\u7684\u51fd\u6570\u6587\u6863</li> </ul>"},{"location":"zh/getting-started/#_12","title":"\u5e38\u89c1\u95ee\u9898","text":""},{"location":"zh/getting-started/#_13","title":"\u65e5\u671f\u683c\u5f0f\u9519\u8bef","text":"<p>\u5982\u679c\u9047\u5230\u65e5\u671f\u89e3\u6790\u9519\u8bef,\u8bf7\u786e\u4fdd\u60a8\u7684\u65e5\u671f\u4f7f\u7528\u6807\u51c6\u683c\u5f0f: - ISO \u683c\u5f0f: <code>2023-01-20</code> - \u7f8e\u56fd\u683c\u5f0f: <code>01/20/2023</code> - \u6b27\u6d32\u683c\u5f0f: <code>20/01/2023</code></p> <p><code>csv_data()</code> \u51fd\u6570\u5c06\u5c1d\u8bd5\u81ea\u52a8\u68c0\u6d4b\u65e5\u671f\u683c\u5f0f\u3002</p>"},{"location":"zh/getting-started/#_14","title":"\u7f3a\u5c11\u5217","text":"<p>\u5982\u679c\u770b\u5230\u5217\u7684 \"KeyError\" \u9519\u8bef,\u8bf7\u68c0\u67e5: 1. \u8be5\u5217\u662f\u5426\u5b58\u5728\u4e8e\u60a8\u7684\u6570\u636e\u4e2d 2. \u60a8\u5728 <code>csv_data()</code> \u4e2d\u6307\u5b9a\u7684\u5217\u7d22\u5f15\u6216\u540d\u79f0\u662f\u5426\u6b63\u786e 3. \u5217\u540d\u662f\u5426\u5b8c\u5168\u5339\u914d(\u533a\u5206\u5927\u5c0f\u5199)</p>"},{"location":"zh/getting-started/#_15","title":"\u7ed3\u679c\u4e3a\u7a7a","text":"<p>\u5982\u679c\u56de\u6d4b\u6ca1\u6709\u8fd4\u56de\u7ed3\u679c: - \u68c0\u67e5\u60a8\u7684\u53c2\u6570\u8303\u56f4(DTE\u3001OTM% \u7b49) - \u9a8c\u8bc1\u60a8\u7684\u6570\u636e\u8986\u76d6\u4e86\u60a8\u6b63\u5728\u6d4b\u8bd5\u7684\u65f6\u95f4\u6bb5 - \u786e\u4fdd\u4e70\u5356\u4ef7\u5dee\u6ee1\u8db3 <code>min_bid_ask</code> \u9608\u503c</p>"},{"location":"zh/parameters/","title":"\u7b56\u7565\u53c2\u6570","text":"<p>\u6240\u6709 Optopsy \u7b56\u7565\u90fd\u63a5\u53d7\u4e00\u7ec4\u901a\u7528\u53c2\u6570,\u7528\u4e8e\u8fc7\u6ee4\u3001\u5206\u7ec4\u548c\u8f93\u51fa\u683c\u5f0f\u5316\u3002\u672c\u6307\u5357\u6db5\u76d6\u6240\u6709\u53ef\u7528\u53c2\u6570\u53ca\u5176\u7528\u6cd5\u3002</p>"},{"location":"zh/parameters/#_2","title":"\u6838\u5fc3\u53c2\u6570","text":""},{"location":"zh/parameters/#_3","title":"\u8fdb\u573a\u548c\u51fa\u573a\u65f6\u673a","text":""},{"location":"zh/parameters/#max_entry_dte","title":"<code>max_entry_dte</code>","text":"<p>\u7c7b\u578b: <code>int</code> | \u9ed8\u8ba4\u503c: <code>90</code></p> <p>\u7b56\u7565\u8fdb\u573a\u65f6\u7684\u6700\u5927\u5230\u671f\u5929\u6570\u3002</p> <pre><code>results = op.iron_condor(data, max_entry_dte=45)  # \u5728 45 DTE \u6216\u66f4\u5c11\u65f6\u8fdb\u573a\n</code></pre> <p>\u4f7f\u7528\u573a\u666f: - <code>max_entry_dte=30</code> - \u77ed\u671f\u4ea4\u6613 - <code>max_entry_dte=60</code> - \u4e2d\u671f\u4ea4\u6613 - <code>max_entry_dte=90</code> - \u957f\u671f\u6301\u4ed3</p>"},{"location":"zh/parameters/#exit_dte","title":"<code>exit_dte</code>","text":"<p>\u7c7b\u578b: <code>int</code> | \u9ed8\u8ba4\u503c: <code>0</code></p> <p>\u7b56\u7565\u51fa\u573a\u65f6\u7684\u5230\u671f\u5929\u6570\u3002\u4f7f\u7528 <code>0</code> \u6301\u6709\u81f3\u5230\u671f\u3002</p> <pre><code>results = op.long_calls(data, max_entry_dte=60, exit_dte=30)  # \u5728 30 DTE \u65f6\u51fa\u573a\n</code></pre> <p>\u4f7f\u7528\u573a\u666f: - <code>exit_dte=0</code> - \u6301\u6709\u81f3\u5230\u671f - <code>exit_dte=21</code> - \u5230\u671f\u524d 3 \u5468\u51fa\u573a - <code>exit_dte=7</code> - \u5230\u671f\u524d 1 \u5468\u51fa\u573a</p>"},{"location":"zh/parameters/#_4","title":"\u8fc7\u6ee4\u53c2\u6570","text":""},{"location":"zh/parameters/#max_otm_pct","title":"<code>max_otm_pct</code>","text":"<p>\u7c7b\u578b: <code>float</code> | \u9ed8\u8ba4\u503c: <code>0.5</code></p> <p>\u671f\u6743\u9009\u62e9\u7684\u6700\u5927\u865a\u503c\u767e\u5206\u6bd4\u3002</p> <pre><code>results = op.short_puts(data, max_otm_pct=0.20)  # \u6700\u5927 20% OTM\n</code></pre> <p>\u793a\u4f8b: - <code>0.05</code> - \u63a5\u8fd1\u5e73\u503c\u671f\u6743(\u6700\u5927 5% OTM) - <code>0.20</code> - \u9002\u5ea6\u865a\u503c(\u6700\u5927 20% OTM) - <code>0.50</code> - \u5bbd\u8303\u56f4(\u6700\u5927 50% OTM)</p> <p>\u8ba1\u7b97\u65b9\u6cd5: <pre><code># \u5bf9\u4e8e calls: (strike - underlying_price) / underlying_price\n# \u5bf9\u4e8e puts: (underlying_price - strike) / underlying_price\n</code></pre></p>"},{"location":"zh/parameters/#min_bid_ask","title":"<code>min_bid_ask</code>","text":"<p>\u7c7b\u578b: <code>float</code> | \u9ed8\u8ba4\u503c: <code>0.05</code></p> <p>\u671f\u6743\u6d41\u52a8\u6027\u6240\u9700\u7684\u6700\u5c0f\u4e70\u5356\u4ef7\u5dee\u3002</p> <pre><code>results = op.iron_condor(data, min_bid_ask=0.10)  # \u8981\u6c42 $0.10+ \u4ef7\u5dee\n</code></pre> <p>\u4f7f\u7528\u573a\u666f: - <code>0.05</code> - \u6d41\u52a8\u6027\u8f83\u4f4e\u7684\u6807\u7684 - <code>0.10</code> - \u6807\u51c6\u6d41\u52a8\u6027\u8981\u6c42 - <code>0.20</code> - \u9ad8\u6d41\u52a8\u6027\u8981\u6c42(SPX\u3001SPY)</p>"},{"location":"zh/parameters/#_5","title":"\u5206\u7ec4\u548c\u805a\u5408","text":""},{"location":"zh/parameters/#dte_interval","title":"<code>dte_interval</code>","text":"<p>\u7c7b\u578b: <code>int</code> | \u9ed8\u8ba4\u503c: <code>7</code></p> <p>\u6309 DTE \u8303\u56f4\u5206\u7ec4\u7ed3\u679c\u7684\u95f4\u9694\u3002</p> <pre><code>results = op.long_calls(data, dte_interval=14)  # \u6309 14 \u5929\u6876\u5206\u7ec4\n</code></pre> <p>\u793a\u4f8b: - <code>7</code> - \u6bcf\u5468\u5206\u7ec4: (0,7], (7,14], (14,21], ... - <code>14</code> - \u53cc\u5468\u5206\u7ec4: (0,14], (14,28], ... - <code>30</code> - \u6bcf\u6708\u5206\u7ec4: (0,30], (30,60], ...</p>"},{"location":"zh/parameters/#otm_pct_interval","title":"<code>otm_pct_interval</code>","text":"<p>\u7c7b\u578b: <code>float</code> | \u9ed8\u8ba4\u503c: <code>0.05</code></p> <p>\u6309 OTM \u767e\u5206\u6bd4\u8303\u56f4\u5206\u7ec4\u7ed3\u679c\u7684\u95f4\u9694\u3002</p> <pre><code>results = op.short_strangles(data, otm_pct_interval=0.10)  # 10% OTM \u6876\n</code></pre> <p>\u793a\u4f8b: - <code>0.05</code> - \u7ec6\u7c92\u5ea6: (0.0, 0.05], (0.05, 0.10], ... - <code>0.10</code> - \u7c97\u7c92\u5ea6\u6876: (0.0, 0.10], (0.10, 0.20], ...</p>"},{"location":"zh/parameters/#_6","title":"\u8f93\u51fa\u63a7\u5236","text":""},{"location":"zh/parameters/#raw","title":"<code>raw</code>","text":"<p>\u7c7b\u578b: <code>bool</code> | \u9ed8\u8ba4\u503c: <code>False</code></p> <p>\u8fd4\u56de\u539f\u59cb\u4ea4\u6613\u6570\u636e\u800c\u4e0d\u662f\u805a\u5408\u7edf\u8ba1\u3002</p> <pre><code># \u805a\u5408\u7edf\u8ba1(\u9ed8\u8ba4)\nresults = op.iron_condor(data, raw=False)\n# \u8f93\u51fa: ['dte_range', 'otm_pct_range', 'count', 'mean', 'std', ...]\n\n# \u539f\u59cb\u4ea4\u6613\u6570\u636e\ntrades = op.iron_condor(data, raw=True)\n# \u8f93\u51fa: ['expiration', 'strike_leg1', 'strike_leg2', 'entry', 'exit', 'pct_change', ...]\n</code></pre> <p>\u4f7f\u7528\u573a\u666f: - <code>raw=False</code> - \u6027\u80fd\u7edf\u8ba1\u3001\u56de\u6d4b\u7ed3\u679c - <code>raw=True</code> - \u81ea\u5b9a\u4e49\u5206\u6790\u3001\u8be6\u7ec6\u68c0\u67e5\u3001\u8c03\u8bd5</p>"},{"location":"zh/parameters/#drop_nan","title":"<code>drop_nan</code>","text":"<p>\u7c7b\u578b: <code>bool</code> | \u9ed8\u8ba4\u503c: <code>True</code></p> <p>\u5220\u9664\u7ed3\u679c\u4e2d\u5305\u542b NaN \u503c\u7684\u884c\u3002</p> <pre><code>results = op.long_calls(data, drop_nan=False)  # \u4fdd\u7559 NaN \u503c\n</code></pre>"},{"location":"zh/parameters/#greeks","title":"Greeks \u53c2\u6570","text":""},{"location":"zh/parameters/#delta","title":"Delta \u8fc7\u6ee4","text":""},{"location":"zh/parameters/#delta_min-delta_max","title":"<code>delta_min</code> / <code>delta_max</code>","text":"<p>\u7c7b\u578b: <code>float</code> | \u9ed8\u8ba4\u503c: <code>None</code></p> <p>\u6309 delta \u8303\u56f4\u8fc7\u6ee4\u671f\u6743\u3002</p> <pre><code># \u76ee\u6807 30-delta \u671f\u6743\nresults = op.short_puts(\n    data,\n    delta_min=0.25,\n    delta_max=0.35\n)\n</code></pre> <p>\u5e38\u89c1 Delta \u8303\u56f4: - <code>0.15-0.20</code> - 1 \u4e2a\u6807\u51c6\u5dee OTM(\u7ea6 15-20% \u6982\u7387 ITM) - <code>0.25-0.35</code> - \u4fe1\u7528\u4ef7\u5dee\u5e38\u7528 - <code>0.40-0.50</code> - \u63a5\u8fd1\u5e73\u503c\u671f\u6743 - <code>0.50+</code> - \u5b9e\u503c\u671f\u6743</p> <p>\u6ce8\u610f: \u9700\u8981\u6570\u636e\u4e2d\u5305\u542b <code>delta</code> \u5217\u3002</p>"},{"location":"zh/parameters/#delta_interval","title":"<code>delta_interval</code>","text":"<p>\u7c7b\u578b: <code>float</code> | \u9ed8\u8ba4\u503c: <code>None</code></p> <p>\u6309 delta \u8303\u56f4\u5206\u7ec4\u7ed3\u679c\u3002</p> <pre><code>results = op.iron_condor(\n    data,\n    delta_interval=0.10  # \u5206\u7ec4\u4e3a: (0.0,0.1], (0.1,0.2], \u7b49\n)\n</code></pre>"},{"location":"zh/parameters/#_7","title":"\u6ed1\u70b9\u53c2\u6570","text":""},{"location":"zh/parameters/#slippage","title":"<code>slippage</code>","text":"<p>\u7c7b\u578b: <code>str</code> | \u9ed8\u8ba4\u503c: <code>'mid'</code></p> <p>\u6210\u4ea4\u4ef7\u683c\u8ba1\u7b97\u7684\u6ed1\u70b9\u6a21\u578b\u3002</p> <pre><code>results = op.long_calls(data, slippage='liquidity')\n</code></pre> <p>\u9009\u9879:</p> \u6a21\u5f0f \u63cf\u8ff0 \u4e70\u5165\u6210\u4ea4 \u5356\u51fa\u6210\u4ea4 \u6700\u9002\u5408 <code>'mid'</code> \u4e70\u5356\u4ef7\u4e4b\u95f4\u7684\u4e2d\u95f4\u4ef7 (bid+ask)/2 (bid+ask)/2 \u7406\u60f3/\u4e50\u89c2 <code>'spread'</code> \u6700\u5dee\u60c5\u51b5\u4ef7\u5dee Ask Bid \u4fdd\u5b88 <code>'liquidity'</code> \u57fa\u4e8e\u6210\u4ea4\u91cf\u7684\u52a8\u6001 \u52a8\u6001 \u52a8\u6001 \u73b0\u5b9e"},{"location":"zh/parameters/#fill_ratio-liquidity","title":"<code>fill_ratio</code> (\u4ec5\u9650 Liquidity \u6a21\u5f0f)","text":"<p>\u7c7b\u578b: <code>float</code> | \u9ed8\u8ba4\u503c: <code>0.5</code></p> <p>\u57fa\u4e8e\u6d41\u52a8\u6027\u6ed1\u70b9\u7684\u57fa\u7840\u6210\u4ea4\u6bd4\u7387(0.0 = bid/ask, 1.0 = ask/bid)\u3002</p> <pre><code>results = op.iron_condor(\n    data,\n    slippage='liquidity',\n    fill_ratio=0.3  # \u66f4\u4fdd\u5b88\u7684\u6210\u4ea4(\u901a\u8fc7\u4ef7\u5dee\u7684 30%)\n)\n</code></pre> <p>\u793a\u4f8b: - <code>0.0</code> - \u6700\u5dee\u60c5\u51b5(\u4ee5 ask \u4e70\u5165,\u4ee5 bid \u5356\u51fa) - <code>0.5</code> - \u4e2d\u70b9(\u9ed8\u8ba4) - <code>1.0</code> - \u6700\u4f73\u60c5\u51b5(\u4ee5 bid \u4e70\u5165,\u4ee5 ask \u5356\u51fa - \u4e0d\u73b0\u5b9e)</p>"},{"location":"zh/parameters/#reference_volume-liquidity","title":"<code>reference_volume</code> (\u4ec5\u9650 Liquidity \u6a21\u5f0f)","text":"<p>\u7c7b\u578b: <code>int</code> | \u9ed8\u8ba4\u503c: <code>1000</code></p> <p>\u6d41\u52a8\u6027\u6a21\u5f0f\u4e0b\u786e\u5b9a\u6d41\u52a8\u671f\u6743\u7684\u6210\u4ea4\u91cf\u9608\u503c\u3002</p> <pre><code>results = op.short_strangles(\n    data,\n    slippage='liquidity',\n    reference_volume=5000  # SPX \u7684\u66f4\u9ad8\u9608\u503c\n)\n</code></pre> <p>\u6307\u5357: - <code>500-1000</code> - \u6d41\u52a8\u6027\u8f83\u4f4e\u7684\u6807\u7684 - <code>1000-2000</code> - \u6807\u51c6\u6d41\u52a8\u6027(\u9ed8\u8ba4) - <code>5000+</code> - \u9ad8\u6d41\u52a8\u6027(SPX\u3001SPY\u3001QQQ)</p> <p>\u6ce8\u610f: \u9700\u8981\u6570\u636e\u4e2d\u5305\u542b <code>volume</code> \u6216 <code>open_interest</code> \u5217\u3002</p>"},{"location":"zh/parameters/#calendar-diagonal","title":"Calendar &amp; Diagonal \u53c2\u6570","text":"<p>Calendar \u548c diagonal \u4ef7\u5dee\u4f7f\u7528\u4e0d\u540c\u7684\u65f6\u95f4\u53c2\u6570:</p>"},{"location":"zh/parameters/#front_dte_min-front_dte_max","title":"<code>front_dte_min</code> / <code>front_dte_max</code>","text":"<p>\u7c7b\u578b: <code>int</code> | \u9ed8\u8ba4\u503c: <code>20</code> / <code>40</code></p> <p>\u524d\u6708\u817f\u7684 DTE \u8303\u56f4\u3002</p> <pre><code>results = op.long_call_calendar(\n    data,\n    front_dte_min=25,\n    front_dte_max=35  # \u524d\u6708\u817f\u5728 25-35 DTE \u4e4b\u95f4\n)\n</code></pre>"},{"location":"zh/parameters/#back_dte_min-back_dte_max","title":"<code>back_dte_min</code> / <code>back_dte_max</code>","text":"<p>\u7c7b\u578b: <code>int</code> | \u9ed8\u8ba4\u503c: <code>50</code> / <code>90</code></p> <p>\u540e\u6708\u817f\u7684 DTE \u8303\u56f4\u3002</p> <pre><code>results = op.long_call_diagonal(\n    data,\n    back_dte_min=60,\n    back_dte_max=120  # \u540e\u6708\u817f\u5728 60-120 DTE \u4e4b\u95f4\n)\n</code></pre>"},{"location":"zh/parameters/#_8","title":"\u5b8c\u6574\u793a\u4f8b","text":"<p>\u7ec4\u5408\u591a\u4e2a\u53c2\u6570:</p> <pre><code>import optopsy as op\n\ndata = op.csv_data('SPX_options.csv')\n\nresults = op.iron_condor(\n    data,\n    # \u65f6\u673a\n    max_entry_dte=45,\n    exit_dte=21,\n\n    # \u8fc7\u6ee4\n    max_otm_pct=0.30,\n    min_bid_ask=0.15,\n    delta_min=0.15,\n    delta_max=0.20,\n\n    # \u5206\u7ec4\n    dte_interval=7,\n    otm_pct_interval=0.05,\n    delta_interval=0.05,\n\n    # \u6ed1\u70b9\n    slippage='liquidity',\n    fill_ratio=0.5,\n    reference_volume=5000,\n\n    # \u8f93\u51fa\n    raw=False,\n    drop_nan=True\n)\n\nprint(results.head())\n</code></pre>"},{"location":"zh/parameters/#_9","title":"\u9ed8\u8ba4\u503c\u53c2\u8003","text":""},{"location":"zh/parameters/#_10","title":"\u6807\u51c6\u7b56\u7565","text":"<pre><code>default_kwargs = {\n    \"dte_interval\": 7,\n    \"max_entry_dte\": 90,\n    \"exit_dte\": 0,\n    \"otm_pct_interval\": 0.05,\n    \"max_otm_pct\": 0.5,\n    \"min_bid_ask\": 0.05,\n    \"drop_nan\": True,\n    \"raw\": False,\n    \"delta_min\": None,\n    \"delta_max\": None,\n    \"delta_interval\": None,\n    \"slippage\": \"mid\",\n    \"fill_ratio\": 0.5,\n    \"reference_volume\": 1000,\n}\n</code></pre>"},{"location":"zh/parameters/#calendar-diagonal_1","title":"Calendar &amp; Diagonal \u7b56\u7565","text":"<pre><code>calendar_default_kwargs = {\n    \"front_dte_min\": 20,\n    \"front_dte_max\": 40,\n    \"back_dte_min\": 50,\n    \"back_dte_max\": 90,\n    \"exit_dte\": 7,\n    \"dte_interval\": 7,\n    \"otm_pct_interval\": 0.05,\n    \"max_otm_pct\": 0.5,\n    \"min_bid_ask\": 0.05,\n    \"drop_nan\": True,\n    \"raw\": False,\n    \"slippage\": \"mid\",\n    \"fill_ratio\": 0.5,\n    \"reference_volume\": 1000,\n}\n</code></pre>"},{"location":"zh/parameters/#_11","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\u67e5\u770b \u793a\u4f8b \u4e86\u89e3\u5b9e\u9645\u53c2\u6570\u4f7f\u7528</li> <li>\u63a2\u7d22 \u7b56\u7565 \u4e86\u89e3\u7279\u5b9a\u7b56\u7565\u7684\u8003\u8651\u56e0\u7d20</li> <li>\u67e5\u9605 API \u53c2\u8003 \u4e86\u89e3\u51fd\u6570\u7b7e\u540d</li> </ul>"},{"location":"zh/strategies/","title":"\u7b56\u7565\u6982\u89c8","text":"<p>Optopsy \u5305\u542b 28 \u79cd\u5185\u7f6e\u671f\u6743\u7b56\u7565,\u6db5\u76d6\u5355\u817f\u3001\u591a\u817f\u548c\u57fa\u4e8e\u65f6\u95f4\u7684\u7b56\u7565\u3002</p>"},{"location":"zh/strategies/#_2","title":"\u7b56\u7565\u5206\u7c7b","text":""},{"location":"zh/strategies/#4","title":"\u5355\u817f\u7b56\u7565 (4)","text":"<p>\u4f7f\u7528 call \u6216 put \u7684\u57fa\u672c\u65b9\u5411\u6027\u4ea4\u6613\u3002</p> <ul> <li>Long Calls - \u770b\u6da8\u65b9\u5411\u6027\u62bc\u6ce8</li> <li>Short Calls - \u770b\u8dcc\u6216\u4e2d\u6027\u6536\u76ca</li> <li>Long Puts - \u770b\u8dcc\u65b9\u5411\u6027\u62bc\u6ce8</li> <li>Short Puts - \u770b\u6da8\u6536\u76ca\u7b56\u7565</li> </ul> <p>\u4e86\u89e3\u66f4\u591a \u2192</p>"},{"location":"zh/strategies/#straddles-strangles-4","title":"Straddles &amp; Strangles (4)","text":"<p>\u57fa\u4e8e\u6ce2\u52a8\u7387\u7684\u7b56\u7565,\u7ed3\u5408 call \u548c put\u3002</p> <ul> <li>Long Straddle - \u4ece\u5927\u5e45\u6ce2\u52a8\u4e2d\u83b7\u5229</li> <li>Short Straddle - \u4ece\u4f4e\u6ce2\u52a8\u7387\u83b7\u5f97\u6536\u76ca</li> <li>Long Strangle - \u6210\u672c\u66f4\u4f4e\u7684\u6ce2\u52a8\u7387\u4ea4\u6613</li> <li>Short Strangle - \u66f4\u5bbd\u7684\u76c8\u5229\u533a\u95f4\u6536\u76ca</li> </ul> <p>\u4e86\u89e3\u66f4\u591a \u2192</p>"},{"location":"zh/strategies/#4_1","title":"\u5782\u76f4\u4ef7\u5dee (4)","text":"<p>\u6709\u9650\u98ce\u9669\u7684\u65b9\u5411\u6027\u7b56\u7565\u3002</p> <ul> <li>Long Call Spread - \u770b\u6da8\u501f\u8bb0\u4ef7\u5dee</li> <li>Short Call Spread - \u770b\u8dcc\u4fe1\u7528\u4ef7\u5dee</li> <li>Long Put Spread - \u770b\u8dcc\u501f\u8bb0\u4ef7\u5dee</li> <li>Short Put Spread - \u770b\u6da8\u4fe1\u7528\u4ef7\u5dee</li> </ul> <p>\u4e86\u89e3\u66f4\u591a \u2192</p>"},{"location":"zh/strategies/#4_2","title":"\u8776\u5f0f\u4ef7\u5dee (4)","text":"<p>\u9488\u5bf9\u7279\u5b9a\u4ef7\u683c\u533a\u95f4\u7684\u4e2d\u6027\u7b56\u7565\u3002</p> <ul> <li>Long Call Butterfly - \u5728\u4e2d\u95f4\u884c\u6743\u4ef7\u83b7\u5229</li> <li>Short Call Butterfly - \u4ece\u4ef7\u683c\u79fb\u52a8\u83b7\u5229</li> <li>Long Put Butterfly - \u770b\u8dcc\u8776\u5f0f</li> <li>Short Put Butterfly - \u53cd\u5411 put \u8776\u5f0f</li> </ul> <p>\u4e86\u89e3\u66f4\u591a \u2192</p>"},{"location":"zh/strategies/#iron-4","title":"Iron \u7b56\u7565 (4)","text":"<p>\u5177\u6709\u786e\u5b9a\u98ce\u9669\u7684\u56db\u817f\u7b56\u7565\u3002</p> <ul> <li>Iron Condor - \u533a\u95f4\u9707\u8361\u6536\u76ca</li> <li>Reverse Iron Condor - \u7a81\u7834\u4ea4\u6613</li> <li>Iron Butterfly - \u66f4\u7d27\u7684\u76c8\u5229\u533a\u95f4</li> <li>Reverse Iron Butterfly - Long \u6ce2\u52a8\u7387</li> </ul> <p>\u4e86\u89e3\u66f4\u591a \u2192</p>"},{"location":"zh/strategies/#2","title":"\u5907\u5151\u7b56\u7565 (2)","text":"<p>\u80a1\u7968 + \u671f\u6743\u7ec4\u5408(\u5408\u6210)\u3002</p> <ul> <li>Covered Call - \u6301\u80a1\u6536\u76ca</li> <li>Protective Put - \u4e0b\u884c\u4fdd\u62a4</li> </ul> <p>\u4e86\u89e3\u66f4\u591a \u2192</p>"},{"location":"zh/strategies/#4_3","title":"\u65e5\u5386\u4ef7\u5dee (4)","text":"<p>\u76f8\u540c\u884c\u6743\u4ef7,\u4e0d\u540c\u5230\u671f\u65e5\u3002</p> <ul> <li>Long Call Calendar - \u65f6\u95f4\u8870\u51cf\u4ea4\u6613</li> <li>Short Call Calendar - \u53cd\u5411\u65e5\u5386</li> <li>Long Put Calendar - \u770b\u8dcc\u65f6\u95f4\u4ef7\u5dee</li> <li>Short Put Calendar - \u53cd\u5411 put \u65e5\u5386</li> </ul> <p>\u4e86\u89e3\u66f4\u591a \u2192</p>"},{"location":"zh/strategies/#4_4","title":"\u5bf9\u89d2\u4ef7\u5dee (4)","text":"<p>\u4e0d\u540c\u884c\u6743\u4ef7\u548c\u4e0d\u540c\u5230\u671f\u65e5\u3002</p> <ul> <li>Long Call Diagonal - \u6df7\u5408\u4ef7\u5dee</li> <li>Short Call Diagonal - \u53cd\u5411 call \u5bf9\u89d2</li> <li>Long Put Diagonal - \u770b\u8dcc\u5bf9\u89d2</li> <li>Short Put Diagonal - \u770b\u6da8\u5bf9\u89d2</li> </ul> <p>\u4e86\u89e3\u66f4\u591a \u2192</p>"},{"location":"zh/strategies/#_3","title":"\u5feb\u901f\u53c2\u8003\u8868","text":"\u7b56\u7565 \u817f\u6570 \u5e02\u573a\u89c2\u70b9 \u6700\u5927\u6536\u76ca \u6700\u5927\u635f\u5931 \u4f7f\u7528\u793a\u4f8b Long Call 1 \u770b\u6da8 \u65e0\u9650 \u652f\u4ed8\u7684\u6743\u5229\u91d1 \u62bc\u6ce8\u4e0a\u6da8 Short Put 1 \u770b\u6da8 \u6536\u5230\u7684\u6743\u5229\u91d1 \u91cd\u5927\u635f\u5931 \u521b\u6536 Iron Condor 4 \u4e2d\u6027 \u51c0\u4fe1\u7528 \u884c\u6743\u4ef7\u5dee \u533a\u95f4\u9707\u8361\u5e02\u573a Long Straddle 2 \u9ad8\u6ce2\u52a8\u7387 \u65e0\u9650 \u652f\u4ed8\u7684\u6743\u5229\u91d1 \u8d22\u62a5\u524d Call Butterfly 3 \u4e2d\u6027 \u7ffc\u5bbd \u51c0\u501f\u8bb0 \u9501\u5b9a\u884c\u6743\u4ef7 Call Calendar 2 \u4e2d\u6027 \u53ef\u53d8 \u51c0\u501f\u8bb0 \u65f6\u95f4\u8870\u51cf\u4ea4\u6613"},{"location":"zh/strategies/#_4","title":"\u7b56\u7565\u9009\u62e9\u6307\u5357","text":""},{"location":"zh/strategies/#_5","title":"\u5982\u679c\u60a8\u8ba4\u4e3a\u5e02\u573a\u5c06...","text":"<p>\u5927\u5e45\u4e0a\u6da8 - Long Calls - Long Call Spread</p> <p>\u5927\u5e45\u4e0b\u8dcc - Long Puts - Long Put Spread</p> <p>\u4fdd\u6301\u5e73\u7a33 - Short Straddle - Short Strangle - Iron Condor - Iron Butterfly</p> <p>\u6ce2\u52a8\u4f46\u65b9\u5411\u4e0d\u786e\u5b9a - Long Straddle - Long Strangle</p> <p>\u4fdd\u6301\u5728\u5f53\u524d\u4ef7\u683c\u9644\u8fd1 - Calendar Spreads - Butterflies</p>"},{"location":"zh/strategies/#_6","title":"\u6309\u98ce\u9669/\u56de\u62a5\u7279\u5f81","text":"<p>\u6709\u9650\u98ce\u9669,\u6709\u9650\u56de\u62a5 - \u6240\u6709\u4ef7\u5dee(\u5782\u76f4\u3001\u8776\u5f0f\u3001iron condor)</p> <p>\u6709\u9650\u98ce\u9669,\u65e0\u9650\u56de\u62a5 - Long calls/puts - Long straddles/strangles</p> <p>\u91cd\u5927\u98ce\u9669,\u6709\u9650\u56de\u62a5 - Short calls/puts - Short straddles/strangles</p>"},{"location":"zh/strategies/#_7","title":"\u901a\u7528\u53c2\u6570","text":"<p>\u6240\u6709\u7b56\u7565\u90fd\u63a5\u53d7\u8fd9\u4e9b\u901a\u7528\u53c2\u6570:</p> <ul> <li><code>max_entry_dte</code> - \u8fdb\u573a\u65f6\u7684\u6700\u5927 DTE</li> <li><code>exit_dte</code> - \u51fa\u573a\u65f6\u7684 DTE</li> <li><code>dte_interval</code> - \u7ed3\u679c\u5206\u7ec4\u95f4\u9694</li> <li><code>max_otm_pct</code> - \u6700\u5927\u865a\u503c\u767e\u5206\u6bd4</li> <li><code>otm_pct_interval</code> - OTM% \u5206\u7ec4\u95f4\u9694</li> <li><code>min_bid_ask</code> - \u6700\u5c0f\u4e70\u5356\u4ef7\u5dee\u8fc7\u6ee4\u5668</li> <li><code>raw</code> - \u8fd4\u56de\u539f\u59cb\u4ea4\u6613\u6570\u636e(\u9ed8\u8ba4:\u805a\u5408\u7edf\u8ba1)</li> </ul> <p>\u67e5\u770b \u53c2\u6570\u6307\u5357 \u83b7\u53d6\u5b8c\u6574\u8be6\u7ec6\u4fe1\u606f\u3002</p>"},{"location":"zh/strategies/#_8","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\u6df1\u5165\u4e86\u89e3\u7279\u5b9a \u7b56\u7565\u5206\u7c7b</li> <li>\u4e86\u89e3 \u7b56\u7565\u53c2\u6570</li> <li>\u67e5\u770b\u771f\u5b9e\u56de\u6d4b\u7684 \u793a\u4f8b</li> <li>\u67e5\u9605 API \u53c2\u8003 \u4e86\u89e3\u51fd\u6570\u7b7e\u540d</li> </ul>"},{"location":"zh/strategies/butterflies/","title":"\u8776\u5f0f\u4ef7\u5dee","text":"<p>\u8776\u5f0f\u4ef7\u5dee\u662f\u4e09\u817f\u7b56\u7565,\u65e8\u5728\u5f53\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u7279\u5b9a\u4ef7\u683c\u9644\u8fd1\u65f6\u83b7\u5229\u3002\u5b83\u4eec\u63d0\u4f9b\u6709\u9650\u98ce\u9669\u548c\u6709\u9650\u56de\u62a5,\u5e02\u573a\u89c2\u70b9\u4e2d\u6027\u3002</p>"},{"location":"zh/strategies/butterflies/#_2","title":"\u63cf\u8ff0","text":"<p>\u5f53\u6807\u7684\u8d44\u4ea7\u5728\u5230\u671f\u65f6\u4fdd\u6301\u5728\u4e2d\u95f4\u884c\u6743\u4ef7\u65f6\u83b7\u5229\u3002</p> <p>\u7ec4\u6210: - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e(\u7ffc) - Short 2 \u4e2a calls,\u884c\u6743\u4ef7\u4e3a\u4e2d\u95f4(\u8eab\u4f53) - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8(\u7ffc)</p>"},{"location":"zh/strategies/butterflies/#_3","title":"\u793a\u4f8b","text":"<pre><code>import optopsy as op\nresults = op.long_call_butterfly(data, max_entry_dte=45, exit_dte=21)\n</code></pre>"},{"location":"zh/strategies/butterflies/#_4","title":"\u63cf\u8ff0","text":"<p>\u5f53\u6807\u7684\u8d44\u4ea7\u5728\u4efb\u4e00\u65b9\u5411\u504f\u79bb\u4e2d\u95f4\u884c\u6743\u4ef7\u65f6\u83b7\u5229\u3002</p> <p>\u7ec4\u6210: - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e - Long 2 \u4e2a calls,\u884c\u6743\u4ef7\u4e3a\u4e2d\u95f4 - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8</p>"},{"location":"zh/strategies/butterflies/#_5","title":"\u793a\u4f8b","text":"<pre><code>results = op.short_call_butterfly(data, max_entry_dte=30, exit_dte=7)\n</code></pre>"},{"location":"zh/strategies/butterflies/#_6","title":"\u63cf\u8ff0","text":"<p>\u7c7b\u4f3c\u4e8e long call butterfly,\u4f46\u4f7f\u7528 puts\u3002\u5728\u4e2d\u95f4\u884c\u6743\u4ef7\u83b7\u5229\u3002</p> <p>\u7ec4\u6210: - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e(\u7ffc) - Short 2 \u4e2a puts,\u884c\u6743\u4ef7\u4e3a\u4e2d\u95f4(\u8eab\u4f53) - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8(\u7ffc)</p>"},{"location":"zh/strategies/butterflies/#_7","title":"\u793a\u4f8b","text":"<pre><code>results = op.long_put_butterfly(data, max_entry_dte=45, exit_dte=21)\n</code></pre>"},{"location":"zh/strategies/butterflies/#_8","title":"\u63cf\u8ff0","text":"<p>\u5f53\u6807\u7684\u8d44\u4ea7\u5927\u5e45\u504f\u79bb\u4e2d\u95f4\u884c\u6743\u4ef7\u65f6\u83b7\u5229\u3002</p> <p>\u7ec4\u6210: - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e - Long 2 \u4e2a puts,\u884c\u6743\u4ef7\u4e3a\u4e2d\u95f4 - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8</p>"},{"location":"zh/strategies/butterflies/#_9","title":"\u793a\u4f8b","text":"<pre><code>results = op.short_put_butterfly(data, max_entry_dte=30, exit_dte=7)\n</code></pre>"},{"location":"zh/strategies/butterflies/#_10","title":"\u5173\u952e\u7279\u5f81","text":"<ul> <li>\u7b49\u5bbd\u7ffc: \u7ffc\u4e0e\u8eab\u4f53\u7b49\u8ddd</li> <li>\u4f4e\u6210\u672c: \u901a\u5e38\u4ee5\u5c0f\u989d\u501f\u8bb0\u751a\u81f3\u4fe1\u7528\u8fdb\u573a</li> <li>\u6709\u9650\u98ce\u9669: \u6700\u5927\u635f\u5931\u9650\u4e8e\u652f\u4ed8\u7684\u501f\u8bb0</li> <li>\u9ad8\u7cbe\u5ea6: \u5728\u4e2d\u95f4\u884c\u6743\u4ef7\u5468\u56f4\u7684\u7a84\u8303\u56f4\u5185\u83b7\u5229</li> </ul>"},{"location":"zh/strategies/calendars/","title":"\u65e5\u5386\u4ef7\u5dee","text":"<p>\u65e5\u5386\u4ef7\u5dee(\u4e5f\u79f0\u4e3a\u65f6\u95f4\u4ef7\u5dee\u6216\u6c34\u5e73\u4ef7\u5dee)\u4f7f\u7528\u76f8\u540c\u884c\u6743\u4ef7\u4f46\u4e0d\u540c\u5230\u671f\u65e5\u7684\u671f\u6743\u3002\u5b83\u4eec\u4ece\u65f6\u95f4\u8870\u51cf\u5dee\u5f02\u548c\u9690\u542b\u6ce2\u52a8\u7387\u53d8\u5316\u4e2d\u83b7\u5229\u3002</p>"},{"location":"zh/strategies/calendars/#_2","title":"\u63cf\u8ff0","text":"<p>\u5356\u51fa\u8fd1\u671f call \u5e76\u4e70\u5165\u957f\u671f call,\u884c\u6743\u4ef7\u76f8\u540c\u3002\u4ece\u65f6\u95f4\u8870\u51cf\u548c\u540e\u6708\u6ce2\u52a8\u7387\u6269\u5f20\u4e2d\u83b7\u5229\u3002</p> <p>\u7ec4\u6210: - Short 1 \u4e2a\u524d\u6708 call(\u63a5\u8fd1\u5230\u671f) - Long 1 \u4e2a\u540e\u6708 call(\u66f4\u957f\u5230\u671f) - \u4e24\u8005\u884c\u6743\u4ef7\u76f8\u540c</p>"},{"location":"zh/strategies/calendars/#_3","title":"\u793a\u4f8b","text":"<pre><code>import optopsy as op\n\nresults = op.long_call_calendar(\n    data,\n    front_dte_min=20,\n    front_dte_max=40,\n    back_dte_min=50,\n    back_dte_max=90,\n    exit_dte=7  # \u5728\u524d\u6708\u5230\u671f\u524d 7 \u5929\u9000\u51fa\n)\n</code></pre>"},{"location":"zh/strategies/calendars/#_4","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u5728\u884c\u6743\u4ef7\u9644\u8fd1\u7684\u4e2d\u6027\u5e02\u573a</li> <li>\u9884\u671f\u6ce2\u52a8\u7387\u589e\u52a0</li> <li>\u65f6\u95f4\u8870\u51cf\u4ea4\u6613</li> </ul>"},{"location":"zh/strategies/calendars/#_5","title":"\u63cf\u8ff0","text":"<p>\u4e70\u5165\u8fd1\u671f call,\u5356\u51fa\u957f\u671f call\u3002\u4ece\u8fdc\u79bb\u884c\u6743\u4ef7\u7684\u5927\u5e45\u79fb\u52a8\u4e2d\u83b7\u5229\u3002</p> <p>\u7ec4\u6210: - Long 1 \u4e2a\u524d\u6708 call - Short 1 \u4e2a\u540e\u6708 call - \u4e24\u8005\u884c\u6743\u4ef7\u76f8\u540c</p>"},{"location":"zh/strategies/calendars/#_6","title":"\u793a\u4f8b","text":"<pre><code>results = op.short_call_calendar(\n    data,\n    front_dte_min=20,\n    front_dte_max=40,\n    back_dte_min=50,\n    back_dte_max=90\n)\n</code></pre>"},{"location":"zh/strategies/calendars/#_7","title":"\u63cf\u8ff0","text":"<p>\u7c7b\u4f3c\u4e8e long call calendar,\u4f46\u4f7f\u7528 puts\u3002\u4ece\u884c\u6743\u4ef7\u5904\u7684\u4e2d\u6027\u4ef7\u683c\u884c\u4e3a\u4e2d\u83b7\u5229\u3002</p> <p>\u7ec4\u6210: - Short 1 \u4e2a\u524d\u6708 put - Long 1 \u4e2a\u540e\u6708 put - \u4e24\u8005\u884c\u6743\u4ef7\u76f8\u540c</p>"},{"location":"zh/strategies/calendars/#_8","title":"\u793a\u4f8b","text":"<pre><code>results = op.long_put_calendar(data)\n</code></pre>"},{"location":"zh/strategies/calendars/#_9","title":"\u63cf\u8ff0","text":"<p>Long put calendar \u7684\u76f8\u53cd\u3002\u4ece\u8fdc\u79bb\u884c\u6743\u4ef7\u7684\u79fb\u52a8\u4e2d\u83b7\u5229\u3002</p> <p>\u7ec4\u6210: - Long 1 \u4e2a\u524d\u6708 put - Short 1 \u4e2a\u540e\u6708 put - \u4e24\u8005\u884c\u6743\u4ef7\u76f8\u540c</p>"},{"location":"zh/strategies/calendars/#_10","title":"\u793a\u4f8b","text":"<pre><code>results = op.short_put_calendar(data)\n</code></pre>"},{"location":"zh/strategies/calendars/#_11","title":"\u5173\u952e\u53c2\u6570","text":"<p>\u65e5\u5386\u4ef7\u5dee\u4f7f\u7528\u4e0d\u540c\u7684\u9ed8\u8ba4\u53c2\u6570:</p> <pre><code>calendar_default_kwargs = {\n    \"front_dte_min\": 20,      # \u524d\u6708\u817f\u7684\u6700\u5c0f DTE\n    \"front_dte_max\": 40,      # \u524d\u6708\u817f\u7684\u6700\u5927 DTE\n    \"back_dte_min\": 50,       # \u540e\u6708\u817f\u7684\u6700\u5c0f DTE\n    \"back_dte_max\": 90,       # \u540e\u6708\u817f\u7684\u6700\u5927 DTE\n    \"exit_dte\": 7,            # \u5728\u524d\u6708\u5230\u671f\u524d 7 \u5929\u9000\u51fa\n    \"dte_interval\": 7,\n    \"otm_pct_interval\": 0.05,\n    \"max_otm_pct\": 0.5,\n}\n</code></pre>"},{"location":"zh/strategies/calendars/#_12","title":"\u6700\u4f73\u5b9e\u8df5","text":"<ul> <li>\u5728\u524d\u6708\u817f\u5230\u671f\u524d\u9000\u51fa\u4ee5\u907f\u514d\u5206\u914d</li> <li>\u76ee\u6807\u884c\u6743\u4ef7\u63a5\u8fd1\u5f53\u524d\u4ef7\u683c</li> <li>\u76d1\u63a7\u5230\u671f\u65e5\u4e4b\u95f4\u7684\u6ce2\u52a8\u7387\u503e\u659c</li> <li>\u8003\u8651\u540e\u6708\u7684 IV \u53d8\u5316</li> </ul>"},{"location":"zh/strategies/covered/","title":"\u5907\u5151\u7b56\u7565","text":"<p>\u5907\u5151\u7b56\u7565\u5c06\u80a1\u7968\u5934\u5bf8\u4e0e\u671f\u6743\u7ed3\u5408,\u7528\u4e8e\u521b\u6536\u6216\u4e0b\u884c\u4fdd\u62a4\u3002</p> <p>\u5408\u6210\u5b9e\u73b0</p> <p>Optopsy \u4f7f\u7528\u6df1\u5ea6\u5b9e\u503c calls \u4f5c\u4e3a\u5408\u6210\u80a1\u7968\u5934\u5bf8\u6765\u6a21\u62df\u5907\u5151\u7b56\u7565,\u56e0\u4e3a\u8be5\u5e93\u4ec5\u5904\u7406\u671f\u6743\u6570\u636e\u3002</p>"},{"location":"zh/strategies/covered/#_2","title":"\u63cf\u8ff0","text":"<p>\u901a\u8fc7\u5bf9 long \u80a1\u7968\u5934\u5bf8(\u6216\u901a\u8fc7\u6df1\u5ea6\u5b9e\u503c call \u7684\u5408\u6210 long)\u5356\u51fa calls \u6765\u521b\u6536\u3002</p> <p>\u7ec4\u6210: - Long \u6807\u7684\u8d44\u4ea7(\u901a\u8fc7 long \u6df1\u5ea6\u5b9e\u503c call \u6a21\u62df) - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u8f83\u9ad8</p>"},{"location":"zh/strategies/covered/#_3","title":"\u793a\u4f8b","text":"<pre><code>import optopsy as op\nresults = op.covered_call(data, max_entry_dte=45, exit_dte=21)\n</code></pre>"},{"location":"zh/strategies/covered/#_4","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u5728\u6301\u80a1\u4e0a\u521b\u6536</li> <li>\u613f\u610f\u4ee5\u66f4\u9ad8\u4ef7\u683c\u5356\u51fa\u80a1\u7968</li> <li>\u4e2d\u6027\u81f3\u7565\u5fae\u770b\u6da8\u7684\u89c2\u70b9</li> </ul>"},{"location":"zh/strategies/covered/#_5","title":"\u63cf\u8ff0","text":"<p>\u901a\u8fc7\u5bf9 long \u80a1\u7968\u5934\u5bf8\u8d2d\u4e70 puts \u6765\u8d2d\u4e70\u4e0b\u884c\u4fdd\u62a4\u3002</p> <p>\u7ec4\u6210: - Long \u6807\u7684\u8d44\u4ea7(\u901a\u8fc7 long \u6df1\u5ea6\u5b9e\u503c call \u6a21\u62df) - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u8f83\u4f4e\u4ee5\u63d0\u4f9b\u4fdd\u62a4</p>"},{"location":"zh/strategies/covered/#_6","title":"\u793a\u4f8b","text":"<pre><code>results = op.protective_put(data, max_entry_dte=90, exit_dte=60)\n</code></pre>"},{"location":"zh/strategies/covered/#_7","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u5bf9\u51b2 long \u80a1\u7968\u5934\u5bf8</li> <li>\u5728\u4e0d\u786e\u5b9a\u671f\u95f4\u7684\u4fdd\u62a4</li> <li>\u6295\u8d44\u7ec4\u5408\u4fdd\u9669</li> </ul>"},{"location":"zh/strategies/diagonals/","title":"\u5bf9\u89d2\u4ef7\u5dee","text":"<p>\u5bf9\u89d2\u4ef7\u5dee\u7ed3\u5408\u4e86\u5782\u76f4\u4ef7\u5dee\u548c\u65e5\u5386\u4ef7\u5dee\u7684\u5143\u7d20,\u4f7f\u7528\u4e0d\u540c\u7684\u884c\u6743\u4ef7\u548c\u4e0d\u540c\u7684\u5230\u671f\u65e5\u3002\u8fd9\u4e9b\u6df7\u5408\u7b56\u7565\u63d0\u4f9b\u7075\u6d3b\u7684\u76c8\u5229\u533a\u95f4\u548c\u65b9\u5411\u6027\u504f\u5411\u3002</p>"},{"location":"zh/strategies/diagonals/#_2","title":"\u63cf\u8ff0","text":"<p>\u4e70\u5165\u4e00\u4e2a\u957f\u671f call,\u884c\u6743\u4ef7\u4e3a\u4e00\u4e2a\u503c,\u5356\u51fa\u4e00\u4e2a\u77ed\u671f call,\u884c\u6743\u4ef7\u4e3a\u53e6\u4e00\u4e2a\u503c\u3002\u7ed3\u5408\u65f6\u95f4\u8870\u51cf\u548c\u65b9\u5411\u6027\u79fb\u52a8\u3002</p> <p>\u7ec4\u6210: - Short 1 \u4e2a\u524d\u6708 call - Long 1 \u4e2a\u540e\u6708 call - \u6bcf\u4e2a\u817f\u7684\u884c\u6743\u4ef7\u4e0d\u540c</p>"},{"location":"zh/strategies/diagonals/#_3","title":"\u793a\u4f8b","text":"<pre><code>import optopsy as op\n\nresults = op.long_call_diagonal(\n    data,\n    front_dte_min=20,\n    front_dte_max=40,\n    back_dte_min=50,\n    back_dte_max=90,\n    exit_dte=7\n)\n</code></pre>"},{"location":"zh/strategies/diagonals/#_4","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u770b\u6da8\u81f3\u4e2d\u6027\u504f\u5411,\u5e26\u6536\u76ca</li> <li>\u6bd4\u65e5\u5386\u66f4\u7075\u6d3b</li> <li>\u53ef\u8c03\u6574\u7684\u65b9\u5411\u6027\u655e\u53e3</li> </ul>"},{"location":"zh/strategies/diagonals/#_5","title":"\u63cf\u8ff0","text":"<p>Long call diagonal \u7684\u76f8\u53cd\u3002\u4e70\u5165\u8fd1\u671f,\u5356\u51fa\u957f\u671f,\u884c\u6743\u4ef7\u4e0d\u540c\u3002</p> <p>\u7ec4\u6210: - Long 1 \u4e2a\u524d\u6708 call - Short 1 \u4e2a\u540e\u6708 call - \u6bcf\u4e2a\u817f\u7684\u884c\u6743\u4ef7\u4e0d\u540c</p>"},{"location":"zh/strategies/diagonals/#_6","title":"\u793a\u4f8b","text":"<pre><code>results = op.short_call_diagonal(data)\n</code></pre>"},{"location":"zh/strategies/diagonals/#_7","title":"\u63cf\u8ff0","text":"<p>\u7ed3\u6784\u7c7b\u4f3c\u4e8e call diagonals,\u4f46\u4f7f\u7528 puts\u3002\u5141\u8bb8\u770b\u8dcc\u81f3\u4e2d\u6027\u5b9a\u4f4d\u3002</p> <p>\u7ec4\u6210: - Short 1 \u4e2a\u524d\u6708 put - Long 1 \u4e2a\u540e\u6708 put - \u6bcf\u4e2a\u817f\u7684\u884c\u6743\u4ef7\u4e0d\u540c</p>"},{"location":"zh/strategies/diagonals/#_8","title":"\u793a\u4f8b","text":"<pre><code>results = op.long_put_diagonal(data)\n</code></pre>"},{"location":"zh/strategies/diagonals/#_9","title":"\u63cf\u8ff0","text":"<p>Long put diagonal \u7684\u76f8\u53cd,\u5230\u671f\u65e5\u76f8\u53cd\u3002</p> <p>\u7ec4\u6210: - Long 1 \u4e2a\u524d\u6708 put - Short 1 \u4e2a\u540e\u6708 put - \u6bcf\u4e2a\u817f\u7684\u884c\u6743\u4ef7\u4e0d\u540c</p>"},{"location":"zh/strategies/diagonals/#_10","title":"\u793a\u4f8b","text":"<pre><code>results = op.short_put_diagonal(data)\n</code></pre>"},{"location":"zh/strategies/diagonals/#diagonal-vs-calendar","title":"Diagonal vs Calendar","text":"\u7279\u5f81 Calendar Spread Diagonal Spread \u884c\u6743\u4ef7 \u76f8\u540c \u4e0d\u540c \u65b9\u5411\u6027 \u4e2d\u6027 \u53ef\u4ee5\u6709\u65b9\u5411\u6027 \u590d\u6742\u6027 \u7b80\u5355 \u66f4\u590d\u6742 \u7075\u6d3b\u6027 \u6709\u9650 \u9ad8"},{"location":"zh/strategies/diagonals/#_11","title":"\u53c2\u6570","text":"<p>\u5bf9\u89d2\u4ef7\u5dee\u4f7f\u7528\u65e5\u5386\u4ef7\u5dee\u53c2\u6570,\u4f46\u8bc4\u4f30\u6240\u6709\u884c\u6743\u4ef7\u7ec4\u5408:</p> <pre><code>results = op.long_call_diagonal(\n    data,\n    front_dte_min=20,\n    front_dte_max=40,\n    back_dte_min=50,\n    back_dte_max=90,\n    max_otm_pct=0.30  # \u66f4\u5bbd\u7684\u884c\u6743\u4ef7\u9009\u62e9\u8303\u56f4\n)\n</code></pre>"},{"location":"zh/strategies/diagonals/#_12","title":"\u7b56\u7565\u6280\u5de7","text":"<ul> <li>\u4ece\u65e5\u5386\u5f00\u59cb,\u968f\u7740\u5e02\u573a\u79fb\u52a8\u8c03\u6574\u884c\u6743\u4ef7</li> <li>\u540c\u65f6\u76d1\u63a7\u65f6\u95f4\u8870\u51cf\u548c\u65b9\u5411\u6027\u79fb\u52a8</li> <li>\u6bd4\u65e5\u5386\u9700\u8981\u66f4\u591a\u7ba1\u7406</li> <li>\u53ef\u4ee5\u8f6c\u6362\u4e3a\u5782\u76f4\u4ef7\u5dee\u6216\u65e5\u5386</li> </ul>"},{"location":"zh/strategies/iron-strategies/","title":"Iron Condors &amp; Iron Butterflies","text":"<p>\u56db\u817f\u7b56\u7565,\u7ed3\u5408\u4fe1\u7528\u4ef7\u5dee\u4ee5\u521b\u5efa\u6709\u9650\u98ce\u9669\u3001\u6709\u9650\u56de\u62a5\u7684\u5934\u5bf8\u3002\u8fd9\u4e9b\u662f\u4e2d\u6027\u81f3\u533a\u95f4\u9707\u8361\u5e02\u573a\u7684\u70ed\u95e8\u6536\u76ca\u7b56\u7565\u3002</p>"},{"location":"zh/strategies/iron-strategies/#_1","title":"\u63cf\u8ff0","text":"<p>Iron condor \u7ed3\u5408 bull put spread \u548c bear call spread,\u521b\u5efa\u4e00\u4e2a\u5bbd\u76c8\u5229\u533a\u95f4\u3002\u8fd9\u662f\u6700\u53d7\u6b22\u8fce\u7684\u4fe1\u7528\u7b56\u7565\u4e4b\u4e00\u3002</p> <p>\u7ec4\u6210: - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a A(\u4fdd\u62a4) - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a B(\u6536\u76ca) - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a C(\u6536\u76ca) - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a D(\u4fdd\u62a4)</p> <p>\u5176\u4e2d: A &lt; B &lt; C &lt; D</p>"},{"location":"zh/strategies/iron-strategies/#_2","title":"\u5e02\u573a\u89c2\u70b9","text":"<ul> <li>\u4e2d\u6027 - \u9884\u671f\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u7a7a\u5934\u884c\u6743\u4ef7\u4e4b\u95f4</li> <li>\u5982\u679c\u4ef7\u683c\u5728\u5230\u671f\u65f6\u4fdd\u6301\u5728\u533a\u95f4\u5185\u5219\u83b7\u5229</li> <li>\u9002\u5408\u4f4e\u6ce2\u52a8\u7387\u3001\u533a\u95f4\u9707\u8361\u5e02\u573a</li> </ul>"},{"location":"zh/strategies/iron-strategies/#_3","title":"\u76c8\u4e8f","text":"<ul> <li>\u6700\u5927\u76c8\u5229: \u6536\u5230\u7684\u51c0\u4fe1\u7528</li> <li>\u6700\u5927\u635f\u5931: \u4ef7\u5dee\u5bbd\u5ea6 - \u51c0\u4fe1\u7528</li> <li>\u76c8\u4e8f\u5e73\u8861\u70b9: Short put \u884c\u6743\u4ef7 - \u51c0\u4fe1\u7528, Short call \u884c\u6743\u4ef7 + \u51c0\u4fe1\u7528</li> </ul>"},{"location":"zh/strategies/iron-strategies/#_4","title":"\u793a\u4f8b","text":"<pre><code>import optopsy as op\n\ndata = op.csv_data('SPX_options.csv')\n\n# \u56de\u6d4b iron condors\nresults = op.iron_condor(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.30,  # \u5bbd\u7ffc\u4ee5\u63d0\u9ad8\u6982\u7387\n    min_bid_ask=0.10\n)\n\nprint(results)\n</code></pre>"},{"location":"zh/strategies/iron-strategies/#_5","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u5728\u533a\u95f4\u9707\u8361\u5e02\u573a\u4e2d\u521b\u6536</li> <li>\u9ad8 IV \u4e8b\u4ef6\u540e(\u8d22\u62a5\u540e IV \u6324\u538b)</li> <li>\u5f53\u60a8\u9884\u671f\u4f4e\u6ce2\u52a8\u7387\u65f6</li> <li>\u6bcf\u6708\u6536\u76ca\u7b56\u7565(45 DTE \u8fdb\u573a,21 DTE \u51fa\u573a)</li> </ul>"},{"location":"zh/strategies/iron-strategies/#_6","title":"\u7ba1\u7406\u6307\u5357","text":"<ul> <li>\u6b62\u76c8: \u5728\u6700\u5927\u76c8\u5229\u7684 50% \u65f6\u5e73\u4ed3</li> <li>\u6b62\u635f: \u5728\u6536\u5230\u4fe1\u7528\u7684 200% \u6216 21 DTE \u65f6\u5e73\u4ed3</li> <li>\u6eda\u52a8: \u5982\u679c\u53d7\u5230\u6311\u6218,\u6eda\u52a8\u672a\u6d4b\u8bd5\u7684\u4e00\u4fa7</li> <li>\u76c8\u5229\u533a\u95f4: \u901a\u5e38 60-70% \u7684\u76c8\u5229\u6982\u7387</li> </ul>"},{"location":"zh/strategies/iron-strategies/#_7","title":"\u63cf\u8ff0","text":"<p>Iron condor \u7684\u76f8\u53cd - \u8be5\u7b56\u7565\u4ece\u4efb\u4e00\u65b9\u5411\u7684\u5927\u5e45\u4ef7\u683c\u6ce2\u52a8\u4e2d\u83b7\u5229,\u540c\u65f6\u5b9a\u4e49\u98ce\u9669\u3002</p> <p>\u7ec4\u6210: - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a A - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a B - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a C - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a D</p> <p>\u5176\u4e2d: A &lt; B &lt; C &lt; D</p>"},{"location":"zh/strategies/iron-strategies/#_8","title":"\u5e02\u573a\u89c2\u70b9","text":"<ul> <li>\u9884\u671f\u9ad8\u6ce2\u52a8\u7387 - \u9884\u671f\u4efb\u4e00\u65b9\u5411\u7684\u7a81\u7834</li> <li>\u5982\u679c\u4ef7\u683c\u5927\u5e45\u8d85\u51fa\u5185\u4fa7\u884c\u6743\u4ef7\u5219\u83b7\u5229</li> <li>Long straddles \u7684\u6709\u9650\u98ce\u9669\u66ff\u4ee3\u65b9\u6848</li> </ul>"},{"location":"zh/strategies/iron-strategies/#_9","title":"\u76c8\u4e8f","text":"<ul> <li>\u6700\u5927\u76c8\u5229: \u4ef7\u5dee\u5bbd\u5ea6 - \u51c0\u501f\u8bb0</li> <li>\u6700\u5927\u635f\u5931: \u652f\u4ed8\u7684\u51c0\u501f\u8bb0</li> <li>\u76c8\u4e8f\u5e73\u8861\u70b9: Long put \u884c\u6743\u4ef7 + \u501f\u8bb0, Long call \u884c\u6743\u4ef7 - \u501f\u8bb0</li> </ul>"},{"location":"zh/strategies/iron-strategies/#_10","title":"\u793a\u4f8b","text":"<pre><code>results = op.reverse_iron_condor(\n    data,\n    max_entry_dte=30,\n    exit_dte=0,\n    max_otm_pct=0.25  # \u4e3a\u7a81\u7834\u79fb\u52a8\u8bbe\u7f6e\n)\n</code></pre>"},{"location":"zh/strategies/iron-strategies/#_11","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u5728\u9884\u671f\u5927\u5e45\u6ce2\u52a8\u7684\u91cd\u5927\u4e8b\u4ef6\u4e4b\u524d</li> <li>\u6709\u9650\u98ce\u9669\u7684\u6ce2\u52a8\u7387\u4ea4\u6613</li> <li>\u5f53\u60a8\u9884\u671f\u7a81\u7834\u4f46\u60f3\u8981\u6709\u9650\u635f\u5931\u65f6</li> </ul>"},{"location":"zh/strategies/iron-strategies/#_12","title":"\u63cf\u8ff0","text":"<p>Iron butterfly \u7c7b\u4f3c\u4e8e iron condor,\u4f46\u7a7a\u5934\u884c\u6743\u4ef7\u5728\u76f8\u540c\u4ef7\u683c(ATM),\u521b\u5efa\u66f4\u7d27\u7684\u76c8\u5229\u533a\u95f4\u548c\u66f4\u9ad8\u7684\u6f5c\u5728\u76c8\u5229\u3002</p> <p>\u7ec4\u6210: - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a A(\u7ffc) - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a B(\u8eab\u4f53) - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a B(\u8eab\u4f53) - \u4e0e short put \u76f8\u540c - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a C(\u7ffc)</p> <p>\u5176\u4e2d: A &lt; B &lt; C</p>"},{"location":"zh/strategies/iron-strategies/#_13","title":"\u5e02\u573a\u89c2\u70b9","text":"<ul> <li>\u975e\u5e38\u4e2d\u6027 - \u9884\u671f\u4ef7\u683c\u4fdd\u6301\u5728\u5f53\u524d\u6c34\u5e73\u6216\u975e\u5e38\u63a5\u8fd1</li> <li>\u5982\u679c\u4ef7\u683c\u5728\u5230\u671f\u65f6\u6070\u597d\u5728\u4e2d\u95f4\u884c\u6743\u4ef7\u5219\u6700\u5927\u76c8\u5229</li> <li>\u6bd4 iron condor \u56de\u62a5\u66f4\u9ad8\u4f46\u76c8\u5229\u533a\u95f4\u66f4\u7a84</li> </ul>"},{"location":"zh/strategies/iron-strategies/#_14","title":"\u76c8\u4e8f","text":"<ul> <li>\u6700\u5927\u76c8\u5229: \u6536\u5230\u7684\u51c0\u4fe1\u7528(\u5927\u4e8e iron condor)</li> <li>\u6700\u5927\u635f\u5931: \u7ffc\u5bbd\u5ea6 - \u51c0\u4fe1\u7528</li> <li>\u76c8\u4e8f\u5e73\u8861\u70b9: Short \u884c\u6743\u4ef7 \u00b1 \u51c0\u4fe1\u7528</li> </ul>"},{"location":"zh/strategies/iron-strategies/#_15","title":"\u793a\u4f8b","text":"<pre><code>results = op.iron_butterfly(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.05,  # ATM \u8eab\u4f53\u4ee5\u83b7\u5f97\u6700\u5927\u4fe1\u7528\n    min_bid_ask=0.15\n)\n</code></pre>"},{"location":"zh/strategies/iron-strategies/#_16","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u9884\u671f\u4ef7\u683c\u9501\u5b9a\u5728\u7279\u5b9a\u6c34\u5e73</li> <li>\u5728\u5177\u6709\u9ad8\u6301\u4ed3\u91cf\u7684\u4e3b\u8981\u884c\u6743\u4ef7\u5468\u56f4</li> <li>\u5f53\u60a8\u60f3\u8981\u6bd4 iron condors \u66f4\u9ad8\u7684\u4fe1\u7528\u65f6</li> <li>\u6bd4 iron condors \u6982\u7387\u66f4\u4f4e\u4f46\u56de\u62a5\u66f4\u9ad8</li> </ul>"},{"location":"zh/strategies/iron-strategies/#pin","title":"Pin \u98ce\u9669","text":"<ul> <li>\u80a1\u7968\u4ef7\u683c\u5f80\u5f80\u9501\u5b9a\u5728\u5177\u6709\u9ad8\u6301\u4ed3\u91cf\u7684\u884c\u6743\u4ef7</li> <li>Iron butterflies \u4ece\u8fd9\u79cd\u9501\u5b9a\u6548\u5e94\u4e2d\u53d7\u76ca</li> <li>\u4ed4\u7ec6\u76d1\u63a7\u5230\u671f\u5468\u7684\u4ef7\u683c\u884c\u4e3a</li> </ul>"},{"location":"zh/strategies/iron-strategies/#_17","title":"\u63cf\u8ff0","text":"<p>Iron butterfly \u7684\u76f8\u53cd - \u4ece\u8fdc\u79bb\u4e2d\u5fc3\u884c\u6743\u4ef7\u7684\u5927\u5e45\u6ce2\u52a8\u4e2d\u83b7\u5229\u3002</p> <p>\u7ec4\u6210: - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a A(\u7ffc) - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a B(\u8eab\u4f53) - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a B(\u8eab\u4f53) - \u4e0e long put \u76f8\u540c - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a C(\u7ffc)</p> <p>\u5176\u4e2d: A &lt; B &lt; C</p>"},{"location":"zh/strategies/iron-strategies/#_18","title":"\u5e02\u573a\u89c2\u70b9","text":"<ul> <li>\u9ad8\u6ce2\u52a8\u7387 - \u9884\u671f\u4ece\u5f53\u524d\u4ef7\u683c\u5927\u5e45\u79fb\u52a8</li> <li>Long straddles \u7684\u6709\u9650\u98ce\u9669\u66ff\u4ee3\u65b9\u6848</li> <li>\u6210\u672c\u66f4\u4f4e\u4e14\u6700\u5927\u635f\u5931\u6709\u9650</li> </ul>"},{"location":"zh/strategies/iron-strategies/#_19","title":"\u76c8\u4e8f","text":"<ul> <li>\u6700\u5927\u76c8\u5229: \u7ffc\u5bbd\u5ea6 - \u51c0\u501f\u8bb0</li> <li>\u6700\u5927\u635f\u5931: \u652f\u4ed8\u7684\u51c0\u501f\u8bb0</li> <li>\u76c8\u4e8f\u5e73\u8861\u70b9: Long \u884c\u6743\u4ef7 \u00b1 \u51c0\u501f\u8bb0</li> </ul>"},{"location":"zh/strategies/iron-strategies/#_20","title":"\u793a\u4f8b","text":"<pre><code>results = op.reverse_iron_butterfly(\n    data,\n    max_entry_dte=30,\n    exit_dte=7,\n    max_otm_pct=0.10\n)\n</code></pre>"},{"location":"zh/strategies/iron-strategies/#_21","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u5728\u91cd\u5927\u4e8b\u4ef6\u4e4b\u524d(\u8d22\u62a5\u3001FDA \u51b3\u5b9a)</li> <li>\u5f53\u60a8\u9884\u671f\u7206\u70b8\u6027\u6ce2\u52a8\u65f6</li> <li>Long straddles/strangles \u7684\u6709\u9650\u98ce\u9669\u66ff\u4ee3\u65b9\u6848</li> </ul>"},{"location":"zh/strategies/iron-strategies/#_22","title":"\u7b56\u7565\u6bd4\u8f83","text":"\u7b56\u7565 \u76c8\u5229\u533a\u95f4 \u6700\u5927\u76c8\u5229 \u6700\u5927\u635f\u5931 \u6700\u4f73\u7528\u4e8e Iron Condor \u5bbd\u533a\u95f4 \u4e2d\u7b49\u4fe1\u7528 \u6709\u9650 \u533a\u95f4\u9707\u8361\u6536\u76ca Reverse IC \u533a\u95f4\u5916 \u6709\u9650 \u51c0\u501f\u8bb0 \u7a81\u7834\u4ea4\u6613 Iron Butterfly \u7a84(\u5728 ATM) \u66f4\u9ad8\u4fe1\u7528 \u6709\u9650 \u9501\u5b9a\u884c\u6743\u4ef7 Reverse Iron Butterfly \u8fdc\u79bb ATM \u6709\u9650 \u51c0\u501f\u8bb0 \u6ce2\u52a8\u7387\u7206\u53d1"},{"location":"zh/strategies/iron-strategies/#iron-condor-vs-iron-butterfly","title":"Iron Condor vs Iron Butterfly","text":"<p>Iron Condor: - \u2705 \u66f4\u5bbd\u7684\u76c8\u5229\u533a\u95f4(60-70% \u6982\u7387) - \u2705 \u5982\u679c\u4ef7\u683c\u79fb\u52a8\u66f4\u5bbd\u5bb9 - \u274c \u6536\u5230\u7684\u4fe1\u7528\u8f83\u4f4e - \u4f7f\u7528\u65f6\u673a: \u5bf9\u533a\u95f4\u6709\u4e2d\u7b49\u4fe1\u5fc3</p> <p>Iron Butterfly: - \u2705 \u66f4\u9ad8\u7684\u4fe1\u7528(2-3 \u500d) - \u274c \u66f4\u7a84\u7684\u76c8\u5229\u533a\u95f4(40-50% \u6982\u7387) - \u274c \u5bf9\u4ef7\u683c\u79fb\u52a8\u4e0d\u592a\u5bbd\u5bb9 - \u4f7f\u7528\u65f6\u673a: \u5bf9\u9501\u5b9a\u6709\u9ad8\u5ea6\u4fe1\u5fc3</p>"},{"location":"zh/strategies/iron-strategies/#delta-iron-condors","title":"\u9ad8\u7ea7\u793a\u4f8b: Delta \u4e2d\u6027 Iron Condors","text":"<pre><code># \u76ee\u6807 delta \u4e2d\u6027\u5b9a\u4f4d\nresults = op.iron_condor(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    # \u7a7a\u5934\u884c\u6743\u4ef7\u7684\u76ee\u6807\u7279\u5b9a delta\n    delta_min=0.15,  # ~15-20 delta \u7a7a\u5934\u884c\u6743\u4ef7\n    delta_max=0.20,\n    delta_interval=0.05,\n    min_bid_ask=0.10,\n    slippage='liquidity'\n)\n</code></pre>"},{"location":"zh/strategies/iron-strategies/#_23","title":"\u98ce\u9669\u7ba1\u7406\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"zh/strategies/iron-strategies/#_24","title":"\u8fdb\u573a\u68c0\u67e5\u6e05\u5355","text":"<ul> <li>[ ] 45 DTE \u6216\u66f4\u5c11(\u6700\u4f73 theta \u8870\u51cf)</li> <li>[ ] \u4fe1\u7528 &gt; \u4ef7\u5dee\u5bbd\u5ea6\u7684 1/3</li> <li>[ ] \u76c8\u5229\u6982\u7387 &gt; 60%</li> <li>[ ] \u6d41\u52a8\u884c\u6743\u4ef7(\u7d27\u5bc6\u7684\u4e70\u5356\u4ef7\u5dee)</li> <li>[ ] \u786e\u5b9a\u7684\u5934\u5bf8\u89c4\u6a21(\u6bcf\u7b14\u4ea4\u6613 &lt; \u8d26\u6237\u7684 5%)</li> </ul>"},{"location":"zh/strategies/iron-strategies/#_25","title":"\u7ba1\u7406\u89c4\u5219","text":"<ol> <li>\u6b62\u76c8: \u5728\u6700\u5927\u76c8\u5229\u7684 50% \u65f6\u5e73\u4ed3(21 DTE)</li> <li>\u6b62\u635f: \u5728\u4fe1\u7528\u7684 200-300% \u6216\u76c8\u4e8f\u5e73\u8861\u65f6\u5e73\u4ed3</li> <li>\u6eda\u52a8: \u5982\u679c\u65e9\u671f\u53d7\u5230\u6311\u6218,\u5411\u4e0b/\u5411\u4e0a\u6eda\u52a8\u672a\u6d4b\u8bd5\u7684\u4e00\u4fa7</li> <li>\u5230\u671f: \u907f\u514d\u6301\u6709\u81f3\u5230\u671f(pin \u98ce\u9669)</li> </ol>"},{"location":"zh/strategies/iron-strategies/#_26","title":"\u5934\u5bf8\u89c4\u6a21","text":"<ul> <li>\u6bcf\u7b14\u4ea4\u6613\u98ce\u9669\u4e0d\u8d85\u8fc7 2-5%</li> <li>Iron condors: \u5bbd\u5ea6\u51b3\u5b9a\u6bcf\u4e2a\u5408\u7ea6\u7684\u98ce\u9669</li> <li>\u793a\u4f8b: $5 \u5bbd\u4ef7\u5dee\u6536\u53d6 $2 \u4fe1\u7528 = \u6bcf\u4e2a IC \u6700\u5927\u98ce\u9669 $300</li> </ul>"},{"location":"zh/strategies/iron-strategies/#greeks","title":"Greeks \u5206\u6790","text":""},{"location":"zh/strategies/iron-strategies/#iron-condor-greeks","title":"Iron Condor Greeks","text":"<ul> <li>Theta: \u6b63(\u65f6\u95f4\u8870\u51cf\u5e2e\u52a9\u60a8)</li> <li>Vega: \u8d1f(\u5e0c\u671b\u6ce2\u52a8\u7387\u964d\u4f4e)</li> <li>Delta: \u63a5\u8fd1\u96f6(\u4e2d\u6027\u5934\u5bf8)</li> <li>Gamma: \u8d1f(\u5982\u679c\u4ef7\u683c\u79fb\u52a8,\u5934\u5bf8\u5bf9\u60a8\u4e0d\u5229)</li> </ul> <p>\u6700\u4f73\u6761\u4ef6: - \u9ad8 IV \u2192 \u5728 IV \u5347\u9ad8\u65f6\u5356\u51fa - \u6ce2\u52a8\u7387\u964d\u4f4e \u2192 IV \u6324\u538b\u6709\u5229\u4e8e\u5934\u5bf8 - \u65f6\u95f4\u6d41\u901d \u2192 Theta \u8870\u51cf\u589e\u52a0\u76c8\u5229</p>"},{"location":"zh/strategies/iron-strategies/#_27","title":"\u8981\u907f\u514d\u7684\u5e38\u89c1\u9519\u8bef","text":"<ol> <li>\u6301\u6709\u65f6\u95f4\u8fc7\u957f: \u5728 50% \u76c8\u5229\u65f6\u9000\u51fa,\u4e0d\u8981\u8d2a\u5fc3</li> <li>\u9519\u8bef\u7684 IV \u73af\u5883: \u4e0d\u8981\u5728 IV \u4f4e\u65f6\u5356\u51fa</li> <li>\u592a\u7a84: \u786e\u4fdd\u7a7a\u5934\u884c\u6743\u4ef7\u4e4b\u95f4\u6709\u8db3\u591f\u7684\u7f13\u51b2</li> <li>\u5ffd\u7565\u8c03\u6574: \u5982\u679c\u4ef7\u683c\u5a01\u80c1\u884c\u6743\u4ef7,\u5236\u5b9a\u8ba1\u5212</li> <li>\u8fc7\u5ea6\u89c4\u6a21: \u5c0a\u91cd\u6bcf\u4e2a\u5934\u5bf8\u7684\u6700\u5927\u635f\u5931</li> </ol>"},{"location":"zh/strategies/iron-strategies/#_28","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\u4e86\u89e3 \u8776\u5f0f\u4ef7\u5dee \u4ee5\u83b7\u5f97\u4e09\u817f\u66ff\u4ee3\u65b9\u6848</li> <li>\u63a2\u7d22 \u65e5\u5386\u4ef7\u5dee \u4ee5\u83b7\u5f97\u57fa\u4e8e\u65f6\u95f4\u7684\u7b56\u7565</li> <li>\u67e5\u770b\u5305\u542b\u98ce\u9669\u7ba1\u7406\u7684\u66f4\u591a \u793a\u4f8b</li> <li>\u67e5\u9605 \u53c2\u6570 \u8fdb\u884c\u4f18\u5316</li> </ul>"},{"location":"zh/strategies/singles/","title":"\u5355\u817f\u7b56\u7565","text":"<p>\u5355\u817f\u7b56\u7565\u6d89\u53ca\u4e70\u5165\u6216\u5356\u51fa\u5355\u4e2a call \u6216 put \u671f\u6743\u3002\u8fd9\u4e9b\u662f\u6700\u7b80\u5355\u7684\u671f\u6743\u7b56\u7565,\u662f\u66f4\u590d\u6742\u7684\u591a\u817f\u7b56\u7565\u7684\u57fa\u7840\u3002</p>"},{"location":"zh/strategies/singles/#_2","title":"\u63cf\u8ff0","text":"<p>Long call \u8d4b\u4e88\u60a8\u4ee5\u884c\u6743\u4ef7\u4e70\u5165\u6807\u7684\u8d44\u4ea7\u7684\u6743\u5229\u3002\u8fd9\u662f\u4e00\u79cd\u770b\u6da8\u7b56\u7565,\u5177\u6709\u65e0\u9650\u7684\u76c8\u5229\u6f5c\u529b\u548c\u6709\u9650\u7684\u98ce\u9669(\u652f\u4ed8\u7684\u6743\u5229\u91d1)\u3002</p>"},{"location":"zh/strategies/singles/#_3","title":"\u5e02\u573a\u89c2\u70b9","text":"<ul> <li>\u770b\u6da8 - \u9884\u671f\u4ef7\u683c\u5927\u5e45\u4e0a\u6da8</li> <li>\u968f\u7740\u6807\u7684\u8d44\u4ea7\u4ef7\u683c\u8d85\u8fc7\u884c\u6743\u4ef7 + \u652f\u4ed8\u7684\u6743\u5229\u91d1,\u5229\u6da6\u589e\u52a0</li> </ul>"},{"location":"zh/strategies/singles/#_4","title":"\u76c8\u4e8f","text":"<ul> <li>\u6700\u5927\u76c8\u5229: \u65e0\u9650(\u6807\u7684\u8d44\u4ea7\u4ef7\u683c - \u884c\u6743\u4ef7 - \u6743\u5229\u91d1)</li> <li>\u6700\u5927\u635f\u5931: \u652f\u4ed8\u7684\u6743\u5229\u91d1(\u5982\u679c\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u884c\u6743\u4ef7\u4ee5\u4e0b)</li> <li>\u76c8\u4e8f\u5e73\u8861\u70b9: \u884c\u6743\u4ef7 + \u652f\u4ed8\u7684\u6743\u5229\u91d1</li> </ul>"},{"location":"zh/strategies/singles/#_5","title":"\u793a\u4f8b","text":"<pre><code>import optopsy as op\n\ndata = op.csv_data('SPX_options.csv')\n\n# \u56de\u6d4b 30-60 DTE \u8303\u56f4\u7684 long calls\nresults = op.long_calls(\n    data,\n    max_entry_dte=60,\n    exit_dte=30,\n    max_otm_pct=0.10  # \u7565\u5fae\u865a\u503c\u7684 calls\n)\n\nprint(results)\n</code></pre>"},{"location":"zh/strategies/singles/#_6","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u62bc\u6ce8\u5f3a\u52b2\u4e0a\u6da8</li> <li>\u4e70\u5165\u80a1\u7968\u7684\u4f4e\u6210\u672c\u66ff\u4ee3\u65b9\u6848</li> <li>\u9884\u671f\u6b63\u9762\u6d88\u606f\u7684\u8d22\u62a5\u4ea4\u6613</li> <li>\u7a81\u7834\u4ea4\u6613</li> </ul>"},{"location":"zh/strategies/singles/#_7","title":"\u63cf\u8ff0","text":"<p>Short call \u5728\u88ab\u884c\u6743\u65f6\u6709\u4e49\u52a1\u4ee5\u884c\u6743\u4ef7\u5356\u51fa\u6807\u7684\u8d44\u4ea7\u3002\u8fd9\u662f\u4e00\u79cd\u770b\u8dcc\u6216\u4e2d\u6027\u7684\u6536\u76ca\u7b56\u7565,\u5177\u6709\u6709\u9650\u7684\u76c8\u5229\u548c\u7406\u8bba\u4e0a\u65e0\u9650\u7684\u98ce\u9669\u3002</p>"},{"location":"zh/strategies/singles/#_8","title":"\u5e02\u573a\u89c2\u70b9","text":"<ul> <li>\u770b\u8dcc\u81f3\u4e2d\u6027 - \u9884\u671f\u4ef7\u683c\u4fdd\u6301\u5e73\u7a33\u6216\u4e0b\u8dcc</li> <li>\u5982\u679c\u6807\u7684\u8d44\u4ea7\u5728\u5230\u671f\u65f6\u4fdd\u6301\u5728\u884c\u6743\u4ef7\u4ee5\u4e0b\u5219\u83b7\u5229</li> </ul>"},{"location":"zh/strategies/singles/#_9","title":"\u76c8\u4e8f","text":"<ul> <li>\u6700\u5927\u76c8\u5229: \u6536\u5230\u7684\u6743\u5229\u91d1</li> <li>\u6700\u5927\u635f\u5931: \u65e0\u9650(\u6807\u7684\u8d44\u4ea7\u4ef7\u683c - \u884c\u6743\u4ef7 - \u6743\u5229\u91d1)</li> <li>\u76c8\u4e8f\u5e73\u8861\u70b9: \u884c\u6743\u4ef7 + \u6536\u5230\u7684\u6743\u5229\u91d1</li> </ul>"},{"location":"zh/strategies/singles/#_10","title":"\u793a\u4f8b","text":"<pre><code>results = op.short_calls(\n    data,\n    max_entry_dte=45,\n    exit_dte=0,  # \u6301\u6709\u81f3\u5230\u671f\n    max_otm_pct=0.30  # \u5356\u51fa\u865a\u503c calls \u4ee5\u83b7\u5f97\u6536\u76ca\n)\n</code></pre>"},{"location":"zh/strategies/singles/#_11","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u5728\u4e2d\u6027/\u770b\u8dcc\u5e02\u573a\u4e2d\u521b\u6536</li> <li>\u5907\u5151 call \u7b56\u7565(\u6301\u6709\u80a1\u7968)</li> <li>\u9ad8\u6982\u7387\u6536\u76ca\u4ea4\u6613</li> </ul>"},{"location":"zh/strategies/singles/#_12","title":"\u26a0\ufe0f \u98ce\u9669\u8b66\u544a","text":"<p>\u88f8\u7a7a call \u5728\u6807\u7684\u8d44\u4ea7\u5927\u5e45\u4e0a\u6da8\u65f6\u5177\u6709\u65e0\u9650\u98ce\u9669\u3002\u8003\u8651\u4f7f\u7528\u6709\u9650\u98ce\u9669\u7684\u66ff\u4ee3\u65b9\u6848,\u5982 call \u4ef7\u5dee\u3002</p>"},{"location":"zh/strategies/singles/#_13","title":"\u63cf\u8ff0","text":"<p>Long put \u8d4b\u4e88\u60a8\u4ee5\u884c\u6743\u4ef7\u5356\u51fa\u6807\u7684\u8d44\u4ea7\u7684\u6743\u5229\u3002\u8fd9\u662f\u4e00\u79cd\u770b\u8dcc\u7b56\u7565,\u5177\u6709\u53ef\u89c2\u7684\u76c8\u5229\u6f5c\u529b\u548c\u6709\u9650\u7684\u98ce\u9669(\u652f\u4ed8\u7684\u6743\u5229\u91d1)\u3002</p>"},{"location":"zh/strategies/singles/#_14","title":"\u5e02\u573a\u89c2\u70b9","text":"<ul> <li>\u770b\u8dcc - \u9884\u671f\u4ef7\u683c\u5927\u5e45\u4e0b\u8dcc</li> <li>\u968f\u7740\u6807\u7684\u8d44\u4ea7\u4ef7\u683c\u8dcc\u7834\u884c\u6743\u4ef7 - \u652f\u4ed8\u7684\u6743\u5229\u91d1,\u5229\u6da6\u589e\u52a0</li> </ul>"},{"location":"zh/strategies/singles/#_15","title":"\u76c8\u4e8f","text":"<ul> <li>\u6700\u5927\u76c8\u5229: \u884c\u6743\u4ef7 - \u6743\u5229\u91d1 - 0(\u5982\u679c\u6807\u7684\u8d44\u4ea7\u5f52\u96f6)</li> <li>\u6700\u5927\u635f\u5931: \u652f\u4ed8\u7684\u6743\u5229\u91d1(\u5982\u679c\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u884c\u6743\u4ef7\u4ee5\u4e0a)</li> <li>\u76c8\u4e8f\u5e73\u8861\u70b9: \u884c\u6743\u4ef7 - \u652f\u4ed8\u7684\u6743\u5229\u91d1</li> </ul>"},{"location":"zh/strategies/singles/#_16","title":"\u793a\u4f8b","text":"<pre><code>results = op.long_puts(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.15  # \u4e2d\u5ea6\u865a\u503c puts\n)\n</code></pre>"},{"location":"zh/strategies/singles/#_17","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u62bc\u6ce8\u5e02\u573a\u4e0b\u8dcc</li> <li>\u6295\u8d44\u7ec4\u5408\u5bf9\u51b2</li> <li>\u9884\u671f\u8d1f\u9762\u6d88\u606f\u7684\u8d22\u62a5\u4ea4\u6613</li> <li>\u7a81\u7834\u4e0b\u884c\u4ea4\u6613</li> </ul>"},{"location":"zh/strategies/singles/#_18","title":"\u63cf\u8ff0","text":"<p>Short put \u5728\u88ab\u884c\u6743\u65f6\u6709\u4e49\u52a1\u4ee5\u884c\u6743\u4ef7\u4e70\u5165\u6807\u7684\u8d44\u4ea7\u3002\u8fd9\u662f\u4e00\u79cd\u770b\u6da8\u7684\u6536\u76ca\u7b56\u7565,\u60a8\u6536\u53d6\u6743\u5229\u91d1,\u5e0c\u671b\u671f\u6743\u5230\u671f\u65f6\u5931\u6548\u3002</p>"},{"location":"zh/strategies/singles/#_19","title":"\u5e02\u573a\u89c2\u70b9","text":"<ul> <li>\u770b\u6da8\u81f3\u4e2d\u6027 - \u9884\u671f\u4ef7\u683c\u4fdd\u6301\u5e73\u7a33\u6216\u4e0a\u6da8</li> <li>\u5982\u679c\u6807\u7684\u8d44\u4ea7\u5728\u5230\u671f\u65f6\u4fdd\u6301\u5728\u884c\u6743\u4ef7\u4ee5\u4e0a\u5219\u83b7\u5229</li> </ul>"},{"location":"zh/strategies/singles/#_20","title":"\u76c8\u4e8f","text":"<ul> <li>\u6700\u5927\u76c8\u5229: \u6536\u5230\u7684\u6743\u5229\u91d1</li> <li>\u6700\u5927\u635f\u5931: \u884c\u6743\u4ef7 - \u6743\u5229\u91d1(\u5982\u679c\u6807\u7684\u8d44\u4ea7\u5f52\u96f6)</li> <li>\u76c8\u4e8f\u5e73\u8861\u70b9: \u884c\u6743\u4ef7 - \u6536\u5230\u7684\u6743\u5229\u91d1</li> </ul>"},{"location":"zh/strategies/singles/#_21","title":"\u793a\u4f8b","text":"<pre><code>results = op.short_puts(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.20,  # 20% OTM \u4ee5\u83b7\u5f97\u66f4\u5b89\u5168\u7684\u6743\u5229\u91d1\n    min_bid_ask=0.10\n)\n</code></pre>"},{"location":"zh/strategies/singles/#_22","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u5728\u770b\u6da8\u5e02\u573a\u4e2d\u521b\u6536</li> <li>\u4ee5\u66f4\u4f4e\u4ef7\u683c\u4e70\u5165\u80a1\u7968\u65f6\"\u83b7\u5f97\u62a5\u916c\u7b49\u5f85\"</li> <li>\u9ad8\u6982\u7387\u4fe1\u7528\u7b56\u7565</li> <li>Wheel \u7b56\u7565(\u5356\u51fa puts,\u88ab\u5206\u914d,\u5356\u51fa calls)</li> </ul>"},{"location":"zh/strategies/singles/#_23","title":"\u5206\u914d\u8003\u8651","text":"<p>\u5982\u679c\u671f\u6743\u5728\u5230\u671f\u65f6\u5904\u4e8e\u5b9e\u503c\u72b6\u6001,\u60a8\u5c06\u6709\u4e49\u52a1\u4ee5\u884c\u6743\u4ef7\u4e70\u5165\u80a1\u7968\u3002\u786e\u4fdd\u60a8\u6709\u8d44\u91d1\u6216\u53ef\u4ee5\u5728\u5230\u671f\u524d\u5e73\u4ed3\u3002</p>"},{"location":"zh/strategies/singles/#greeks","title":"Greeks \u8fc7\u6ee4","text":"<p>\u6240\u6709\u5355\u817f\u7b56\u7565\u90fd\u652f\u6301 delta \u8fc7\u6ee4\u4ee5\u5b9a\u4f4d\u7279\u5b9a\u7684\u6982\u7387\u8303\u56f4:</p> <pre><code># \u76ee\u6807 0.30 delta \u671f\u6743(\u5927\u7ea6 30% \u6982\u7387 ITM)\nresults = op.long_calls(\n    data,\n    delta_min=0.25,\n    delta_max=0.35,\n    delta_interval=0.05  # \u6309 delta \u8303\u56f4\u5206\u7ec4\u7ed3\u679c\n)\n</code></pre>"},{"location":"zh/strategies/singles/#_24","title":"\u6ed1\u70b9\u6a21\u578b","text":"<p>\u914d\u7f6e\u73b0\u5b9e\u7684\u6210\u4ea4\u4ef7\u683c:</p> <pre><code># \u4f7f\u7528\u57fa\u4e8e\u6d41\u52a8\u6027\u7684\u6ed1\u70b9\nresults = op.long_calls(\n    data,\n    slippage='liquidity',\n    fill_ratio=0.5,  # \u4ef7\u5dee\u7684 50%\n    reference_volume=1000  # \u6d41\u52a8\u671f\u6743\u7684\u6700\u5c0f\u6210\u4ea4\u91cf\n)\n</code></pre> <p>\u53ef\u7528\u7684\u6ed1\u70b9\u6a21\u5f0f: - <code>'mid'</code> - \u4ee5\u4e2d\u95f4\u4ef7\u6210\u4ea4 (bid+ask)/2(\u9ed8\u8ba4) - <code>'spread'</code> - \u4ee5 ask \u4e70\u5165,\u4ee5 bid \u5356\u51fa(\u6700\u5dee\u60c5\u51b5) - <code>'liquidity'</code> - \u57fa\u4e8e\u6210\u4ea4\u91cf/\u6301\u4ed3\u91cf\u7684\u52a8\u6001\u6210\u4ea4</p>"},{"location":"zh/strategies/singles/#_25","title":"\u6bd4\u8f83\u8868","text":"\u7b56\u7565 \u65b9\u5411 \u6700\u5927\u76c8\u5229 \u6700\u5927\u635f\u5931 \u6700\u4f73\u65f6\u673a Long Call \u770b\u6da8 \u65e0\u9650 \u6743\u5229\u91d1 \u9884\u671f\u4e0a\u6da8 Short Call \u770b\u8dcc/\u4e2d\u6027 \u6743\u5229\u91d1 \u65e0\u9650 \u9884\u671f\u4e0b\u8dcc/\u5e73\u7a33 Long Put \u770b\u8dcc \u53ef\u89c2 \u6743\u5229\u91d1 \u9884\u671f\u4e0b\u8dcc Short Put \u770b\u6da8/\u4e2d\u6027 \u6743\u5229\u91d1 \u53ef\u89c2 \u9884\u671f\u4e0a\u6da8/\u5e73\u7a33"},{"location":"zh/strategies/singles/#_26","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\u4e86\u89e3 Straddles &amp; Strangles</li> <li>\u63a2\u7d22 \u5782\u76f4\u4ef7\u5dee \u4ee5\u83b7\u5f97\u6709\u9650\u98ce\u9669\u7684\u66ff\u4ee3\u65b9\u6848</li> <li>\u67e5\u770b\u66f4\u591a \u793a\u4f8b</li> </ul>"},{"location":"zh/strategies/spreads/","title":"\u5782\u76f4\u4ef7\u5dee","text":"<p>\u5782\u76f4\u4ef7\u5dee\u7ed3\u5408\u4e70\u5165\u548c\u5356\u51fa\u76f8\u540c\u7c7b\u578b\u7684\u671f\u6743(\u90fd\u662f calls \u6216\u90fd\u662f puts),\u884c\u6743\u4ef7\u4e0d\u540c\u4f46\u5230\u671f\u65e5\u76f8\u540c\u3002\u8fd9\u4e9b\u7b56\u7565\u63d0\u4f9b\u6709\u9650\u98ce\u9669\u548c\u6709\u9650\u56de\u62a5\u3002</p>"},{"location":"zh/strategies/spreads/#_2","title":"\u63cf\u8ff0","text":"<p>\u4e00\u79cd\u770b\u6da8\u7b56\u7565,\u4e70\u5165\u8f83\u4f4e\u884c\u6743\u4ef7\u7684 call \u5e76\u5356\u51fa\u8f83\u9ad8\u884c\u6743\u4ef7\u7684 call,\u964d\u4f4e\u6210\u672c\u4f46\u9650\u5236\u4e0a\u884c\u7a7a\u95f4\u3002</p> <p>\u7ec4\u6210: - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e\u7684 X - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8\u7684 Y</p>"},{"location":"zh/strategies/spreads/#_3","title":"\u793a\u4f8b","text":"<pre><code>import optopsy as op\nresults = op.long_call_spread(data, max_entry_dte=45, exit_dte=21)\n</code></pre>"},{"location":"zh/strategies/spreads/#_4","title":"\u63cf\u8ff0","text":"<p>\u4e00\u79cd\u770b\u8dcc\u7684\u4fe1\u7528\u7b56\u7565,\u5f53\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u7a7a\u5934\u884c\u6743\u4ef7\u4ee5\u4e0b\u65f6\u83b7\u5229\u3002</p> <p>\u7ec4\u6210: - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e\u7684 X - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8\u7684 Y(\u4fdd\u62a4)</p>"},{"location":"zh/strategies/spreads/#_5","title":"\u793a\u4f8b","text":"<pre><code>results = op.short_call_spread(data, max_entry_dte=45, exit_dte=21, max_otm_pct=0.20)\n</code></pre>"},{"location":"zh/strategies/spreads/#_6","title":"\u63cf\u8ff0","text":"<p>\u4e00\u79cd\u770b\u8dcc\u7b56\u7565,\u4ece\u5411\u4e0b\u79fb\u52a8\u4e2d\u83b7\u5229,\u98ce\u9669\u6709\u9650\u3002</p> <p>\u7ec4\u6210: - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e\u7684 X - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8\u7684 Y</p>"},{"location":"zh/strategies/spreads/#_7","title":"\u793a\u4f8b","text":"<pre><code>results = op.long_put_spread(data, max_entry_dte=45, exit_dte=21)\n</code></pre>"},{"location":"zh/strategies/spreads/#_8","title":"\u63cf\u8ff0","text":"<p>\u4e00\u79cd\u770b\u6da8\u7684\u4fe1\u7528\u7b56\u7565,\u5f53\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u7a7a\u5934\u884c\u6743\u4ef7\u4ee5\u4e0a\u65f6\u83b7\u5229\u3002</p> <p>\u7ec4\u6210: - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e\u7684 X(\u4fdd\u62a4) - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8\u7684 Y</p>"},{"location":"zh/strategies/spreads/#_9","title":"\u793a\u4f8b","text":"<pre><code>results = op.short_put_spread(data, max_entry_dte=45, exit_dte=21, max_otm_pct=0.25)\n</code></pre>"},{"location":"zh/strategies/spreads/#_10","title":"\u6bd4\u8f83\u8868","text":"\u4ef7\u5dee \u65b9\u5411 \u7c7b\u578b \u6700\u5927\u76c8\u5229 \u6700\u5927\u635f\u5931 Long Call \u770b\u6da8 \u501f\u8bb0 \u5bbd\u5ea6 - \u501f\u8bb0 \u652f\u4ed8\u7684\u501f\u8bb0 Short Call \u770b\u8dcc \u4fe1\u7528 \u4fe1\u7528 \u5bbd\u5ea6 - \u4fe1\u7528 Long Put \u770b\u8dcc \u501f\u8bb0 \u5bbd\u5ea6 - \u501f\u8bb0 \u652f\u4ed8\u7684\u501f\u8bb0 Short Put \u770b\u6da8 \u4fe1\u7528 \u4fe1\u7528 \u5bbd\u5ea6 - \u4fe1\u7528"},{"location":"zh/strategies/straddles-strangles/","title":"Straddles &amp; Strangles","text":"<p>Straddles \u548c strangles \u662f\u57fa\u4e8e\u6ce2\u52a8\u7387\u7684\u7b56\u7565,\u7ed3\u5408 calls \u548c puts \u4ee5\u4ece\u5927\u5e45\u4ef7\u683c\u6ce2\u52a8(long)\u6216\u4f4e\u6ce2\u52a8\u7387(short)\u4e2d\u83b7\u5229\u3002</p>"},{"location":"zh/strategies/straddles-strangles/#_1","title":"\u63cf\u8ff0","text":"<p>Long straddle \u7531\u5728\u76f8\u540c\u884c\u6743\u4ef7\u4e70\u5165\u4e00\u4e2a call \u548c\u4e00\u4e2a put \u7ec4\u6210,\u901a\u5e38\u5728\u5e73\u503c\u3002\u8be5\u7b56\u7565\u4ece\u4efb\u4e00\u65b9\u5411\u7684\u5927\u5e45\u4ef7\u683c\u6ce2\u52a8\u4e2d\u83b7\u5229\u3002</p> <p>\u7ec4\u6210: - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a X - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a X</p>"},{"location":"zh/strategies/straddles-strangles/#_2","title":"\u5e02\u573a\u89c2\u70b9","text":"<ul> <li>\u9884\u671f\u9ad8\u6ce2\u52a8\u7387 - \u9884\u671f\u5927\u5e45\u4e0a\u6da8\u6216\u4e0b\u8dcc</li> <li>\u65b9\u5411\u65e0\u5173\u7d27\u8981,\u53ea\u5728\u4e4e\u5e45\u5ea6</li> <li>\u5728\u8d22\u62a5\u516c\u544a\u6216\u91cd\u5927\u4e8b\u4ef6\u4e4b\u524d\u5e38\u89c1</li> </ul>"},{"location":"zh/strategies/straddles-strangles/#_3","title":"\u76c8\u4e8f","text":"<ul> <li>\u6700\u5927\u76c8\u5229: \u65e0\u9650(\u4efb\u4e00\u65b9\u5411)</li> <li>\u6700\u5927\u635f\u5931: \u652f\u4ed8\u7684\u603b\u6743\u5229\u91d1(\u5982\u679c\u4ef7\u683c\u4fdd\u6301\u5728\u884c\u6743\u4ef7)</li> <li>\u76c8\u4e8f\u5e73\u8861\u70b9: \u884c\u6743\u4ef7 \u00b1 \u652f\u4ed8\u7684\u603b\u6743\u5229\u91d1</li> </ul>"},{"location":"zh/strategies/straddles-strangles/#_4","title":"\u793a\u4f8b","text":"<pre><code>import optopsy as op\n\ndata = op.csv_data('SPX_options.csv')\n\n# \u56de\u6d4b long straddles\nresults = op.long_straddles(\n    data,\n    max_entry_dte=30,\n    exit_dte=0,  # \u6301\u6709\u81f3\u5230\u671f\n    max_otm_pct=0.05  # \u63a5\u8fd1 ATM\n)\n\nprint(results)\n</code></pre>"},{"location":"zh/strategies/straddles-strangles/#_5","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u9884\u671f\u5927\u5e45\u6ce2\u52a8\u7684\u8d22\u62a5\u4ea4\u6613</li> <li>\u5728\u7f8e\u8054\u50a8\u516c\u544a\u6216\u91cd\u5927\u7ecf\u6d4e\u6570\u636e\u53d1\u5e03\u524d</li> <li>\u5f53\u9690\u542b\u6ce2\u52a8\u7387\u4f4e\u4f46\u60a8\u9884\u671f\u7206\u53d1\u65f6</li> <li>\u4e8c\u5143\u4e8b\u4ef6(FDA \u6279\u51c6\u3001\u6cd5\u9662\u88c1\u51b3)</li> </ul>"},{"location":"zh/strategies/straddles-strangles/#_6","title":"\u63cf\u8ff0","text":"<p>Short straddle \u7531\u5728\u76f8\u540c\u884c\u6743\u4ef7\u5356\u51fa\u4e00\u4e2a call \u548c\u4e00\u4e2a put \u7ec4\u6210\u3002\u8be5\u7b56\u7565\u5728\u4ef7\u683c\u5728\u5230\u671f\u65f6\u4fdd\u6301\u5728\u884c\u6743\u4ef7\u9644\u8fd1\u65f6\u83b7\u5229\u3002</p> <p>\u7ec4\u6210: - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a X - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a X</p>"},{"location":"zh/strategies/straddles-strangles/#_7","title":"\u5e02\u573a\u89c2\u70b9","text":"<ul> <li>\u9884\u671f\u4f4e\u6ce2\u52a8\u7387 - \u4ef7\u683c\u4fdd\u6301\u7a33\u5b9a</li> <li>\u5982\u679c\u4ef7\u683c\u5728\u5230\u671f\u65f6\u6070\u597d\u5728\u884c\u6743\u4ef7\u5219\u6700\u5927\u76c8\u5229</li> <li>\u5982\u679c\u4ef7\u683c\u5728\u4efb\u4e00\u65b9\u5411\u5927\u5e45\u79fb\u52a8,\u5229\u6da6\u4f1a\u4fb5\u8680</li> </ul>"},{"location":"zh/strategies/straddles-strangles/#_8","title":"\u76c8\u4e8f","text":"<ul> <li>\u6700\u5927\u76c8\u5229: \u6536\u5230\u7684\u603b\u6743\u5229\u91d1</li> <li>\u6700\u5927\u635f\u5931: \u65e0\u9650(\u5982\u679c\u4ef7\u683c\u8fdc\u79bb\u884c\u6743\u4ef7)</li> <li>\u76c8\u4e8f\u5e73\u8861\u70b9: \u884c\u6743\u4ef7 \u00b1 \u6536\u5230\u7684\u603b\u6743\u5229\u91d1</li> </ul>"},{"location":"zh/strategies/straddles-strangles/#_9","title":"\u793a\u4f8b","text":"<pre><code>results = op.short_straddles(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.05,  # ATM straddles\n    min_bid_ask=0.20    # \u786e\u4fdd\u6d41\u52a8\u671f\u6743\n)\n</code></pre>"},{"location":"zh/strategies/straddles-strangles/#_10","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u9ad8\u9690\u542b\u6ce2\u52a8\u7387\u73af\u5883</li> <li>\u8d22\u62a5\u540e\u9884\u671f IV \u6324\u538b</li> <li>\u533a\u95f4\u9707\u8361\u5e02\u573a</li> <li>\u4f4e\u6ce2\u52a8\u7387\u671f\u95f4\u7684\u6536\u76ca\u521b\u9020</li> </ul>"},{"location":"zh/strategies/straddles-strangles/#_11","title":"\u26a0\ufe0f \u98ce\u9669\u8b66\u544a","text":"<p>Short straddles \u5728\u4e24\u4e2a\u65b9\u5411\u90fd\u6709\u65e0\u9650\u98ce\u9669\u3002\u8003\u8651\u4f7f\u7528 iron butterflies \u4f5c\u4e3a\u6709\u9650\u98ce\u9669\u7684\u66ff\u4ee3\u65b9\u6848\u3002</p>"},{"location":"zh/strategies/straddles-strangles/#_12","title":"\u63cf\u8ff0","text":"<p>Long strangle \u7531\u4e70\u5165\u865a\u503c call \u548c\u865a\u503c put \u5728\u4e0d\u540c\u884c\u6743\u4ef7\u7ec4\u6210\u3002\u8fd9\u7c7b\u4f3c\u4e8e long straddle,\u4f46\u6210\u672c\u66f4\u4f4e,\u76c8\u4e8f\u5e73\u8861\u70b9\u66f4\u5bbd\u3002</p> <p>\u7ec4\u6210: - Long 1 \u4e2a\u865a\u503c put,\u884c\u6743\u4ef7\u4e3a X - Long 1 \u4e2a\u865a\u503c call,\u884c\u6743\u4ef7\u4e3a Y(Y &gt; X)</p>"},{"location":"zh/strategies/straddles-strangles/#_13","title":"\u5e02\u573a\u89c2\u70b9","text":"<ul> <li>\u9884\u671f\u9ad8\u6ce2\u52a8\u7387 - \u9884\u671f\u5927\u5e45\u6ce2\u52a8</li> <li>\u6210\u672c\u4f4e\u4e8e straddles,\u4f46\u9700\u8981\u66f4\u5927\u7684\u6ce2\u52a8\u624d\u80fd\u83b7\u5229</li> <li>\u5bf9\u4e8e\u7206\u70b8\u6027\u6ce2\u52a8,\u98ce\u9669/\u56de\u62a5\u6bd4 straddles \u66f4\u597d</li> </ul>"},{"location":"zh/strategies/straddles-strangles/#_14","title":"\u76c8\u4e8f","text":"<ul> <li>\u6700\u5927\u76c8\u5229: \u65e0\u9650(\u4efb\u4e00\u65b9\u5411)</li> <li>\u6700\u5927\u635f\u5931: \u652f\u4ed8\u7684\u603b\u6743\u5229\u91d1</li> <li>\u76c8\u4e8f\u5e73\u8861\u70b9: Put \u884c\u6743\u4ef7 - \u603b\u6743\u5229\u91d1, Call \u884c\u6743\u4ef7 + \u603b\u6743\u5229\u91d1</li> </ul>"},{"location":"zh/strategies/straddles-strangles/#_15","title":"\u793a\u4f8b","text":"<pre><code>results = op.long_strangles(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.20  # \u66f4\u5bbd\u7684\u884c\u6743\u4ef7\u4ee5\u964d\u4f4e\u6210\u672c\n)\n</code></pre>"},{"location":"zh/strategies/straddles-strangles/#_16","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u6210\u672c\u66f4\u4f4e\u7684\u6ce2\u52a8\u7387\u4ea4\u6613</li> <li>\u5728\u7ed3\u679c\u672a\u77e5\u7684\u91cd\u5927\u4e8b\u4ef6\u4e4b\u524d</li> <li>\u5f53\u60a8\u9884\u671f\u5927\u5e45\u6ce2\u52a8\u4f46\u60f3\u964d\u4f4e\u6210\u672c\u65f6</li> <li>\u5728\u5927\u89c4\u6a21\u6ce2\u52a8\u65f6\u6bd4 straddles \u6709\u66f4\u9ad8\u7684\u76c8\u5229\u6982\u7387</li> </ul>"},{"location":"zh/strategies/straddles-strangles/#_17","title":"\u63cf\u8ff0","text":"<p>Short strangle \u7531\u5356\u51fa\u865a\u503c call \u548c\u865a\u503c put \u5728\u4e0d\u540c\u884c\u6743\u4ef7\u7ec4\u6210\u3002\u8fd9\u63d0\u4f9b\u4e86\u6bd4 short straddle \u66f4\u5bbd\u7684\u76c8\u5229\u533a\u95f4\u3002</p> <p>\u7ec4\u6210: - Short 1 \u4e2a\u865a\u503c put,\u884c\u6743\u4ef7\u4e3a X - Short 1 \u4e2a\u865a\u503c call,\u884c\u6743\u4ef7\u4e3a Y(Y &gt; X)</p>"},{"location":"zh/strategies/straddles-strangles/#_18","title":"\u5e02\u573a\u89c2\u70b9","text":"<ul> <li>\u4f4e\u81f3\u4e2d\u7b49\u6ce2\u52a8\u7387 - \u4ef7\u683c\u4fdd\u6301\u5728\u533a\u95f4\u5185</li> <li>\u76c8\u5229\u533a\u95f4\u6bd4 short straddles \u66f4\u5bbd</li> <li>\u5982\u679c\u4ef7\u683c\u9002\u5ea6\u79fb\u52a8\u66f4\u5bbd\u5bb9</li> </ul>"},{"location":"zh/strategies/straddles-strangles/#_19","title":"\u76c8\u4e8f","text":"<ul> <li>\u6700\u5927\u76c8\u5229: \u6536\u5230\u7684\u603b\u6743\u5229\u91d1</li> <li>\u6700\u5927\u635f\u5931: \u65e0\u9650(\u8d85\u8fc7\u7a7a\u5934\u884c\u6743\u4ef7)</li> <li>\u76c8\u4e8f\u5e73\u8861\u70b9: Put \u884c\u6743\u4ef7 - \u603b\u6743\u5229\u91d1, Call \u884c\u6743\u4ef7 + \u603b\u6743\u5229\u91d1</li> </ul>"},{"location":"zh/strategies/straddles-strangles/#_20","title":"\u793a\u4f8b","text":"<pre><code>results = op.short_strangles(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.30,  # \u5bbd\u884c\u6743\u4ef7\u4ee5\u83b7\u5f97\u66f4\u5b89\u5168\u7684\u533a\u95f4\n    min_bid_ask=0.15\n)\n</code></pre>"},{"location":"zh/strategies/straddles-strangles/#_21","title":"\u4f7f\u7528\u573a\u666f","text":"<ul> <li>\u5728\u533a\u95f4\u9707\u8361\u5e02\u573a\u4e2d\u7684\u6536\u76ca</li> <li>\u6bd4 short straddles \u6709\u66f4\u9ad8\u7684\u6210\u529f\u6982\u7387</li> <li>\u9ad8 IV \u4e8b\u4ef6\u540e(\u8d22\u62a5\u540e)</li> <li>\u5f53\u60a8\u9884\u671f\u4f4e\u6ce2\u52a8\u7387\u4f46\u60f3\u8981\u7f13\u51b2\u65f6</li> </ul>"},{"location":"zh/strategies/straddles-strangles/#_22","title":"\u7ba1\u7406\u6280\u5de7","text":"<ul> <li>\u8003\u8651\u5728\u6700\u5927\u76c8\u5229\u7684 50% \u65f6\u5e73\u4ed3</li> <li>\u5982\u679c\u9700\u8981,\u6eda\u52a8\u672a\u6d4b\u8bd5\u7684\u4e00\u4fa7</li> <li>\u7531\u4e8e\u672a\u5b9a\u4e49\u98ce\u9669,\u4ed4\u7ec6\u76d1\u63a7\u5934\u5bf8\u89c4\u6a21</li> </ul>"},{"location":"zh/strategies/straddles-strangles/#_23","title":"\u7b56\u7565\u6bd4\u8f83","text":"\u7b56\u7565 \u884c\u6743\u4ef7 \u6743\u5229\u91d1 \u76c8\u5229\u533a\u95f4 \u6700\u4f73\u7528\u4e8e Long Straddle \u76f8\u540c \u6210\u672c\u8f83\u9ad8 \u5bbd(\u4efb\u4f55\u5927\u5e45\u6ce2\u52a8) \u6700\u5927\u6ce2\u52a8\u7387\u4ea4\u6613 Long Strangle \u4e0d\u540c \u6210\u672c\u8f83\u4f4e \u66f4\u5bbd\u7684\u76c8\u4e8f\u5e73\u8861\u70b9 \u6210\u672c\u66f4\u4f4e\u7684\u6ce2\u52a8\u7387 Short Straddle \u76f8\u540c \u4fe1\u7528\u8f83\u9ad8 \u7a84(\u5728\u884c\u6743\u4ef7) \u6700\u5927\u6536\u76ca,\u4f4e\u6ce2\u52a8\u7387 Short Strangle \u4e0d\u540c \u4fe1\u7528\u8f83\u4f4e \u66f4\u5bbd\u7684\u533a\u95f4 \u66f4\u5b89\u5168\u7684\u6536\u76ca,\u4e2d\u7b49\u6ce2\u52a8\u7387"},{"location":"zh/strategies/straddles-strangles/#greeks","title":"Greeks \u8003\u8651","text":""},{"location":"zh/strategies/straddles-strangles/#long-straddlesstrangles","title":"\u5bf9\u4e8e Long Straddles/Strangles","text":"<ul> <li>\u6b63 Vega - \u4ece\u6ce2\u52a8\u7387\u589e\u52a0\u4e2d\u53d7\u76ca</li> <li>\u8d1f Theta - \u65f6\u95f4\u8870\u51cf\u5bf9\u60a8\u4e0d\u5229</li> <li>\u4ea4\u6613: \u5728 IV \u4f4e\u65f6\u4e70\u5165,\u5728 IV \u98d9\u5347\u65f6\u5356\u51fa</li> </ul>"},{"location":"zh/strategies/straddles-strangles/#short-straddlesstrangles","title":"\u5bf9\u4e8e Short Straddles/Strangles","text":"<ul> <li>\u8d1f Vega - \u53d7\u6ce2\u52a8\u7387\u589e\u52a0\u4f24\u5bb3</li> <li>\u6b63 Theta - \u65f6\u95f4\u8870\u51cf\u5bf9\u60a8\u6709\u5229</li> <li>\u4ea4\u6613: \u5728 IV \u9ad8\u65f6\u5356\u51fa,\u4ece IV \u6324\u538b\u4e2d\u53d7\u76ca</li> </ul>"},{"location":"zh/strategies/straddles-strangles/#iv","title":"\u793a\u4f8b: IV \u8fc7\u6ee4","text":"<pre><code># \u9488\u5bf9 short strangles \u7684\u9ad8 IV \u73af\u5883\nresults = op.short_strangles(\n    data,\n    max_entry_dte=45,\n    exit_dte=21,\n    max_otm_pct=0.25,\n    # \u8fc7\u6ee4\u6d41\u52a8\u3001\u9ad8 IV \u671f\u6743\n    min_bid_ask=0.15,\n    slippage='liquidity'\n)\n</code></pre>"},{"location":"zh/strategies/straddles-strangles/#_24","title":"\u98ce\u9669\u7ba1\u7406","text":"<p>\u5bf9\u4e8e Long \u5934\u5bf8: - \u98ce\u9669\u9650\u4e8e\u652f\u4ed8\u7684\u6743\u5229\u91d1 - \u8003\u8651\u5728 100% \u635f\u5931\u6216 200%+ \u6536\u76ca\u65f6\u9000\u51fa - \u5927\u5e45\u6ce2\u52a8\u65f6\u5229\u6da6\u53ef\u80fd\u76f8\u5f53\u53ef\u89c2</p> <p>\u5bf9\u4e8e Short \u5934\u5bf8: - \u26a0\ufe0f \u98ce\u9669\u662f\u65e0\u9650\u7684 - \u8003\u8651\u6b62\u635f\u6216\u8f6c\u6362\u4e3a iron condors/butterflies - \u5728\u6700\u5927\u76c8\u5229\u7684 50-75% \u65f6\u63d0\u524d\u5e73\u4ed3 - \u4fdd\u5b88\u5730\u786e\u5b9a\u5934\u5bf8\u89c4\u6a21(\u8d26\u6237\u7684\u5c0f\u767e\u5206\u6bd4)</p>"},{"location":"zh/strategies/straddles-strangles/#_25","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\u4e86\u89e3 \u5782\u76f4\u4ef7\u5dee \u4ee5\u83b7\u5f97\u6709\u9650\u98ce\u9669\u7684\u66ff\u4ee3\u65b9\u6848</li> <li>\u63a2\u7d22 Iron Butterflies \u4ee5\u83b7\u5f97\u6709\u9650\u98ce\u9669\u7684\u6ce2\u52a8\u7387\u4ea4\u6613</li> <li>\u67e5\u770b\u5305\u542b IV \u5206\u6790\u7684\u66f4\u591a \u793a\u4f8b</li> </ul>"}]}