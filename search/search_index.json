{"config":{"indexing":"full","lang":["en","zh"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Optopsy Documentation \u00b6 A fast, flexible backtesting library for options strategies in Python. What is Optopsy? \u00b6 Optopsy helps you answer questions like \"How do iron condors perform on SPX?\" or \"What delta range produces the best results for covered calls?\" by generating comprehensive performance statistics from historical options data. Key Features \u00b6 28 Built-in Strategies - From simple calls/puts to iron condors, butterflies, calendars, and diagonals Greeks Filtering - Filter options by delta to target specific probability ranges Slippage Modeling - Realistic fills with mid, spread, or liquidity-based slippage Flexible Grouping - Analyze results by DTE, OTM%, and delta intervals Any Data Source - Works with any options data in CSV or DataFrame format Pandas Native - Returns DataFrames that integrate with your existing workflow Quick Example \u00b6 import optopsy as op # Load your options data data = op . csv_data ( 'SPX_options.csv' ) # Backtest an iron condor strategy results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 ) print ( results ) Installation \u00b6 pip install optopsy Requirements: Python 3.8+, Pandas 2.0+, NumPy 1.26+ Getting Help \u00b6 Check the Getting Started guide for a detailed walkthrough Browse Strategies for available options strategies Review Parameters for configuration options See Examples for common use cases View the API Reference for complete function documentation Contributing \u00b6 Contributions are welcome! See the Contributing Guide for details. License \u00b6 Optopsy is released under the GPL-3.0 License. See the GitHub repository for more information.","title":"Home"},{"location":"#optopsy-documentation","text":"A fast, flexible backtesting library for options strategies in Python.","title":"Optopsy Documentation"},{"location":"#what-is-optopsy","text":"Optopsy helps you answer questions like \"How do iron condors perform on SPX?\" or \"What delta range produces the best results for covered calls?\" by generating comprehensive performance statistics from historical options data.","title":"What is Optopsy?"},{"location":"#key-features","text":"28 Built-in Strategies - From simple calls/puts to iron condors, butterflies, calendars, and diagonals Greeks Filtering - Filter options by delta to target specific probability ranges Slippage Modeling - Realistic fills with mid, spread, or liquidity-based slippage Flexible Grouping - Analyze results by DTE, OTM%, and delta intervals Any Data Source - Works with any options data in CSV or DataFrame format Pandas Native - Returns DataFrames that integrate with your existing workflow","title":"Key Features"},{"location":"#quick-example","text":"import optopsy as op # Load your options data data = op . csv_data ( 'SPX_options.csv' ) # Backtest an iron condor strategy results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 ) print ( results )","title":"Quick Example"},{"location":"#installation","text":"pip install optopsy Requirements: Python 3.8+, Pandas 2.0+, NumPy 1.26+","title":"Installation"},{"location":"#getting-help","text":"Check the Getting Started guide for a detailed walkthrough Browse Strategies for available options strategies Review Parameters for configuration options See Examples for common use cases View the API Reference for complete function documentation","title":"Getting Help"},{"location":"#contributing","text":"Contributions are welcome! See the Contributing Guide for details.","title":"Contributing"},{"location":"#license","text":"Optopsy is released under the GPL-3.0 License. See the GitHub repository for more information.","title":"License"},{"location":"api-reference/","text":"API Reference \u00b6 Complete API documentation for Optopsy functions. Common Parameters All strategy functions share common parameters. See the Common Parameters section below for detailed documentation of max_entry_dte , exit_dte , max_otm_pct , min_bid_ask , slippage settings, and more. Data Loading \u00b6 csv_data \u00b6 Load options data from CSV file. optopsy.datafeeds.csv_data \u00b6 csv_data ( file_path : str , start_date : Optional [ str ] = None , end_date : Optional [ str ] = None , underlying_symbol : int = 0 , underlying_price : int = 1 , option_type : int = 2 , expiration : int = 3 , quote_date : int = 4 , strike : int = 5 , bid : int = 6 , ask : int = 7 , delta : Optional [ int ] = None , gamma : Optional [ int ] = None , theta : Optional [ int ] = None , vega : Optional [ int ] = None , volume : Optional [ int ] = None , open_interest : Optional [ int ] = None , ) -> pd . DataFrame Import option chain data from CSV files with standardized column names. Uses pandas DataFrame.read_csv function to import data from CSV files. Automatically generates standardized headers for library use. Parameters: Name Type Description Default file_path str Path to CSV file required start_date Optional [ str ] Optional start date of dataset to consider (inclusive) None end_date Optional [ str ] Optional end date of dataset to consider (inclusive) None underlying_symbol int Column index containing underlying symbol 0 underlying_price int Column index containing underlying stock price 1 quote_date int Column index containing quote date 4 expiration int Column index containing expiration date 3 strike int Column index containing strike price 5 option_type int Column index containing option type (call/put) 2 bid int Column index containing bid price 6 ask int Column index containing ask price 7 delta Optional [ int ] Optional column index containing delta Greek None gamma Optional [ int ] Optional column index containing gamma Greek None theta Optional [ int ] Optional column index containing theta Greek None vega Optional [ int ] Optional column index containing vega Greek None volume Optional [ int ] Optional column index containing trading volume (used by liquidity slippage) None open_interest Optional [ int ] Optional column index containing open interest (reserved for future use) None Returns: Type Description DataFrame DataFrame with option chains and standardized column names Raises: Type Description FileNotFoundError If CSV file doesn't exist at specified path ValueError If CSV file is empty, has parsing errors, column mapping errors, or other data processing issues Single-Leg Strategies \u00b6 Note All single-leg strategies accept the same parameters. See Common Parameters for full documentation. long_calls \u00b6 optopsy.strategies.long_calls \u00b6 long_calls ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long call strategy statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters (see StrategyParams) {} Returns: Type Description DataFrame DataFrame with long call strategy performance statistics short_calls \u00b6 optopsy.strategies.short_calls \u00b6 short_calls ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short call strategy statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short call strategy performance statistics long_puts \u00b6 optopsy.strategies.long_puts \u00b6 long_puts ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long put strategy statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long put strategy performance statistics short_puts \u00b6 optopsy.strategies.short_puts \u00b6 short_puts ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short put strategy statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short put strategy performance statistics Straddles & Strangles \u00b6 Note All straddle/strangle strategies accept the same parameters. See Common Parameters for full documentation. long_straddles \u00b6 optopsy.strategies.long_straddles \u00b6 long_straddles ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long straddle strategy statistics (long call + long put at same strike). Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long straddle strategy performance statistics short_straddles \u00b6 optopsy.strategies.short_straddles \u00b6 short_straddles ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short straddle strategy statistics (short call + short put at same strike). Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short straddle strategy performance statistics long_strangles \u00b6 optopsy.strategies.long_strangles \u00b6 long_strangles ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long strangle strategy statistics (long call + long put at different strikes). Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long strangle strategy performance statistics short_strangles \u00b6 optopsy.strategies.short_strangles \u00b6 short_strangles ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short strangle strategy statistics (short call + short put at different strikes). Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short strangle strategy performance statistics Vertical Spreads \u00b6 Note All vertical spread strategies accept the same parameters. See Common Parameters for full documentation. long_call_spread \u00b6 optopsy.strategies.long_call_spread \u00b6 long_call_spread ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long call spread (bull call spread) statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long call spread strategy performance statistics short_call_spread \u00b6 optopsy.strategies.short_call_spread \u00b6 short_call_spread ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short call spread (bear call spread) statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short call spread strategy performance statistics long_put_spread \u00b6 optopsy.strategies.long_put_spread \u00b6 long_put_spread ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long put spread (bear put spread) statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long put spread strategy performance statistics short_put_spread \u00b6 optopsy.strategies.short_put_spread \u00b6 short_put_spread ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short put spread (bull put spread) statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short put spread strategy performance statistics Butterfly Spreads \u00b6 Note All butterfly strategies accept the same parameters. See Common Parameters for full documentation. long_call_butterfly \u00b6 optopsy.strategies.long_call_butterfly \u00b6 long_call_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long call butterfly strategy statistics. A long call butterfly consists of: - Long 1 call at lower strike (wing) - Short 2 calls at middle strike (body) - Long 1 call at upper strike (wing) This is a neutral strategy that profits when the underlying stays near the middle strike at expiration. Maximum profit occurs at the middle strike. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long call butterfly strategy performance statistics short_call_butterfly \u00b6 optopsy.strategies.short_call_butterfly \u00b6 short_call_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short call butterfly strategy statistics. A short call butterfly consists of: - Short 1 call at lower strike (wing) - Long 2 calls at middle strike (body) - Short 1 call at upper strike (wing) This strategy profits when the underlying moves significantly away from the middle strike in either direction. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short call butterfly strategy performance statistics long_put_butterfly \u00b6 optopsy.strategies.long_put_butterfly \u00b6 long_put_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long put butterfly strategy statistics. A long put butterfly consists of: - Long 1 put at lower strike (wing) - Short 2 puts at middle strike (body) - Long 1 put at upper strike (wing) This is a neutral strategy that profits when the underlying stays near the middle strike at expiration. Maximum profit occurs at the middle strike. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long put butterfly strategy performance statistics short_put_butterfly \u00b6 optopsy.strategies.short_put_butterfly \u00b6 short_put_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short put butterfly strategy statistics. A short put butterfly consists of: - Short 1 put at lower strike (wing) - Long 2 puts at middle strike (body) - Short 1 put at upper strike (wing) This strategy profits when the underlying moves significantly away from the middle strike in either direction. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short put butterfly strategy performance statistics Iron Strategies \u00b6 Note All iron strategies accept the same parameters. See Common Parameters for full documentation. iron_condor \u00b6 optopsy.strategies.iron_condor \u00b6 iron_condor ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate iron condor strategy statistics. An iron condor consists of: - Long 1 put at lowest strike (protection) - Short 1 put at lower-middle strike (income) - Short 1 call at upper-middle strike (income) - Long 1 call at highest strike (protection) This is a neutral income strategy that profits when the underlying stays between the two short strikes. Maximum profit is the net credit received. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with iron condor strategy performance statistics reverse_iron_condor \u00b6 optopsy.strategies.reverse_iron_condor \u00b6 reverse_iron_condor ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate reverse iron condor strategy statistics. A reverse iron condor consists of: - Short 1 put at lowest strike - Long 1 put at lower-middle strike - Long 1 call at upper-middle strike - Short 1 call at highest strike This strategy profits when the underlying makes a significant move in either direction. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with reverse iron condor strategy performance statistics iron_butterfly \u00b6 optopsy.strategies.iron_butterfly \u00b6 iron_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate iron butterfly strategy statistics. An iron butterfly consists of: - Long 1 put at lowest strike (wing) - Short 1 put at middle strike (body) - Short 1 call at middle strike (body) - same strike as short put - Long 1 call at highest strike (wing) This is a neutral income strategy with higher profit potential than an iron condor, but a narrower profit zone. Maximum profit occurs when the underlying is exactly at the middle strike at expiration. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with iron butterfly strategy performance statistics reverse_iron_butterfly \u00b6 optopsy.strategies.reverse_iron_butterfly \u00b6 reverse_iron_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate reverse iron butterfly strategy statistics. A reverse iron butterfly consists of: - Short 1 put at lowest strike (wing) - Long 1 put at middle strike (body) - Long 1 call at middle strike (body) - same strike as long put - Short 1 call at highest strike (wing) This strategy profits when the underlying makes a significant move away from the middle strike in either direction. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with reverse iron butterfly strategy performance statistics Covered Strategies \u00b6 Note All covered strategies accept the same parameters. See Common Parameters for full documentation. covered_call \u00b6 optopsy.strategies.covered_call \u00b6 covered_call ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate covered call strategy statistics. A covered call consists of: - Long underlying position (simulated via long deep ITM call) - Short 1 call at higher strike This is an income strategy that profits from time decay on the short call while maintaining upside exposure up to the short strike. The long deep ITM call acts as a synthetic long stock position. Note: This implementation uses a synthetic approach with options only. For true covered call analysis with actual stock positions, additional data integration would be required. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with covered call strategy performance statistics protective_put \u00b6 optopsy.strategies.protective_put \u00b6 protective_put ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate protective put (married put) strategy statistics. A protective put consists of: - Long underlying position (simulated via long deep ITM call) - Long 1 put at lower strike for protection This strategy provides downside protection while maintaining upside potential. The long deep ITM call acts as a synthetic long stock position. Note: This implementation uses a synthetic approach with options only. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with protective put strategy performance statistics Calendar Spreads \u00b6 Note Calendar spreads have additional timing parameters ( front_dte_min , front_dte_max , back_dte_min , back_dte_max ) in addition to common parameters. See Common Parameters and Calendar/Diagonal Parameters for full documentation. long_call_calendar \u00b6 optopsy.strategies.long_call_calendar \u00b6 long_call_calendar ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long call calendar spread strategy statistics. A long call calendar consists of: - Short 1 front-month call (near-term expiration) - Long 1 back-month call (longer-term expiration) - Both at the same strike This is a neutral strategy that profits from time decay differential between the two expirations. Maximum profit occurs when the underlying is at the strike price at front-month expiration. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters including: - front_dte_min: Minimum DTE for front leg (default: 20) - front_dte_max: Maximum DTE for front leg (default: 40) - back_dte_min: Minimum DTE for back leg (default: 50) - back_dte_max: Maximum DTE for back leg (default: 90) - exit_dte: Days before front expiration to exit (default: 7) {} Returns: Type Description DataFrame DataFrame with long call calendar spread strategy performance statistics short_call_calendar \u00b6 optopsy.strategies.short_call_calendar \u00b6 short_call_calendar ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short call calendar spread strategy statistics. A short call calendar consists of: - Long 1 front-month call (near-term expiration) - Short 1 back-month call (longer-term expiration) - Both at the same strike This strategy profits when the underlying moves significantly away from the strike price before front-month expiration. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short call calendar spread strategy performance statistics long_put_calendar \u00b6 optopsy.strategies.long_put_calendar \u00b6 long_put_calendar ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long put calendar spread strategy statistics. A long put calendar consists of: - Short 1 front-month put (near-term expiration) - Long 1 back-month put (longer-term expiration) - Both at the same strike This is a neutral strategy that profits from time decay differential between the two expirations. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long put calendar spread strategy performance statistics short_put_calendar \u00b6 optopsy.strategies.short_put_calendar \u00b6 short_put_calendar ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short put calendar spread strategy statistics. A short put calendar consists of: - Long 1 front-month put (near-term expiration) - Short 1 back-month put (longer-term expiration) - Both at the same strike This strategy profits when the underlying moves significantly away from the strike price before front-month expiration. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short put calendar spread strategy performance statistics Diagonal Spreads \u00b6 Note Diagonal spreads have additional timing parameters ( front_dte_min , front_dte_max , back_dte_min , back_dte_max ) in addition to common parameters. See Common Parameters and Calendar/Diagonal Parameters for full documentation. long_call_diagonal \u00b6 optopsy.strategies.long_call_diagonal \u00b6 long_call_diagonal ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long call diagonal spread strategy statistics. A long call diagonal consists of: - Short 1 front-month call (near-term expiration) - Long 1 back-month call (longer-term expiration) - Different strikes for each leg This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long call diagonal spread strategy performance statistics short_call_diagonal \u00b6 optopsy.strategies.short_call_diagonal \u00b6 short_call_diagonal ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short call diagonal spread strategy statistics. A short call diagonal consists of: - Long 1 front-month call (near-term expiration) - Short 1 back-month call (longer-term expiration) - Different strikes for each leg This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short call diagonal spread strategy performance statistics long_put_diagonal \u00b6 optopsy.strategies.long_put_diagonal \u00b6 long_put_diagonal ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long put diagonal spread strategy statistics. A long put diagonal consists of: - Short 1 front-month put (near-term expiration) - Long 1 back-month put (longer-term expiration) - Different strikes for each leg This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long put diagonal spread strategy performance statistics short_put_diagonal \u00b6 optopsy.strategies.short_put_diagonal \u00b6 short_put_diagonal ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short put diagonal spread strategy statistics. A short put diagonal consists of: - Long 1 front-month put (near-term expiration) - Short 1 back-month put (longer-term expiration) - Different strikes for each leg This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short put diagonal spread strategy performance statistics Common Parameters \u00b6 All strategy functions accept these common parameters: Timing Parameters \u00b6 max_entry_dte (int, default=90): Maximum days to expiration at entry exit_dte (int, default=0): Days to expiration at exit dte_interval (int, default=7): Grouping interval for DTE ranges Filtering Parameters \u00b6 max_otm_pct (float, default=0.5): Maximum out-of-the-money percentage otm_pct_interval (float, default=0.05): Grouping interval for OTM ranges min_bid_ask (float, default=0.05): Minimum bid-ask spread filter Greeks Parameters \u00b6 delta_min (float, optional): Minimum delta filter delta_max (float, optional): Maximum delta filter delta_interval (float, optional): Grouping interval for delta ranges Slippage Parameters \u00b6 slippage (str, default='mid'): Slippage mode - 'mid', 'spread', or 'liquidity' fill_ratio (float, default=0.5): Fill ratio for liquidity mode (0.0-1.0) reference_volume (int, default=1000): Volume threshold for liquid options Output Parameters \u00b6 raw (bool, default=False): Return raw trade data instead of aggregated stats drop_nan (bool, default=True): Drop rows with NaN values Calendar/Diagonal Parameters \u00b6 These strategies have additional timing parameters: front_dte_min (int, default=20): Minimum DTE for front leg front_dte_max (int, default=40): Maximum DTE for front leg back_dte_min (int, default=50): Minimum DTE for back leg back_dte_max (int, default=90): Maximum DTE for back leg Return Values \u00b6 Aggregated Results (default) \u00b6 When raw=False (default), strategies return aggregated statistics: Columns: - dte_range : DTE interval group - otm_pct_range : OTM percentage interval group - count : Number of trades in group - mean : Mean return - std : Standard deviation of returns - min : Minimum return - 25% : 25th percentile - 50% : Median return - 75% : 75th percentile - max : Maximum return Raw Trade Data \u00b6 When raw=True , strategies return individual trade details: Columns (vary by strategy): - underlying_symbol : Ticker symbol - expiration : Option expiration date - dte_entry : Days to expiration at entry - strike / strike_leg1 , strike_leg2 , etc.: Strike prices - entry : Entry price/cost - exit : Exit price/proceeds - pct_change : Percentage return - Additional strategy-specific columns Examples \u00b6 See the Examples page for detailed usage examples. Type Hints \u00b6 All functions include full type hints with TypedDict for IDE autocomplete support: import pandas as pd from typing_extensions import Unpack from optopsy import StrategyParams def long_calls ( data : pd . DataFrame , ** kwargs : Unpack [ StrategyParams ]) -> pd . DataFrame : ... Using Type Hints \u00b6 Import StrategyParams or CalendarStrategyParams for better IDE support: import optopsy as op from optopsy import StrategyParams # Your IDE will now provide autocomplete for all parameters results = op . iron_condor ( data , max_entry_dte = 45 , # Type: int exit_dte = 21 , # Type: int slippage = 'liquidity' , # Type: Literal['mid', 'spread', 'liquidity'] fill_ratio = 0.5 , # Type: float ) See TYPE_HINTS.md for detailed documentation on using type hints with Optopsy.","title":"API Reference"},{"location":"api-reference/#api-reference","text":"Complete API documentation for Optopsy functions. Common Parameters All strategy functions share common parameters. See the Common Parameters section below for detailed documentation of max_entry_dte , exit_dte , max_otm_pct , min_bid_ask , slippage settings, and more.","title":"API Reference"},{"location":"api-reference/#data-loading","text":"","title":"Data Loading"},{"location":"api-reference/#csv_data","text":"Load options data from CSV file.","title":"csv_data"},{"location":"api-reference/#optopsy.datafeeds.csv_data","text":"csv_data ( file_path : str , start_date : Optional [ str ] = None , end_date : Optional [ str ] = None , underlying_symbol : int = 0 , underlying_price : int = 1 , option_type : int = 2 , expiration : int = 3 , quote_date : int = 4 , strike : int = 5 , bid : int = 6 , ask : int = 7 , delta : Optional [ int ] = None , gamma : Optional [ int ] = None , theta : Optional [ int ] = None , vega : Optional [ int ] = None , volume : Optional [ int ] = None , open_interest : Optional [ int ] = None , ) -> pd . DataFrame Import option chain data from CSV files with standardized column names. Uses pandas DataFrame.read_csv function to import data from CSV files. Automatically generates standardized headers for library use. Parameters: Name Type Description Default file_path str Path to CSV file required start_date Optional [ str ] Optional start date of dataset to consider (inclusive) None end_date Optional [ str ] Optional end date of dataset to consider (inclusive) None underlying_symbol int Column index containing underlying symbol 0 underlying_price int Column index containing underlying stock price 1 quote_date int Column index containing quote date 4 expiration int Column index containing expiration date 3 strike int Column index containing strike price 5 option_type int Column index containing option type (call/put) 2 bid int Column index containing bid price 6 ask int Column index containing ask price 7 delta Optional [ int ] Optional column index containing delta Greek None gamma Optional [ int ] Optional column index containing gamma Greek None theta Optional [ int ] Optional column index containing theta Greek None vega Optional [ int ] Optional column index containing vega Greek None volume Optional [ int ] Optional column index containing trading volume (used by liquidity slippage) None open_interest Optional [ int ] Optional column index containing open interest (reserved for future use) None Returns: Type Description DataFrame DataFrame with option chains and standardized column names Raises: Type Description FileNotFoundError If CSV file doesn't exist at specified path ValueError If CSV file is empty, has parsing errors, column mapping errors, or other data processing issues","title":"csv_data"},{"location":"api-reference/#single-leg-strategies","text":"Note All single-leg strategies accept the same parameters. See Common Parameters for full documentation.","title":"Single-Leg Strategies"},{"location":"api-reference/#long_calls","text":"","title":"long_calls"},{"location":"api-reference/#optopsy.strategies.long_calls","text":"long_calls ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long call strategy statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters (see StrategyParams) {} Returns: Type Description DataFrame DataFrame with long call strategy performance statistics","title":"long_calls"},{"location":"api-reference/#short_calls","text":"","title":"short_calls"},{"location":"api-reference/#optopsy.strategies.short_calls","text":"short_calls ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short call strategy statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short call strategy performance statistics","title":"short_calls"},{"location":"api-reference/#long_puts","text":"","title":"long_puts"},{"location":"api-reference/#optopsy.strategies.long_puts","text":"long_puts ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long put strategy statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long put strategy performance statistics","title":"long_puts"},{"location":"api-reference/#short_puts","text":"","title":"short_puts"},{"location":"api-reference/#optopsy.strategies.short_puts","text":"short_puts ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short put strategy statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short put strategy performance statistics","title":"short_puts"},{"location":"api-reference/#straddles-strangles","text":"Note All straddle/strangle strategies accept the same parameters. See Common Parameters for full documentation.","title":"Straddles &amp; Strangles"},{"location":"api-reference/#long_straddles","text":"","title":"long_straddles"},{"location":"api-reference/#optopsy.strategies.long_straddles","text":"long_straddles ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long straddle strategy statistics (long call + long put at same strike). Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long straddle strategy performance statistics","title":"long_straddles"},{"location":"api-reference/#short_straddles","text":"","title":"short_straddles"},{"location":"api-reference/#optopsy.strategies.short_straddles","text":"short_straddles ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short straddle strategy statistics (short call + short put at same strike). Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short straddle strategy performance statistics","title":"short_straddles"},{"location":"api-reference/#long_strangles","text":"","title":"long_strangles"},{"location":"api-reference/#optopsy.strategies.long_strangles","text":"long_strangles ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long strangle strategy statistics (long call + long put at different strikes). Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long strangle strategy performance statistics","title":"long_strangles"},{"location":"api-reference/#short_strangles","text":"","title":"short_strangles"},{"location":"api-reference/#optopsy.strategies.short_strangles","text":"short_strangles ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short strangle strategy statistics (short call + short put at different strikes). Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short strangle strategy performance statistics","title":"short_strangles"},{"location":"api-reference/#vertical-spreads","text":"Note All vertical spread strategies accept the same parameters. See Common Parameters for full documentation.","title":"Vertical Spreads"},{"location":"api-reference/#long_call_spread","text":"","title":"long_call_spread"},{"location":"api-reference/#optopsy.strategies.long_call_spread","text":"long_call_spread ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long call spread (bull call spread) statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long call spread strategy performance statistics","title":"long_call_spread"},{"location":"api-reference/#short_call_spread","text":"","title":"short_call_spread"},{"location":"api-reference/#optopsy.strategies.short_call_spread","text":"short_call_spread ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short call spread (bear call spread) statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short call spread strategy performance statistics","title":"short_call_spread"},{"location":"api-reference/#long_put_spread","text":"","title":"long_put_spread"},{"location":"api-reference/#optopsy.strategies.long_put_spread","text":"long_put_spread ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long put spread (bear put spread) statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long put spread strategy performance statistics","title":"long_put_spread"},{"location":"api-reference/#short_put_spread","text":"","title":"short_put_spread"},{"location":"api-reference/#optopsy.strategies.short_put_spread","text":"short_put_spread ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short put spread (bull put spread) statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short put spread strategy performance statistics","title":"short_put_spread"},{"location":"api-reference/#butterfly-spreads","text":"Note All butterfly strategies accept the same parameters. See Common Parameters for full documentation.","title":"Butterfly Spreads"},{"location":"api-reference/#long_call_butterfly","text":"","title":"long_call_butterfly"},{"location":"api-reference/#optopsy.strategies.long_call_butterfly","text":"long_call_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long call butterfly strategy statistics. A long call butterfly consists of: - Long 1 call at lower strike (wing) - Short 2 calls at middle strike (body) - Long 1 call at upper strike (wing) This is a neutral strategy that profits when the underlying stays near the middle strike at expiration. Maximum profit occurs at the middle strike. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long call butterfly strategy performance statistics","title":"long_call_butterfly"},{"location":"api-reference/#short_call_butterfly","text":"","title":"short_call_butterfly"},{"location":"api-reference/#optopsy.strategies.short_call_butterfly","text":"short_call_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short call butterfly strategy statistics. A short call butterfly consists of: - Short 1 call at lower strike (wing) - Long 2 calls at middle strike (body) - Short 1 call at upper strike (wing) This strategy profits when the underlying moves significantly away from the middle strike in either direction. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short call butterfly strategy performance statistics","title":"short_call_butterfly"},{"location":"api-reference/#long_put_butterfly","text":"","title":"long_put_butterfly"},{"location":"api-reference/#optopsy.strategies.long_put_butterfly","text":"long_put_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long put butterfly strategy statistics. A long put butterfly consists of: - Long 1 put at lower strike (wing) - Short 2 puts at middle strike (body) - Long 1 put at upper strike (wing) This is a neutral strategy that profits when the underlying stays near the middle strike at expiration. Maximum profit occurs at the middle strike. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long put butterfly strategy performance statistics","title":"long_put_butterfly"},{"location":"api-reference/#short_put_butterfly","text":"","title":"short_put_butterfly"},{"location":"api-reference/#optopsy.strategies.short_put_butterfly","text":"short_put_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short put butterfly strategy statistics. A short put butterfly consists of: - Short 1 put at lower strike (wing) - Long 2 puts at middle strike (body) - Short 1 put at upper strike (wing) This strategy profits when the underlying moves significantly away from the middle strike in either direction. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short put butterfly strategy performance statistics","title":"short_put_butterfly"},{"location":"api-reference/#iron-strategies","text":"Note All iron strategies accept the same parameters. See Common Parameters for full documentation.","title":"Iron Strategies"},{"location":"api-reference/#iron_condor","text":"","title":"iron_condor"},{"location":"api-reference/#optopsy.strategies.iron_condor","text":"iron_condor ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate iron condor strategy statistics. An iron condor consists of: - Long 1 put at lowest strike (protection) - Short 1 put at lower-middle strike (income) - Short 1 call at upper-middle strike (income) - Long 1 call at highest strike (protection) This is a neutral income strategy that profits when the underlying stays between the two short strikes. Maximum profit is the net credit received. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with iron condor strategy performance statistics","title":"iron_condor"},{"location":"api-reference/#reverse_iron_condor","text":"","title":"reverse_iron_condor"},{"location":"api-reference/#optopsy.strategies.reverse_iron_condor","text":"reverse_iron_condor ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate reverse iron condor strategy statistics. A reverse iron condor consists of: - Short 1 put at lowest strike - Long 1 put at lower-middle strike - Long 1 call at upper-middle strike - Short 1 call at highest strike This strategy profits when the underlying makes a significant move in either direction. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with reverse iron condor strategy performance statistics","title":"reverse_iron_condor"},{"location":"api-reference/#iron_butterfly","text":"","title":"iron_butterfly"},{"location":"api-reference/#optopsy.strategies.iron_butterfly","text":"iron_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate iron butterfly strategy statistics. An iron butterfly consists of: - Long 1 put at lowest strike (wing) - Short 1 put at middle strike (body) - Short 1 call at middle strike (body) - same strike as short put - Long 1 call at highest strike (wing) This is a neutral income strategy with higher profit potential than an iron condor, but a narrower profit zone. Maximum profit occurs when the underlying is exactly at the middle strike at expiration. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with iron butterfly strategy performance statistics","title":"iron_butterfly"},{"location":"api-reference/#reverse_iron_butterfly","text":"","title":"reverse_iron_butterfly"},{"location":"api-reference/#optopsy.strategies.reverse_iron_butterfly","text":"reverse_iron_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate reverse iron butterfly strategy statistics. A reverse iron butterfly consists of: - Short 1 put at lowest strike (wing) - Long 1 put at middle strike (body) - Long 1 call at middle strike (body) - same strike as long put - Short 1 call at highest strike (wing) This strategy profits when the underlying makes a significant move away from the middle strike in either direction. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with reverse iron butterfly strategy performance statistics","title":"reverse_iron_butterfly"},{"location":"api-reference/#covered-strategies","text":"Note All covered strategies accept the same parameters. See Common Parameters for full documentation.","title":"Covered Strategies"},{"location":"api-reference/#covered_call","text":"","title":"covered_call"},{"location":"api-reference/#optopsy.strategies.covered_call","text":"covered_call ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate covered call strategy statistics. A covered call consists of: - Long underlying position (simulated via long deep ITM call) - Short 1 call at higher strike This is an income strategy that profits from time decay on the short call while maintaining upside exposure up to the short strike. The long deep ITM call acts as a synthetic long stock position. Note: This implementation uses a synthetic approach with options only. For true covered call analysis with actual stock positions, additional data integration would be required. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with covered call strategy performance statistics","title":"covered_call"},{"location":"api-reference/#protective_put","text":"","title":"protective_put"},{"location":"api-reference/#optopsy.strategies.protective_put","text":"protective_put ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate protective put (married put) strategy statistics. A protective put consists of: - Long underlying position (simulated via long deep ITM call) - Long 1 put at lower strike for protection This strategy provides downside protection while maintaining upside potential. The long deep ITM call acts as a synthetic long stock position. Note: This implementation uses a synthetic approach with options only. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with protective put strategy performance statistics","title":"protective_put"},{"location":"api-reference/#calendar-spreads","text":"Note Calendar spreads have additional timing parameters ( front_dte_min , front_dte_max , back_dte_min , back_dte_max ) in addition to common parameters. See Common Parameters and Calendar/Diagonal Parameters for full documentation.","title":"Calendar Spreads"},{"location":"api-reference/#long_call_calendar","text":"","title":"long_call_calendar"},{"location":"api-reference/#optopsy.strategies.long_call_calendar","text":"long_call_calendar ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long call calendar spread strategy statistics. A long call calendar consists of: - Short 1 front-month call (near-term expiration) - Long 1 back-month call (longer-term expiration) - Both at the same strike This is a neutral strategy that profits from time decay differential between the two expirations. Maximum profit occurs when the underlying is at the strike price at front-month expiration. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters including: - front_dte_min: Minimum DTE for front leg (default: 20) - front_dte_max: Maximum DTE for front leg (default: 40) - back_dte_min: Minimum DTE for back leg (default: 50) - back_dte_max: Maximum DTE for back leg (default: 90) - exit_dte: Days before front expiration to exit (default: 7) {} Returns: Type Description DataFrame DataFrame with long call calendar spread strategy performance statistics","title":"long_call_calendar"},{"location":"api-reference/#short_call_calendar","text":"","title":"short_call_calendar"},{"location":"api-reference/#optopsy.strategies.short_call_calendar","text":"short_call_calendar ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short call calendar spread strategy statistics. A short call calendar consists of: - Long 1 front-month call (near-term expiration) - Short 1 back-month call (longer-term expiration) - Both at the same strike This strategy profits when the underlying moves significantly away from the strike price before front-month expiration. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short call calendar spread strategy performance statistics","title":"short_call_calendar"},{"location":"api-reference/#long_put_calendar","text":"","title":"long_put_calendar"},{"location":"api-reference/#optopsy.strategies.long_put_calendar","text":"long_put_calendar ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long put calendar spread strategy statistics. A long put calendar consists of: - Short 1 front-month put (near-term expiration) - Long 1 back-month put (longer-term expiration) - Both at the same strike This is a neutral strategy that profits from time decay differential between the two expirations. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long put calendar spread strategy performance statistics","title":"long_put_calendar"},{"location":"api-reference/#short_put_calendar","text":"","title":"short_put_calendar"},{"location":"api-reference/#optopsy.strategies.short_put_calendar","text":"short_put_calendar ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short put calendar spread strategy statistics. A short put calendar consists of: - Long 1 front-month put (near-term expiration) - Short 1 back-month put (longer-term expiration) - Both at the same strike This strategy profits when the underlying moves significantly away from the strike price before front-month expiration. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short put calendar spread strategy performance statistics","title":"short_put_calendar"},{"location":"api-reference/#diagonal-spreads","text":"Note Diagonal spreads have additional timing parameters ( front_dte_min , front_dte_max , back_dte_min , back_dte_max ) in addition to common parameters. See Common Parameters and Calendar/Diagonal Parameters for full documentation.","title":"Diagonal Spreads"},{"location":"api-reference/#long_call_diagonal","text":"","title":"long_call_diagonal"},{"location":"api-reference/#optopsy.strategies.long_call_diagonal","text":"long_call_diagonal ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long call diagonal spread strategy statistics. A long call diagonal consists of: - Short 1 front-month call (near-term expiration) - Long 1 back-month call (longer-term expiration) - Different strikes for each leg This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long call diagonal spread strategy performance statistics","title":"long_call_diagonal"},{"location":"api-reference/#short_call_diagonal","text":"","title":"short_call_diagonal"},{"location":"api-reference/#optopsy.strategies.short_call_diagonal","text":"short_call_diagonal ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short call diagonal spread strategy statistics. A short call diagonal consists of: - Long 1 front-month call (near-term expiration) - Short 1 back-month call (longer-term expiration) - Different strikes for each leg This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short call diagonal spread strategy performance statistics","title":"short_call_diagonal"},{"location":"api-reference/#long_put_diagonal","text":"","title":"long_put_diagonal"},{"location":"api-reference/#optopsy.strategies.long_put_diagonal","text":"long_put_diagonal ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long put diagonal spread strategy statistics. A long put diagonal consists of: - Short 1 front-month put (near-term expiration) - Long 1 back-month put (longer-term expiration) - Different strikes for each leg This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long put diagonal spread strategy performance statistics","title":"long_put_diagonal"},{"location":"api-reference/#short_put_diagonal","text":"","title":"short_put_diagonal"},{"location":"api-reference/#optopsy.strategies.short_put_diagonal","text":"short_put_diagonal ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short put diagonal spread strategy statistics. A short put diagonal consists of: - Long 1 front-month put (near-term expiration) - Short 1 back-month put (longer-term expiration) - Different strikes for each leg This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short put diagonal spread strategy performance statistics","title":"short_put_diagonal"},{"location":"api-reference/#common-parameters","text":"All strategy functions accept these common parameters:","title":"Common Parameters"},{"location":"api-reference/#timing-parameters","text":"max_entry_dte (int, default=90): Maximum days to expiration at entry exit_dte (int, default=0): Days to expiration at exit dte_interval (int, default=7): Grouping interval for DTE ranges","title":"Timing Parameters"},{"location":"api-reference/#filtering-parameters","text":"max_otm_pct (float, default=0.5): Maximum out-of-the-money percentage otm_pct_interval (float, default=0.05): Grouping interval for OTM ranges min_bid_ask (float, default=0.05): Minimum bid-ask spread filter","title":"Filtering Parameters"},{"location":"api-reference/#greeks-parameters","text":"delta_min (float, optional): Minimum delta filter delta_max (float, optional): Maximum delta filter delta_interval (float, optional): Grouping interval for delta ranges","title":"Greeks Parameters"},{"location":"api-reference/#slippage-parameters","text":"slippage (str, default='mid'): Slippage mode - 'mid', 'spread', or 'liquidity' fill_ratio (float, default=0.5): Fill ratio for liquidity mode (0.0-1.0) reference_volume (int, default=1000): Volume threshold for liquid options","title":"Slippage Parameters"},{"location":"api-reference/#output-parameters","text":"raw (bool, default=False): Return raw trade data instead of aggregated stats drop_nan (bool, default=True): Drop rows with NaN values","title":"Output Parameters"},{"location":"api-reference/#calendardiagonal-parameters","text":"These strategies have additional timing parameters: front_dte_min (int, default=20): Minimum DTE for front leg front_dte_max (int, default=40): Maximum DTE for front leg back_dte_min (int, default=50): Minimum DTE for back leg back_dte_max (int, default=90): Maximum DTE for back leg","title":"Calendar/Diagonal Parameters"},{"location":"api-reference/#return-values","text":"","title":"Return Values"},{"location":"api-reference/#aggregated-results-default","text":"When raw=False (default), strategies return aggregated statistics: Columns: - dte_range : DTE interval group - otm_pct_range : OTM percentage interval group - count : Number of trades in group - mean : Mean return - std : Standard deviation of returns - min : Minimum return - 25% : 25th percentile - 50% : Median return - 75% : 75th percentile - max : Maximum return","title":"Aggregated Results (default)"},{"location":"api-reference/#raw-trade-data","text":"When raw=True , strategies return individual trade details: Columns (vary by strategy): - underlying_symbol : Ticker symbol - expiration : Option expiration date - dte_entry : Days to expiration at entry - strike / strike_leg1 , strike_leg2 , etc.: Strike prices - entry : Entry price/cost - exit : Exit price/proceeds - pct_change : Percentage return - Additional strategy-specific columns","title":"Raw Trade Data"},{"location":"api-reference/#examples","text":"See the Examples page for detailed usage examples.","title":"Examples"},{"location":"api-reference/#type-hints","text":"All functions include full type hints with TypedDict for IDE autocomplete support: import pandas as pd from typing_extensions import Unpack from optopsy import StrategyParams def long_calls ( data : pd . DataFrame , ** kwargs : Unpack [ StrategyParams ]) -> pd . DataFrame : ...","title":"Type Hints"},{"location":"api-reference/#using-type-hints","text":"Import StrategyParams or CalendarStrategyParams for better IDE support: import optopsy as op from optopsy import StrategyParams # Your IDE will now provide autocomplete for all parameters results = op . iron_condor ( data , max_entry_dte = 45 , # Type: int exit_dte = 21 , # Type: int slippage = 'liquidity' , # Type: Literal['mid', 'spread', 'liquidity'] fill_ratio = 0.5 , # Type: float ) See TYPE_HINTS.md for detailed documentation on using type hints with Optopsy.","title":"Using Type Hints"},{"location":"contributing/","text":"Contributing to Optopsy \u00b6 Thank you for your interest in contributing to Optopsy! This guide will help you get started. Development Setup \u00b6 1. Clone the Repository \u00b6 git clone https://github.com/michaelchu/optopsy.git cd optopsy 2. Create Virtual Environment \u00b6 python -m venv venv source venv/bin/activate # On Windows: venv\\Scripts\\activate 3. Install Development Dependencies \u00b6 pip install -e . pip install pytest black 4. Verify Installation \u00b6 pytest tests/ -v Development Workflow \u00b6 Running Tests \u00b6 # Run all tests pytest tests/ -v # Run specific test file pytest tests/test_strategies.py -v # Run tests matching a pattern pytest tests/ -k \"butterfly\" -v Code Formatting \u00b6 Optopsy uses Black for code formatting: # Check formatting black --check optopsy/ tests/ setup.py # Auto-format code black optopsy/ tests/ setup.py Important: All code must be formatted with Black before submitting a PR. Adding a New Strategy \u00b6 Follow these steps to add a new options strategy: 1. Define Strategy in strategies.py \u00b6 Add a public function and helper if needed: def new_strategy ( data : pd . DataFrame , ** kwargs : Any ) -> pd . DataFrame : \"\"\" Generate new strategy statistics. A clear description of what this strategy does, including: - Leg composition - Market outlook - Profit/loss characteristics Args: data: DataFrame containing option chain data **kwargs: Optional strategy parameters Returns: DataFrame with strategy performance statistics \"\"\" return _helper ( data , leg_def = [ ... ], ** kwargs ) 2. Add Validation Rules (if needed) \u00b6 If your strategy has strike constraints, add them to rules.py : def _rule_new_strategy_strikes ( df : pd . DataFrame ) -> pd . DataFrame : \"\"\" Validate strike ordering for new strategy. Rule: [Describe your rule here] \"\"\" # Implementation return df [ mask ] 3. Update Column Definitions (if needed) \u00b6 If your strategy needs new column structures, add them to definitions.py : new_strategy_internal_cols : List [ str ] = [ \"underlying_symbol\" , \"strike_leg1\" , # ... other columns ] 4. Export in __init__.py \u00b6 Add your strategy to the exports: from .strategies import ( # ... existing strategies new_strategy , ) __all__ = [ # ... existing strategies \"new_strategy\" , ] 5. Add Tests \u00b6 Create tests in tests/test_strategies.py : def test_new_strategy ( sample_data ): \"\"\"Test new strategy returns expected output.\"\"\" results = op . new_strategy ( sample_data ) assert isinstance ( results , pd . DataFrame ) assert len ( results ) > 0 assert 'mean' in results . columns # Additional assertions 6. Update Documentation \u00b6 Add documentation to the appropriate strategy category file in docs/strategies/ . Pull Request Guidelines \u00b6 Before Submitting \u00b6 [ ] All tests pass ( pytest tests/ -v ) [ ] Code is formatted with Black ( black optopsy/ tests/ ) [ ] New features have tests [ ] New strategies have documentation [ ] Docstrings follow existing style (Google format) [ ] Type hints are included PR Description \u00b6 Include in your PR description: - What changes you made - Why you made them - How to test the changes - Any breaking changes Example PR Template \u00b6 ## Description Brief description of changes ## Type of Change - [ ] Bug fix - [ ] New feature - [ ] Breaking change - [ ] Documentation update ## Testing How to test these changes ## Checklist - [ ] Tests pass - [ ] Code formatted with Black - [ ] Documentation updated - [ ] Type hints included Code Style Guidelines \u00b6 Docstrings \u00b6 Use Google-style docstrings: def function_name ( param1 : str , param2 : int ) -> bool : \"\"\" Brief description of function. Longer description if needed, explaining behavior, edge cases, or important details. Args: param1: Description of param1 param2: Description of param2 Returns: Description of return value Raises: ValueError: When param1 is invalid \"\"\" pass Type Hints \u00b6 Always include type hints: from typing import Any , Dict , List import pandas as pd def process_data ( data : pd . DataFrame , params : Dict [ str , Any ] ) -> List [ pd . DataFrame ]: ... Function Naming \u00b6 Public functions: snake_case (e.g., long_calls ) Private functions: _snake_case (e.g., _process_strategy ) Constants: UPPER_CASE (rarely used) Testing Guidelines \u00b6 Test Structure \u00b6 def test_feature_name ( sample_data ): \"\"\"Test that feature behaves correctly.\"\"\" # Arrange expected_result = ... # Act actual_result = function_under_test ( sample_data ) # Assert assert actual_result == expected_result Fixtures \u00b6 Use pytest fixtures for common test data: @pytest . fixture def sample_data (): \"\"\"Generate sample options data for testing.\"\"\" return pd . DataFrame ({ ... }) Coverage \u00b6 Aim for high test coverage on public APIs. Not every internal function needs tests, but all public strategy functions should be tested. Documentation \u00b6 Building Docs Locally \u00b6 # Install MkDocs pip install mkdocs mkdocs-material mkdocstrings [ python ] # Serve docs locally mkdocs serve # Visit http://127.0.0.1:8000 Documentation Structure \u00b6 docs/index.md - Home page docs/getting-started.md - Installation and quick start docs/strategies/ - Strategy-specific documentation docs/parameters.md - Parameter reference docs/examples.md - Usage examples docs/api-reference.md - Auto-generated API docs Reporting Issues \u00b6 Bug Reports \u00b6 Include: - Python version - Optopsy version - Minimal reproducible example - Expected vs actual behavior - Error messages/tracebacks Feature Requests \u00b6 Describe: - The problem you're trying to solve - How you envision the solution - Any alternatives you've considered - Whether you're willing to contribute the feature Community \u00b6 GitHub Issues : Bug reports and feature requests Discussions : Questions and general discussion Pull Requests : Code contributions License \u00b6 By contributing to Optopsy, you agree that your contributions will be licensed under the GPL-3.0 License. Questions? \u00b6 If you have questions about contributing, feel free to: - Open a GitHub Discussion - Create an issue with the \"question\" label - Check existing issues and documentation Thank you for contributing to Optopsy! \ud83c\udf89","title":"Contributing to Optopsy"},{"location":"contributing/#contributing-to-optopsy","text":"Thank you for your interest in contributing to Optopsy! This guide will help you get started.","title":"Contributing to Optopsy"},{"location":"contributing/#development-setup","text":"","title":"Development Setup"},{"location":"contributing/#1-clone-the-repository","text":"git clone https://github.com/michaelchu/optopsy.git cd optopsy","title":"1. Clone the Repository"},{"location":"contributing/#2-create-virtual-environment","text":"python -m venv venv source venv/bin/activate # On Windows: venv\\Scripts\\activate","title":"2. Create Virtual Environment"},{"location":"contributing/#3-install-development-dependencies","text":"pip install -e . pip install pytest black","title":"3. Install Development Dependencies"},{"location":"contributing/#4-verify-installation","text":"pytest tests/ -v","title":"4. Verify Installation"},{"location":"contributing/#development-workflow","text":"","title":"Development Workflow"},{"location":"contributing/#running-tests","text":"# Run all tests pytest tests/ -v # Run specific test file pytest tests/test_strategies.py -v # Run tests matching a pattern pytest tests/ -k \"butterfly\" -v","title":"Running Tests"},{"location":"contributing/#code-formatting","text":"Optopsy uses Black for code formatting: # Check formatting black --check optopsy/ tests/ setup.py # Auto-format code black optopsy/ tests/ setup.py Important: All code must be formatted with Black before submitting a PR.","title":"Code Formatting"},{"location":"contributing/#adding-a-new-strategy","text":"Follow these steps to add a new options strategy:","title":"Adding a New Strategy"},{"location":"contributing/#1-define-strategy-in-strategiespy","text":"Add a public function and helper if needed: def new_strategy ( data : pd . DataFrame , ** kwargs : Any ) -> pd . DataFrame : \"\"\" Generate new strategy statistics. A clear description of what this strategy does, including: - Leg composition - Market outlook - Profit/loss characteristics Args: data: DataFrame containing option chain data **kwargs: Optional strategy parameters Returns: DataFrame with strategy performance statistics \"\"\" return _helper ( data , leg_def = [ ... ], ** kwargs )","title":"1. Define Strategy in strategies.py"},{"location":"contributing/#2-add-validation-rules-if-needed","text":"If your strategy has strike constraints, add them to rules.py : def _rule_new_strategy_strikes ( df : pd . DataFrame ) -> pd . DataFrame : \"\"\" Validate strike ordering for new strategy. Rule: [Describe your rule here] \"\"\" # Implementation return df [ mask ]","title":"2. Add Validation Rules (if needed)"},{"location":"contributing/#3-update-column-definitions-if-needed","text":"If your strategy needs new column structures, add them to definitions.py : new_strategy_internal_cols : List [ str ] = [ \"underlying_symbol\" , \"strike_leg1\" , # ... other columns ]","title":"3. Update Column Definitions (if needed)"},{"location":"contributing/#4-export-in-__init__py","text":"Add your strategy to the exports: from .strategies import ( # ... existing strategies new_strategy , ) __all__ = [ # ... existing strategies \"new_strategy\" , ]","title":"4. Export in __init__.py"},{"location":"contributing/#5-add-tests","text":"Create tests in tests/test_strategies.py : def test_new_strategy ( sample_data ): \"\"\"Test new strategy returns expected output.\"\"\" results = op . new_strategy ( sample_data ) assert isinstance ( results , pd . DataFrame ) assert len ( results ) > 0 assert 'mean' in results . columns # Additional assertions","title":"5. Add Tests"},{"location":"contributing/#6-update-documentation","text":"Add documentation to the appropriate strategy category file in docs/strategies/ .","title":"6. Update Documentation"},{"location":"contributing/#pull-request-guidelines","text":"","title":"Pull Request Guidelines"},{"location":"contributing/#before-submitting","text":"[ ] All tests pass ( pytest tests/ -v ) [ ] Code is formatted with Black ( black optopsy/ tests/ ) [ ] New features have tests [ ] New strategies have documentation [ ] Docstrings follow existing style (Google format) [ ] Type hints are included","title":"Before Submitting"},{"location":"contributing/#pr-description","text":"Include in your PR description: - What changes you made - Why you made them - How to test the changes - Any breaking changes","title":"PR Description"},{"location":"contributing/#example-pr-template","text":"## Description Brief description of changes ## Type of Change - [ ] Bug fix - [ ] New feature - [ ] Breaking change - [ ] Documentation update ## Testing How to test these changes ## Checklist - [ ] Tests pass - [ ] Code formatted with Black - [ ] Documentation updated - [ ] Type hints included","title":"Example PR Template"},{"location":"contributing/#code-style-guidelines","text":"","title":"Code Style Guidelines"},{"location":"contributing/#docstrings","text":"Use Google-style docstrings: def function_name ( param1 : str , param2 : int ) -> bool : \"\"\" Brief description of function. Longer description if needed, explaining behavior, edge cases, or important details. Args: param1: Description of param1 param2: Description of param2 Returns: Description of return value Raises: ValueError: When param1 is invalid \"\"\" pass","title":"Docstrings"},{"location":"contributing/#type-hints","text":"Always include type hints: from typing import Any , Dict , List import pandas as pd def process_data ( data : pd . DataFrame , params : Dict [ str , Any ] ) -> List [ pd . DataFrame ]: ...","title":"Type Hints"},{"location":"contributing/#function-naming","text":"Public functions: snake_case (e.g., long_calls ) Private functions: _snake_case (e.g., _process_strategy ) Constants: UPPER_CASE (rarely used)","title":"Function Naming"},{"location":"contributing/#testing-guidelines","text":"","title":"Testing Guidelines"},{"location":"contributing/#test-structure","text":"def test_feature_name ( sample_data ): \"\"\"Test that feature behaves correctly.\"\"\" # Arrange expected_result = ... # Act actual_result = function_under_test ( sample_data ) # Assert assert actual_result == expected_result","title":"Test Structure"},{"location":"contributing/#fixtures","text":"Use pytest fixtures for common test data: @pytest . fixture def sample_data (): \"\"\"Generate sample options data for testing.\"\"\" return pd . DataFrame ({ ... })","title":"Fixtures"},{"location":"contributing/#coverage","text":"Aim for high test coverage on public APIs. Not every internal function needs tests, but all public strategy functions should be tested.","title":"Coverage"},{"location":"contributing/#documentation","text":"","title":"Documentation"},{"location":"contributing/#building-docs-locally","text":"# Install MkDocs pip install mkdocs mkdocs-material mkdocstrings [ python ] # Serve docs locally mkdocs serve # Visit http://127.0.0.1:8000","title":"Building Docs Locally"},{"location":"contributing/#documentation-structure","text":"docs/index.md - Home page docs/getting-started.md - Installation and quick start docs/strategies/ - Strategy-specific documentation docs/parameters.md - Parameter reference docs/examples.md - Usage examples docs/api-reference.md - Auto-generated API docs","title":"Documentation Structure"},{"location":"contributing/#reporting-issues","text":"","title":"Reporting Issues"},{"location":"contributing/#bug-reports","text":"Include: - Python version - Optopsy version - Minimal reproducible example - Expected vs actual behavior - Error messages/tracebacks","title":"Bug Reports"},{"location":"contributing/#feature-requests","text":"Describe: - The problem you're trying to solve - How you envision the solution - Any alternatives you've considered - Whether you're willing to contribute the feature","title":"Feature Requests"},{"location":"contributing/#community","text":"GitHub Issues : Bug reports and feature requests Discussions : Questions and general discussion Pull Requests : Code contributions","title":"Community"},{"location":"contributing/#license","text":"By contributing to Optopsy, you agree that your contributions will be licensed under the GPL-3.0 License.","title":"License"},{"location":"contributing/#questions","text":"If you have questions about contributing, feel free to: - Open a GitHub Discussion - Create an issue with the \"question\" label - Check existing issues and documentation Thank you for contributing to Optopsy! \ud83c\udf89","title":"Questions?"},{"location":"examples/","text":"Examples \u00b6 This page provides real-world examples of using Optopsy for options backtesting. Basic Examples \u00b6 Simple Long Calls Backtest \u00b6 import optopsy as op # Load data data = op . csv_data ( 'SPX_2023.csv' ) # Backtest long calls results = op . long_calls ( data ) print ( results . head ()) Iron Condor with Custom Parameters \u00b6 results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 , min_bid_ask = 0.10 ) # Filter for best performing DTE ranges best_dte = results [ results [ 'mean' ] > 0.20 ] print ( best_dte ) Advanced Examples \u00b6 Delta-Neutral Iron Condors \u00b6 Target specific delta ranges for short strikes: results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , delta_min = 0.15 , # Target 15-20 delta delta_max = 0.20 , delta_interval = 0.05 , min_bid_ask = 0.10 ) # Analyze by delta ranges print ( results . groupby ( 'delta_range' )[ 'mean' ] . describe ()) Earnings Straddle Strategy \u00b6 Backtest long straddles around earnings events: # Load earnings dates earnings_dates = [ '2023-01-15' , '2023-04-15' , '2023-07-15' , '2023-10-15' ] # Filter data around earnings (\u00b17 days) import pandas as pd data [ 'quote_date' ] = pd . to_datetime ( data [ 'quote_date' ]) earnings_data = [] for date in pd . to_datetime ( earnings_dates ): mask = ( data [ 'quote_date' ] >= date - pd . Timedelta ( days = 7 )) & \\ ( data [ 'quote_date' ] <= date + pd . Timedelta ( days = 7 )) earnings_data . append ( data [ mask ]) earnings_df = pd . concat ( earnings_data ) # Backtest straddles results = op . long_straddles ( earnings_df , max_entry_dte = 7 , # Enter 1 week before exit_dte = 0 , # Hold through earnings max_otm_pct = 0.05 # ATM straddles ) print ( results ) Time Decay Analysis \u00b6 Compare different exit times for short strangles: exit_times = [ 0 , 7 , 14 , 21 , 30 ] results_by_exit = {} for exit_dte in exit_times : results = op . short_strangles ( data , max_entry_dte = 45 , exit_dte = exit_dte , max_otm_pct = 0.30 ) results_by_exit [ exit_dte ] = results [ 'mean' ] . mean () # Plot results import matplotlib.pyplot as plt plt . bar ( exit_times , results_by_exit . values ()) plt . xlabel ( 'Exit DTE' ) plt . ylabel ( 'Mean Return' ) plt . title ( 'Short Strangle Returns by Exit Time' ) plt . show () Slippage Comparison \u00b6 Compare different slippage models: slippage_modes = [ 'mid' , 'spread' , 'liquidity' ] results_comparison = {} for mode in slippage_modes : results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , slippage = mode , fill_ratio = 0.5 , reference_volume = 1000 ) results_comparison [ mode ] = results [ 'mean' ] . mean () print ( \"Slippage Model Comparison:\" ) for mode , avg_return in results_comparison . items (): print ( f \" { mode } : { avg_return : .2% } \" ) Data Analysis Examples \u00b6 Raw Trade Data Analysis \u00b6 Get individual trades for custom analysis: # Get raw trade data trades = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , raw = True # Return individual trades ) # Custom analysis import pandas as pd # Win rate win_rate = ( trades [ 'pct_change' ] > 0 ) . mean () print ( f \"Win Rate: { win_rate : .1% } \" ) # Average winner vs loser avg_winner = trades [ trades [ 'pct_change' ] > 0 ][ 'pct_change' ] . mean () avg_loser = trades [ trades [ 'pct_change' ] < 0 ][ 'pct_change' ] . mean () print ( f \"Avg Winner: { avg_winner : .2% } \" ) print ( f \"Avg Loser: { avg_loser : .2% } \" ) # Profit factor total_profit = trades [ trades [ 'pct_change' ] > 0 ][ 'pct_change' ] . sum () total_loss = abs ( trades [ trades [ 'pct_change' ] < 0 ][ 'pct_change' ] . sum ()) profit_factor = total_profit / total_loss if total_loss > 0 else float ( 'inf' ) print ( f \"Profit Factor: { profit_factor : .2f } \" ) Monthly Performance \u00b6 Analyze strategy performance by month: trades = op . short_puts ( data , raw = True ) # Convert to datetime trades [ 'entry_date' ] = pd . to_datetime ( trades [ 'quote_date' ]) trades [ 'month' ] = trades [ 'entry_date' ] . dt . to_period ( 'M' ) # Group by month monthly_perf = trades . groupby ( 'month' ) . agg ({ 'pct_change' : [ 'count' , 'mean' , 'std' , 'sum' ] }) print ( monthly_perf ) Strike Selection Analysis \u00b6 Analyze performance by OTM percentage: results = op . short_puts ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.50 , otm_pct_interval = 0.05 ) # Find optimal OTM range optimal = results . loc [ results [ 'mean' ] . idxmax ()] print ( f \"Optimal OTM Range: { optimal [ 'otm_pct_range' ] } \" ) print ( f \"Mean Return: { optimal [ 'mean' ] : .2% } \" ) print ( f \"Count: { optimal [ 'count' ] : .0f } \" ) Multi-Strategy Comparison \u00b6 Compare multiple strategies: strategies = { 'Long Calls' : op . long_calls , 'Short Puts' : op . short_puts , 'Iron Condor' : op . iron_condor , 'Long Straddle' : op . long_straddles } comparison = {} for name , strategy_func in strategies . items (): results = strategy_func ( data , max_entry_dte = 45 , exit_dte = 21 ) comparison [ name ] = { 'mean' : results [ 'mean' ] . mean (), 'std' : results [ 'std' ] . mean (), 'max' : results [ 'max' ] . max (), 'min' : results [ 'min' ] . min () } # Display comparison df_comparison = pd . DataFrame ( comparison ) . T print ( df_comparison ) Portfolio Simulation \u00b6 Simulate a portfolio of multiple strategies: # Define portfolio allocation portfolio = { 'iron_condor' : 0.50 , 'short_strangles' : 0.30 , 'long_call_spread' : 0.20 } # Get raw trades for each strategy trades = {} trades [ 'iron_condor' ] = op . iron_condor ( data , raw = True ) trades [ 'short_strangles' ] = op . short_strangles ( data , raw = True ) trades [ 'long_call_spread' ] = op . long_call_spread ( data , raw = True ) # Weight returns by allocation for strategy , weight in portfolio . items (): trades [ strategy ][ 'weighted_return' ] = trades [ strategy ][ 'pct_change' ] * weight # Combine all trades all_trades = pd . concat ([ trades [ s ][[ 'quote_date' , 'weighted_return' ]] for s in portfolio . keys () ]) # Aggregate by date portfolio_returns = all_trades . groupby ( 'quote_date' )[ 'weighted_return' ] . sum () print ( f \"Portfolio Mean Return: { portfolio_returns . mean () : .2% } \" ) print ( f \"Portfolio Std Dev: { portfolio_returns . std () : .2% } \" ) print ( f \"Sharpe Ratio (annualized): { ( portfolio_returns . mean () / portfolio_returns . std ()) * ( 252 ** 0.5 ) : .2f } \" ) Performance Metrics \u00b6 Calculate comprehensive performance statistics: def calculate_metrics ( trades_df ): \"\"\"Calculate performance metrics for a strategy.\"\"\" returns = trades_df [ 'pct_change' ] metrics = { 'Total Trades' : len ( returns ), 'Win Rate' : ( returns > 0 ) . mean (), 'Mean Return' : returns . mean (), 'Median Return' : returns . median (), 'Std Dev' : returns . std (), 'Max Win' : returns . max (), 'Max Loss' : returns . min (), 'Profit Factor' : returns [ returns > 0 ] . sum () / abs ( returns [ returns < 0 ] . sum ()), 'Sharpe Ratio' : returns . mean () / returns . std () if returns . std () > 0 else 0 } return pd . Series ( metrics ) # Apply to strategy trades = op . iron_condor ( data , raw = True ) metrics = calculate_metrics ( trades ) print ( metrics ) Working with Different Data Sources \u00b6 Historical Options Data Providers \u00b6 # Example: Loading from different CSV formats # Format 1: CBOE data export data = op . csv_data ( 'cboe_spx.csv' , underlying_symbol = 'underlying_symbol' , underlying_price = 'underlying_bid_1545' , option_type = 'option_type' , expiration = 'expiration' , quote_date = 'quote_date' , strike = 'strike' , bid = 'bid' , ask = 'ask' ) # Format 2: Indexed columns data = op . csv_data ( 'provider_data.csv' , underlying_symbol = 0 , underlying_price = 1 , option_type = 2 , expiration = 3 , quote_date = 4 , strike = 5 , bid = 6 , ask = 7 ) Best Practices \u00b6 1. Always Use Filters \u00b6 # Bad: No filtering results = op . iron_condor ( data ) # Good: Filtered for quality results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , min_bid_ask = 0.10 , # Ensure liquidity max_otm_pct = 0.30 ) 2. Compare Apples to Apples \u00b6 # Use same parameters when comparing strategies params = { 'max_entry_dte' : 45 , 'exit_dte' : 21 , 'max_otm_pct' : 0.25 } ic_results = op . iron_condor ( data , ** params ) strangle_results = op . short_strangles ( data , ** params ) 3. Realistic Slippage \u00b6 # Use liquidity mode for realistic results results = op . iron_condor ( data , slippage = 'liquidity' , fill_ratio = 0.5 , reference_volume = 1000 ) Next Steps \u00b6 Review Strategy documentation for specific strategy details Check Parameters for all configuration options See API Reference for function signatures Explore the samples/ directory in the repository for more examples","title":"Examples"},{"location":"examples/#examples","text":"This page provides real-world examples of using Optopsy for options backtesting.","title":"Examples"},{"location":"examples/#basic-examples","text":"","title":"Basic Examples"},{"location":"examples/#simple-long-calls-backtest","text":"import optopsy as op # Load data data = op . csv_data ( 'SPX_2023.csv' ) # Backtest long calls results = op . long_calls ( data ) print ( results . head ())","title":"Simple Long Calls Backtest"},{"location":"examples/#iron-condor-with-custom-parameters","text":"results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 , min_bid_ask = 0.10 ) # Filter for best performing DTE ranges best_dte = results [ results [ 'mean' ] > 0.20 ] print ( best_dte )","title":"Iron Condor with Custom Parameters"},{"location":"examples/#advanced-examples","text":"","title":"Advanced Examples"},{"location":"examples/#delta-neutral-iron-condors","text":"Target specific delta ranges for short strikes: results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , delta_min = 0.15 , # Target 15-20 delta delta_max = 0.20 , delta_interval = 0.05 , min_bid_ask = 0.10 ) # Analyze by delta ranges print ( results . groupby ( 'delta_range' )[ 'mean' ] . describe ())","title":"Delta-Neutral Iron Condors"},{"location":"examples/#earnings-straddle-strategy","text":"Backtest long straddles around earnings events: # Load earnings dates earnings_dates = [ '2023-01-15' , '2023-04-15' , '2023-07-15' , '2023-10-15' ] # Filter data around earnings (\u00b17 days) import pandas as pd data [ 'quote_date' ] = pd . to_datetime ( data [ 'quote_date' ]) earnings_data = [] for date in pd . to_datetime ( earnings_dates ): mask = ( data [ 'quote_date' ] >= date - pd . Timedelta ( days = 7 )) & \\ ( data [ 'quote_date' ] <= date + pd . Timedelta ( days = 7 )) earnings_data . append ( data [ mask ]) earnings_df = pd . concat ( earnings_data ) # Backtest straddles results = op . long_straddles ( earnings_df , max_entry_dte = 7 , # Enter 1 week before exit_dte = 0 , # Hold through earnings max_otm_pct = 0.05 # ATM straddles ) print ( results )","title":"Earnings Straddle Strategy"},{"location":"examples/#time-decay-analysis","text":"Compare different exit times for short strangles: exit_times = [ 0 , 7 , 14 , 21 , 30 ] results_by_exit = {} for exit_dte in exit_times : results = op . short_strangles ( data , max_entry_dte = 45 , exit_dte = exit_dte , max_otm_pct = 0.30 ) results_by_exit [ exit_dte ] = results [ 'mean' ] . mean () # Plot results import matplotlib.pyplot as plt plt . bar ( exit_times , results_by_exit . values ()) plt . xlabel ( 'Exit DTE' ) plt . ylabel ( 'Mean Return' ) plt . title ( 'Short Strangle Returns by Exit Time' ) plt . show ()","title":"Time Decay Analysis"},{"location":"examples/#slippage-comparison","text":"Compare different slippage models: slippage_modes = [ 'mid' , 'spread' , 'liquidity' ] results_comparison = {} for mode in slippage_modes : results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , slippage = mode , fill_ratio = 0.5 , reference_volume = 1000 ) results_comparison [ mode ] = results [ 'mean' ] . mean () print ( \"Slippage Model Comparison:\" ) for mode , avg_return in results_comparison . items (): print ( f \" { mode } : { avg_return : .2% } \" )","title":"Slippage Comparison"},{"location":"examples/#data-analysis-examples","text":"","title":"Data Analysis Examples"},{"location":"examples/#raw-trade-data-analysis","text":"Get individual trades for custom analysis: # Get raw trade data trades = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , raw = True # Return individual trades ) # Custom analysis import pandas as pd # Win rate win_rate = ( trades [ 'pct_change' ] > 0 ) . mean () print ( f \"Win Rate: { win_rate : .1% } \" ) # Average winner vs loser avg_winner = trades [ trades [ 'pct_change' ] > 0 ][ 'pct_change' ] . mean () avg_loser = trades [ trades [ 'pct_change' ] < 0 ][ 'pct_change' ] . mean () print ( f \"Avg Winner: { avg_winner : .2% } \" ) print ( f \"Avg Loser: { avg_loser : .2% } \" ) # Profit factor total_profit = trades [ trades [ 'pct_change' ] > 0 ][ 'pct_change' ] . sum () total_loss = abs ( trades [ trades [ 'pct_change' ] < 0 ][ 'pct_change' ] . sum ()) profit_factor = total_profit / total_loss if total_loss > 0 else float ( 'inf' ) print ( f \"Profit Factor: { profit_factor : .2f } \" )","title":"Raw Trade Data Analysis"},{"location":"examples/#monthly-performance","text":"Analyze strategy performance by month: trades = op . short_puts ( data , raw = True ) # Convert to datetime trades [ 'entry_date' ] = pd . to_datetime ( trades [ 'quote_date' ]) trades [ 'month' ] = trades [ 'entry_date' ] . dt . to_period ( 'M' ) # Group by month monthly_perf = trades . groupby ( 'month' ) . agg ({ 'pct_change' : [ 'count' , 'mean' , 'std' , 'sum' ] }) print ( monthly_perf )","title":"Monthly Performance"},{"location":"examples/#strike-selection-analysis","text":"Analyze performance by OTM percentage: results = op . short_puts ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.50 , otm_pct_interval = 0.05 ) # Find optimal OTM range optimal = results . loc [ results [ 'mean' ] . idxmax ()] print ( f \"Optimal OTM Range: { optimal [ 'otm_pct_range' ] } \" ) print ( f \"Mean Return: { optimal [ 'mean' ] : .2% } \" ) print ( f \"Count: { optimal [ 'count' ] : .0f } \" )","title":"Strike Selection Analysis"},{"location":"examples/#multi-strategy-comparison","text":"Compare multiple strategies: strategies = { 'Long Calls' : op . long_calls , 'Short Puts' : op . short_puts , 'Iron Condor' : op . iron_condor , 'Long Straddle' : op . long_straddles } comparison = {} for name , strategy_func in strategies . items (): results = strategy_func ( data , max_entry_dte = 45 , exit_dte = 21 ) comparison [ name ] = { 'mean' : results [ 'mean' ] . mean (), 'std' : results [ 'std' ] . mean (), 'max' : results [ 'max' ] . max (), 'min' : results [ 'min' ] . min () } # Display comparison df_comparison = pd . DataFrame ( comparison ) . T print ( df_comparison )","title":"Multi-Strategy Comparison"},{"location":"examples/#portfolio-simulation","text":"Simulate a portfolio of multiple strategies: # Define portfolio allocation portfolio = { 'iron_condor' : 0.50 , 'short_strangles' : 0.30 , 'long_call_spread' : 0.20 } # Get raw trades for each strategy trades = {} trades [ 'iron_condor' ] = op . iron_condor ( data , raw = True ) trades [ 'short_strangles' ] = op . short_strangles ( data , raw = True ) trades [ 'long_call_spread' ] = op . long_call_spread ( data , raw = True ) # Weight returns by allocation for strategy , weight in portfolio . items (): trades [ strategy ][ 'weighted_return' ] = trades [ strategy ][ 'pct_change' ] * weight # Combine all trades all_trades = pd . concat ([ trades [ s ][[ 'quote_date' , 'weighted_return' ]] for s in portfolio . keys () ]) # Aggregate by date portfolio_returns = all_trades . groupby ( 'quote_date' )[ 'weighted_return' ] . sum () print ( f \"Portfolio Mean Return: { portfolio_returns . mean () : .2% } \" ) print ( f \"Portfolio Std Dev: { portfolio_returns . std () : .2% } \" ) print ( f \"Sharpe Ratio (annualized): { ( portfolio_returns . mean () / portfolio_returns . std ()) * ( 252 ** 0.5 ) : .2f } \" )","title":"Portfolio Simulation"},{"location":"examples/#performance-metrics","text":"Calculate comprehensive performance statistics: def calculate_metrics ( trades_df ): \"\"\"Calculate performance metrics for a strategy.\"\"\" returns = trades_df [ 'pct_change' ] metrics = { 'Total Trades' : len ( returns ), 'Win Rate' : ( returns > 0 ) . mean (), 'Mean Return' : returns . mean (), 'Median Return' : returns . median (), 'Std Dev' : returns . std (), 'Max Win' : returns . max (), 'Max Loss' : returns . min (), 'Profit Factor' : returns [ returns > 0 ] . sum () / abs ( returns [ returns < 0 ] . sum ()), 'Sharpe Ratio' : returns . mean () / returns . std () if returns . std () > 0 else 0 } return pd . Series ( metrics ) # Apply to strategy trades = op . iron_condor ( data , raw = True ) metrics = calculate_metrics ( trades ) print ( metrics )","title":"Performance Metrics"},{"location":"examples/#working-with-different-data-sources","text":"","title":"Working with Different Data Sources"},{"location":"examples/#historical-options-data-providers","text":"# Example: Loading from different CSV formats # Format 1: CBOE data export data = op . csv_data ( 'cboe_spx.csv' , underlying_symbol = 'underlying_symbol' , underlying_price = 'underlying_bid_1545' , option_type = 'option_type' , expiration = 'expiration' , quote_date = 'quote_date' , strike = 'strike' , bid = 'bid' , ask = 'ask' ) # Format 2: Indexed columns data = op . csv_data ( 'provider_data.csv' , underlying_symbol = 0 , underlying_price = 1 , option_type = 2 , expiration = 3 , quote_date = 4 , strike = 5 , bid = 6 , ask = 7 )","title":"Historical Options Data Providers"},{"location":"examples/#best-practices","text":"","title":"Best Practices"},{"location":"examples/#1-always-use-filters","text":"# Bad: No filtering results = op . iron_condor ( data ) # Good: Filtered for quality results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , min_bid_ask = 0.10 , # Ensure liquidity max_otm_pct = 0.30 )","title":"1. Always Use Filters"},{"location":"examples/#2-compare-apples-to-apples","text":"# Use same parameters when comparing strategies params = { 'max_entry_dte' : 45 , 'exit_dte' : 21 , 'max_otm_pct' : 0.25 } ic_results = op . iron_condor ( data , ** params ) strangle_results = op . short_strangles ( data , ** params )","title":"2. Compare Apples to Apples"},{"location":"examples/#3-realistic-slippage","text":"# Use liquidity mode for realistic results results = op . iron_condor ( data , slippage = 'liquidity' , fill_ratio = 0.5 , reference_volume = 1000 )","title":"3. Realistic Slippage"},{"location":"examples/#next-steps","text":"Review Strategy documentation for specific strategy details Check Parameters for all configuration options See API Reference for function signatures Explore the samples/ directory in the repository for more examples","title":"Next Steps"},{"location":"getting-started/","text":"Getting Started \u00b6 This guide will walk you through setting up Optopsy and running your first backtest. Installation \u00b6 Install Optopsy using pip: pip install optopsy Requirements \u00b6 Python 3.8 or higher Pandas 2.0 or higher NumPy 1.26 or higher Data Format \u00b6 Optopsy requires historical options chain data with the following columns: Column Description Example underlying_symbol Ticker symbol SPX, SPY, QQQ underlying_price Stock/index price 4500.00 option_type Call or Put 'c', 'p', 'call', 'put' expiration Option expiration date 2023-01-20 quote_date Date of the quote 2023-01-01 strike Strike price 4500 bid Bid price 10.50 ask Ask price 11.00 Optional Columns for Greeks Filtering \u00b6 Column Description delta Option delta gamma Option gamma theta Option theta vega Option vega volume Trading volume open_interest Open interest Loading Data \u00b6 From CSV \u00b6 Use csv_data() to load options data from a CSV file: import optopsy as op data = op . csv_data ( 'options_data.csv' , underlying_symbol = 0 , # Column index or name underlying_price = 1 , option_type = 2 , expiration = 3 , quote_date = 4 , strike = 5 , bid = 6 , ask = 7 ) The function accepts either: - Column indices (integers): Position of each column - Column names (strings): Header names from your CSV From DataFrame \u00b6 If you already have a pandas DataFrame, ensure it has the required columns: import pandas as pd import optopsy as op # Your existing DataFrame df = pd . read_csv ( 'options_data.csv' ) # Rename columns to match Optopsy's expected format df = df . rename ( columns = { 'Symbol' : 'underlying_symbol' , 'UnderlyingPrice' : 'underlying_price' , 'Type' : 'option_type' , 'Expiration' : 'expiration' , 'QuoteDate' : 'quote_date' , 'Strike' : 'strike' , 'Bid' : 'bid' , 'Ask' : 'ask' }) # Now you can use it directly results = op . long_calls ( df ) Running Your First Backtest \u00b6 Example: Long Calls \u00b6 Let's backtest a simple long call strategy: import optopsy as op # Load data data = op . csv_data ( 'SPX_2023.csv' ) # Run backtest with default parameters results = op . long_calls ( data ) print ( results ) Example with Custom Parameters \u00b6 Customize the backtest parameters: results = op . long_calls ( data , max_entry_dte = 60 , # Enter with 60 days to expiration exit_dte = 30 , # Exit at 30 DTE dte_interval = 7 , # Group results by 7-day intervals max_otm_pct = 0.20 , # Maximum 20% out-of-the-money otm_pct_interval = 0.05 , # Group by 5% OTM intervals min_bid_ask = 0.10 # Minimum $0.10 bid-ask spread ) print ( results . head ()) Understanding the Output \u00b6 Aggregated Results (Default) \u00b6 By default, strategies return aggregated statistics grouped by DTE and OTM% ranges: results = op . long_calls ( data ) print ( results . columns ) # ['dte_range', 'otm_pct_range', 'count', 'mean', 'std', 'min', '25%', '50%', '75%', 'max'] Example output: dte_range otm_pct_range count mean std min 50% max (0, 7] (0.0, 0.05] 1250 0.23 0.45 -1.0 0.15 2.8 (0, 7] (0.05, 0.10] 980 0.18 0.52 -1.0 0.10 3.2 Raw Trade Data \u00b6 Get individual trade details by setting raw=True : results = op . long_calls ( data , raw = True ) print ( results . columns ) # ['underlying_symbol', 'expiration', 'dte_entry', 'strike', 'entry', 'exit', 'pct_change', ...] This gives you every individual trade for custom analysis. Next Steps \u00b6 Explore all 28 strategies Learn about strategy parameters See more examples with Greeks filtering and slippage Read the API Reference for detailed function documentation Common Issues \u00b6 Date Format Errors \u00b6 If you encounter date parsing errors, ensure your dates are in a standard format: - ISO format: 2023-01-20 - US format: 01/20/2023 - European format: 20/01/2023 The csv_data() function will attempt to auto-detect date formats. Missing Columns \u00b6 If you see a \"KeyError\" for a column, check that: 1. The column exists in your data 2. You've specified the correct column index or name in csv_data() 3. Column names match exactly (case-sensitive) Empty Results \u00b6 If your backtest returns no results: - Check your parameter ranges (DTE, OTM%, etc.) - Verify your data covers the time period you're testing - Ensure bid/ask spreads meet the min_bid_ask threshold","title":"Getting Started"},{"location":"getting-started/#getting-started","text":"This guide will walk you through setting up Optopsy and running your first backtest.","title":"Getting Started"},{"location":"getting-started/#installation","text":"Install Optopsy using pip: pip install optopsy","title":"Installation"},{"location":"getting-started/#requirements","text":"Python 3.8 or higher Pandas 2.0 or higher NumPy 1.26 or higher","title":"Requirements"},{"location":"getting-started/#data-format","text":"Optopsy requires historical options chain data with the following columns: Column Description Example underlying_symbol Ticker symbol SPX, SPY, QQQ underlying_price Stock/index price 4500.00 option_type Call or Put 'c', 'p', 'call', 'put' expiration Option expiration date 2023-01-20 quote_date Date of the quote 2023-01-01 strike Strike price 4500 bid Bid price 10.50 ask Ask price 11.00","title":"Data Format"},{"location":"getting-started/#optional-columns-for-greeks-filtering","text":"Column Description delta Option delta gamma Option gamma theta Option theta vega Option vega volume Trading volume open_interest Open interest","title":"Optional Columns for Greeks Filtering"},{"location":"getting-started/#loading-data","text":"","title":"Loading Data"},{"location":"getting-started/#from-csv","text":"Use csv_data() to load options data from a CSV file: import optopsy as op data = op . csv_data ( 'options_data.csv' , underlying_symbol = 0 , # Column index or name underlying_price = 1 , option_type = 2 , expiration = 3 , quote_date = 4 , strike = 5 , bid = 6 , ask = 7 ) The function accepts either: - Column indices (integers): Position of each column - Column names (strings): Header names from your CSV","title":"From CSV"},{"location":"getting-started/#from-dataframe","text":"If you already have a pandas DataFrame, ensure it has the required columns: import pandas as pd import optopsy as op # Your existing DataFrame df = pd . read_csv ( 'options_data.csv' ) # Rename columns to match Optopsy's expected format df = df . rename ( columns = { 'Symbol' : 'underlying_symbol' , 'UnderlyingPrice' : 'underlying_price' , 'Type' : 'option_type' , 'Expiration' : 'expiration' , 'QuoteDate' : 'quote_date' , 'Strike' : 'strike' , 'Bid' : 'bid' , 'Ask' : 'ask' }) # Now you can use it directly results = op . long_calls ( df )","title":"From DataFrame"},{"location":"getting-started/#running-your-first-backtest","text":"","title":"Running Your First Backtest"},{"location":"getting-started/#example-long-calls","text":"Let's backtest a simple long call strategy: import optopsy as op # Load data data = op . csv_data ( 'SPX_2023.csv' ) # Run backtest with default parameters results = op . long_calls ( data ) print ( results )","title":"Example: Long Calls"},{"location":"getting-started/#example-with-custom-parameters","text":"Customize the backtest parameters: results = op . long_calls ( data , max_entry_dte = 60 , # Enter with 60 days to expiration exit_dte = 30 , # Exit at 30 DTE dte_interval = 7 , # Group results by 7-day intervals max_otm_pct = 0.20 , # Maximum 20% out-of-the-money otm_pct_interval = 0.05 , # Group by 5% OTM intervals min_bid_ask = 0.10 # Minimum $0.10 bid-ask spread ) print ( results . head ())","title":"Example with Custom Parameters"},{"location":"getting-started/#understanding-the-output","text":"","title":"Understanding the Output"},{"location":"getting-started/#aggregated-results-default","text":"By default, strategies return aggregated statistics grouped by DTE and OTM% ranges: results = op . long_calls ( data ) print ( results . columns ) # ['dte_range', 'otm_pct_range', 'count', 'mean', 'std', 'min', '25%', '50%', '75%', 'max'] Example output: dte_range otm_pct_range count mean std min 50% max (0, 7] (0.0, 0.05] 1250 0.23 0.45 -1.0 0.15 2.8 (0, 7] (0.05, 0.10] 980 0.18 0.52 -1.0 0.10 3.2","title":"Aggregated Results (Default)"},{"location":"getting-started/#raw-trade-data","text":"Get individual trade details by setting raw=True : results = op . long_calls ( data , raw = True ) print ( results . columns ) # ['underlying_symbol', 'expiration', 'dte_entry', 'strike', 'entry', 'exit', 'pct_change', ...] This gives you every individual trade for custom analysis.","title":"Raw Trade Data"},{"location":"getting-started/#next-steps","text":"Explore all 28 strategies Learn about strategy parameters See more examples with Greeks filtering and slippage Read the API Reference for detailed function documentation","title":"Next Steps"},{"location":"getting-started/#common-issues","text":"","title":"Common Issues"},{"location":"getting-started/#date-format-errors","text":"If you encounter date parsing errors, ensure your dates are in a standard format: - ISO format: 2023-01-20 - US format: 01/20/2023 - European format: 20/01/2023 The csv_data() function will attempt to auto-detect date formats.","title":"Date Format Errors"},{"location":"getting-started/#missing-columns","text":"If you see a \"KeyError\" for a column, check that: 1. The column exists in your data 2. You've specified the correct column index or name in csv_data() 3. Column names match exactly (case-sensitive)","title":"Missing Columns"},{"location":"getting-started/#empty-results","text":"If your backtest returns no results: - Check your parameter ranges (DTE, OTM%, etc.) - Verify your data covers the time period you're testing - Ensure bid/ask spreads meet the min_bid_ask threshold","title":"Empty Results"},{"location":"parameters/","text":"Strategy Parameters \u00b6 All Optopsy strategies accept a common set of parameters for filtering, grouping, and output formatting. This guide covers all available parameters and their usage. Core Parameters \u00b6 Entry and Exit Timing \u00b6 max_entry_dte \u00b6 Type: int | Default: 90 Maximum days to expiration at strategy entry. results = op . iron_condor ( data , max_entry_dte = 45 ) # Enter at 45 DTE or less Use Cases: - max_entry_dte=30 - Short-term trades - max_entry_dte=60 - Medium-term trades - max_entry_dte=90 - Longer-term positions exit_dte \u00b6 Type: int | Default: 0 Days to expiration when the strategy exits. Use 0 to hold until expiration. results = op . long_calls ( data , max_entry_dte = 60 , exit_dte = 30 ) # Exit at 30 DTE Use Cases: - exit_dte=0 - Hold to expiration - exit_dte=21 - Exit 3 weeks before expiration - exit_dte=7 - Exit 1 week before expiration Filtering Parameters \u00b6 max_otm_pct \u00b6 Type: float | Default: 0.5 Maximum out-of-the-money percentage for option selection. results = op . short_puts ( data , max_otm_pct = 0.20 ) # Max 20% OTM Examples: - 0.05 - Near ATM options (5% OTM max) - 0.20 - Moderately OTM (20% OTM max) - 0.50 - Wide range (50% OTM max) Calculation: # For calls: (strike - underlying_price) / underlying_price # For puts: (underlying_price - strike) / underlying_price min_bid_ask \u00b6 Type: float | Default: 0.05 Minimum bid-ask spread required for option liquidity. results = op . iron_condor ( data , min_bid_ask = 0.10 ) # Require $0.10+ spread Use Cases: - 0.05 - Less liquid underlyings - 0.10 - Standard liquidity requirement - 0.20 - High liquidity requirement (SPX, SPY) Grouping and Aggregation \u00b6 dte_interval \u00b6 Type: int | Default: 7 Interval for grouping results by DTE ranges. results = op . long_calls ( data , dte_interval = 14 ) # Group by 14-day buckets Examples: - 7 - Weekly groupings: (0,7], (7,14], (14,21], ... - 14 - Bi-weekly groupings: (0,14], (14,28], ... - 30 - Monthly groupings: (0,30], (30,60], ... otm_pct_interval \u00b6 Type: float | Default: 0.05 Interval for grouping results by OTM percentage ranges. results = op . short_strangles ( data , otm_pct_interval = 0.10 ) # 10% OTM buckets Examples: - 0.05 - Fine-grained: (0.0, 0.05], (0.05, 0.10], ... - 0.10 - Coarse buckets: (0.0, 0.10], (0.10, 0.20], ... Output Control \u00b6 raw \u00b6 Type: bool | Default: False Return raw trade data instead of aggregated statistics. # Aggregated statistics (default) results = op . iron_condor ( data , raw = False ) # Output: ['dte_range', 'otm_pct_range', 'count', 'mean', 'std', ...] # Raw trade data trades = op . iron_condor ( data , raw = True ) # Output: ['expiration', 'strike_leg1', 'strike_leg2', 'entry', 'exit', 'pct_change', ...] Use Cases: - raw=False - Performance statistics, backtesting results - raw=True - Custom analysis, detailed inspection, debugging drop_nan \u00b6 Type: bool | Default: True Drop rows with NaN values in the results. results = op . long_calls ( data , drop_nan = False ) # Keep NaN values Greeks Parameters \u00b6 Delta Filtering \u00b6 delta_min / delta_max \u00b6 Type: float | Default: None Filter options by delta range. # Target 30-delta options results = op . short_puts ( data , delta_min = 0.25 , delta_max = 0.35 ) Common Delta Ranges: - 0.15-0.20 - 1 standard deviation OTM (~15-20% probability ITM) - 0.25-0.35 - Popular for credit spreads - 0.40-0.50 - Near-the-money options - 0.50+ - In-the-money options Note: Requires delta column in your data. delta_interval \u00b6 Type: float | Default: None Group results by delta ranges. results = op . iron_condor ( data , delta_interval = 0.10 # Group by: (0.0,0.1], (0.1,0.2], etc. ) Slippage Parameters \u00b6 slippage \u00b6 Type: str | Default: 'mid' Slippage model for fill price calculation. results = op . long_calls ( data , slippage = 'liquidity' ) Options: Mode Description Buy Fill Sell Fill Best For 'mid' Mid-price between bid/ask (bid+ask)/2 (bid+ask)/2 Ideal/optimistic 'spread' Worst-case spread Ask Bid Conservative 'liquidity' Volume-based dynamic Dynamic Dynamic Realistic fill_ratio (Liquidity Mode Only) \u00b6 Type: float | Default: 0.5 Base fill ratio for liquidity-based slippage (0.0 = bid/ask, 1.0 = ask/bid). results = op . iron_condor ( data , slippage = 'liquidity' , fill_ratio = 0.3 # More conservative fill (30% through spread) ) Examples: - 0.0 - Worst case (buy at ask, sell at bid) - 0.5 - Mid-point (default) - 1.0 - Best case (buy at bid, sell at ask - unrealistic) reference_volume (Liquidity Mode Only) \u00b6 Type: int | Default: 1000 Volume threshold for determining liquid options in liquidity mode. results = op . short_strangles ( data , slippage = 'liquidity' , reference_volume = 5000 # Higher threshold for SPX ) Guidelines: - 500-1000 - Less liquid underlyings - 1000-2000 - Standard liquidity (default) - 5000+ - Highly liquid (SPX, SPY, QQQ) Note: Requires volume or open_interest column in your data. Calendar & Diagonal Parameters \u00b6 Calendar and diagonal spreads use different timing parameters: front_dte_min / front_dte_max \u00b6 Type: int | Default: 20 / 40 DTE range for the front-month leg. results = op . long_call_calendar ( data , front_dte_min = 25 , front_dte_max = 35 # Front leg between 25-35 DTE ) back_dte_min / back_dte_max \u00b6 Type: int | Default: 50 / 90 DTE range for the back-month leg. results = op . long_call_diagonal ( data , back_dte_min = 60 , back_dte_max = 120 # Back leg between 60-120 DTE ) Complete Example \u00b6 Combining multiple parameters: import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) results = op . iron_condor ( data , # Timing max_entry_dte = 45 , exit_dte = 21 , # Filtering max_otm_pct = 0.30 , min_bid_ask = 0.15 , delta_min = 0.15 , delta_max = 0.20 , # Grouping dte_interval = 7 , otm_pct_interval = 0.05 , delta_interval = 0.05 , # Slippage slippage = 'liquidity' , fill_ratio = 0.5 , reference_volume = 5000 , # Output raw = False , drop_nan = True ) print ( results . head ()) Default Values Reference \u00b6 Standard Strategies \u00b6 default_kwargs = { \"dte_interval\" : 7 , \"max_entry_dte\" : 90 , \"exit_dte\" : 0 , \"otm_pct_interval\" : 0.05 , \"max_otm_pct\" : 0.5 , \"min_bid_ask\" : 0.05 , \"drop_nan\" : True , \"raw\" : False , \"delta_min\" : None , \"delta_max\" : None , \"delta_interval\" : None , \"slippage\" : \"mid\" , \"fill_ratio\" : 0.5 , \"reference_volume\" : 1000 , } Calendar & Diagonal Strategies \u00b6 calendar_default_kwargs = { \"front_dte_min\" : 20 , \"front_dte_max\" : 40 , \"back_dte_min\" : 50 , \"back_dte_max\" : 90 , \"exit_dte\" : 7 , \"dte_interval\" : 7 , \"otm_pct_interval\" : 0.05 , \"max_otm_pct\" : 0.5 , \"min_bid_ask\" : 0.05 , \"drop_nan\" : True , \"raw\" : False , \"slippage\" : \"mid\" , \"fill_ratio\" : 0.5 , \"reference_volume\" : 1000 , } Next Steps \u00b6 See Examples for real-world parameter usage Explore Strategies to understand strategy-specific considerations Review API Reference for function signatures","title":"Parameters"},{"location":"parameters/#strategy-parameters","text":"All Optopsy strategies accept a common set of parameters for filtering, grouping, and output formatting. This guide covers all available parameters and their usage.","title":"Strategy Parameters"},{"location":"parameters/#core-parameters","text":"","title":"Core Parameters"},{"location":"parameters/#entry-and-exit-timing","text":"","title":"Entry and Exit Timing"},{"location":"parameters/#max_entry_dte","text":"Type: int | Default: 90 Maximum days to expiration at strategy entry. results = op . iron_condor ( data , max_entry_dte = 45 ) # Enter at 45 DTE or less Use Cases: - max_entry_dte=30 - Short-term trades - max_entry_dte=60 - Medium-term trades - max_entry_dte=90 - Longer-term positions","title":"max_entry_dte"},{"location":"parameters/#exit_dte","text":"Type: int | Default: 0 Days to expiration when the strategy exits. Use 0 to hold until expiration. results = op . long_calls ( data , max_entry_dte = 60 , exit_dte = 30 ) # Exit at 30 DTE Use Cases: - exit_dte=0 - Hold to expiration - exit_dte=21 - Exit 3 weeks before expiration - exit_dte=7 - Exit 1 week before expiration","title":"exit_dte"},{"location":"parameters/#filtering-parameters","text":"","title":"Filtering Parameters"},{"location":"parameters/#max_otm_pct","text":"Type: float | Default: 0.5 Maximum out-of-the-money percentage for option selection. results = op . short_puts ( data , max_otm_pct = 0.20 ) # Max 20% OTM Examples: - 0.05 - Near ATM options (5% OTM max) - 0.20 - Moderately OTM (20% OTM max) - 0.50 - Wide range (50% OTM max) Calculation: # For calls: (strike - underlying_price) / underlying_price # For puts: (underlying_price - strike) / underlying_price","title":"max_otm_pct"},{"location":"parameters/#min_bid_ask","text":"Type: float | Default: 0.05 Minimum bid-ask spread required for option liquidity. results = op . iron_condor ( data , min_bid_ask = 0.10 ) # Require $0.10+ spread Use Cases: - 0.05 - Less liquid underlyings - 0.10 - Standard liquidity requirement - 0.20 - High liquidity requirement (SPX, SPY)","title":"min_bid_ask"},{"location":"parameters/#grouping-and-aggregation","text":"","title":"Grouping and Aggregation"},{"location":"parameters/#dte_interval","text":"Type: int | Default: 7 Interval for grouping results by DTE ranges. results = op . long_calls ( data , dte_interval = 14 ) # Group by 14-day buckets Examples: - 7 - Weekly groupings: (0,7], (7,14], (14,21], ... - 14 - Bi-weekly groupings: (0,14], (14,28], ... - 30 - Monthly groupings: (0,30], (30,60], ...","title":"dte_interval"},{"location":"parameters/#otm_pct_interval","text":"Type: float | Default: 0.05 Interval for grouping results by OTM percentage ranges. results = op . short_strangles ( data , otm_pct_interval = 0.10 ) # 10% OTM buckets Examples: - 0.05 - Fine-grained: (0.0, 0.05], (0.05, 0.10], ... - 0.10 - Coarse buckets: (0.0, 0.10], (0.10, 0.20], ...","title":"otm_pct_interval"},{"location":"parameters/#output-control","text":"","title":"Output Control"},{"location":"parameters/#raw","text":"Type: bool | Default: False Return raw trade data instead of aggregated statistics. # Aggregated statistics (default) results = op . iron_condor ( data , raw = False ) # Output: ['dte_range', 'otm_pct_range', 'count', 'mean', 'std', ...] # Raw trade data trades = op . iron_condor ( data , raw = True ) # Output: ['expiration', 'strike_leg1', 'strike_leg2', 'entry', 'exit', 'pct_change', ...] Use Cases: - raw=False - Performance statistics, backtesting results - raw=True - Custom analysis, detailed inspection, debugging","title":"raw"},{"location":"parameters/#drop_nan","text":"Type: bool | Default: True Drop rows with NaN values in the results. results = op . long_calls ( data , drop_nan = False ) # Keep NaN values","title":"drop_nan"},{"location":"parameters/#greeks-parameters","text":"","title":"Greeks Parameters"},{"location":"parameters/#delta-filtering","text":"","title":"Delta Filtering"},{"location":"parameters/#delta_min-delta_max","text":"Type: float | Default: None Filter options by delta range. # Target 30-delta options results = op . short_puts ( data , delta_min = 0.25 , delta_max = 0.35 ) Common Delta Ranges: - 0.15-0.20 - 1 standard deviation OTM (~15-20% probability ITM) - 0.25-0.35 - Popular for credit spreads - 0.40-0.50 - Near-the-money options - 0.50+ - In-the-money options Note: Requires delta column in your data.","title":"delta_min / delta_max"},{"location":"parameters/#delta_interval","text":"Type: float | Default: None Group results by delta ranges. results = op . iron_condor ( data , delta_interval = 0.10 # Group by: (0.0,0.1], (0.1,0.2], etc. )","title":"delta_interval"},{"location":"parameters/#slippage-parameters","text":"","title":"Slippage Parameters"},{"location":"parameters/#slippage","text":"Type: str | Default: 'mid' Slippage model for fill price calculation. results = op . long_calls ( data , slippage = 'liquidity' ) Options: Mode Description Buy Fill Sell Fill Best For 'mid' Mid-price between bid/ask (bid+ask)/2 (bid+ask)/2 Ideal/optimistic 'spread' Worst-case spread Ask Bid Conservative 'liquidity' Volume-based dynamic Dynamic Dynamic Realistic","title":"slippage"},{"location":"parameters/#fill_ratio-liquidity-mode-only","text":"Type: float | Default: 0.5 Base fill ratio for liquidity-based slippage (0.0 = bid/ask, 1.0 = ask/bid). results = op . iron_condor ( data , slippage = 'liquidity' , fill_ratio = 0.3 # More conservative fill (30% through spread) ) Examples: - 0.0 - Worst case (buy at ask, sell at bid) - 0.5 - Mid-point (default) - 1.0 - Best case (buy at bid, sell at ask - unrealistic)","title":"fill_ratio (Liquidity Mode Only)"},{"location":"parameters/#reference_volume-liquidity-mode-only","text":"Type: int | Default: 1000 Volume threshold for determining liquid options in liquidity mode. results = op . short_strangles ( data , slippage = 'liquidity' , reference_volume = 5000 # Higher threshold for SPX ) Guidelines: - 500-1000 - Less liquid underlyings - 1000-2000 - Standard liquidity (default) - 5000+ - Highly liquid (SPX, SPY, QQQ) Note: Requires volume or open_interest column in your data.","title":"reference_volume (Liquidity Mode Only)"},{"location":"parameters/#calendar-diagonal-parameters","text":"Calendar and diagonal spreads use different timing parameters:","title":"Calendar &amp; Diagonal Parameters"},{"location":"parameters/#front_dte_min-front_dte_max","text":"Type: int | Default: 20 / 40 DTE range for the front-month leg. results = op . long_call_calendar ( data , front_dte_min = 25 , front_dte_max = 35 # Front leg between 25-35 DTE )","title":"front_dte_min / front_dte_max"},{"location":"parameters/#back_dte_min-back_dte_max","text":"Type: int | Default: 50 / 90 DTE range for the back-month leg. results = op . long_call_diagonal ( data , back_dte_min = 60 , back_dte_max = 120 # Back leg between 60-120 DTE )","title":"back_dte_min / back_dte_max"},{"location":"parameters/#complete-example","text":"Combining multiple parameters: import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) results = op . iron_condor ( data , # Timing max_entry_dte = 45 , exit_dte = 21 , # Filtering max_otm_pct = 0.30 , min_bid_ask = 0.15 , delta_min = 0.15 , delta_max = 0.20 , # Grouping dte_interval = 7 , otm_pct_interval = 0.05 , delta_interval = 0.05 , # Slippage slippage = 'liquidity' , fill_ratio = 0.5 , reference_volume = 5000 , # Output raw = False , drop_nan = True ) print ( results . head ())","title":"Complete Example"},{"location":"parameters/#default-values-reference","text":"","title":"Default Values Reference"},{"location":"parameters/#standard-strategies","text":"default_kwargs = { \"dte_interval\" : 7 , \"max_entry_dte\" : 90 , \"exit_dte\" : 0 , \"otm_pct_interval\" : 0.05 , \"max_otm_pct\" : 0.5 , \"min_bid_ask\" : 0.05 , \"drop_nan\" : True , \"raw\" : False , \"delta_min\" : None , \"delta_max\" : None , \"delta_interval\" : None , \"slippage\" : \"mid\" , \"fill_ratio\" : 0.5 , \"reference_volume\" : 1000 , }","title":"Standard Strategies"},{"location":"parameters/#calendar-diagonal-strategies","text":"calendar_default_kwargs = { \"front_dte_min\" : 20 , \"front_dte_max\" : 40 , \"back_dte_min\" : 50 , \"back_dte_max\" : 90 , \"exit_dte\" : 7 , \"dte_interval\" : 7 , \"otm_pct_interval\" : 0.05 , \"max_otm_pct\" : 0.5 , \"min_bid_ask\" : 0.05 , \"drop_nan\" : True , \"raw\" : False , \"slippage\" : \"mid\" , \"fill_ratio\" : 0.5 , \"reference_volume\" : 1000 , }","title":"Calendar &amp; Diagonal Strategies"},{"location":"parameters/#next-steps","text":"See Examples for real-world parameter usage Explore Strategies to understand strategy-specific considerations Review API Reference for function signatures","title":"Next Steps"},{"location":"strategies/","text":"Strategy Overview \u00b6 Optopsy includes 28 built-in options strategies covering single-leg, multi-leg, and time-based strategies. Strategy Categories \u00b6 Single-Leg Strategies (4) \u00b6 Basic directional plays with calls or puts. Long Calls - Bullish directional bet Short Calls - Bearish or neutral income Long Puts - Bearish directional bet Short Puts - Bullish income strategy Learn more \u2192 Straddles & Strangles (4) \u00b6 Volatility-based strategies combining calls and puts. Long Straddle - Profit from big moves Short Straddle - Income from low volatility Long Strangle - Lower-cost volatility play Short Strangle - Wider profit zone income Learn more \u2192 Vertical Spreads (4) \u00b6 Limited-risk directional strategies. Long Call Spread - Bullish debit spread Short Call Spread - Bearish credit spread Long Put Spread - Bearish debit spread Short Put Spread - Bullish credit spread Learn more \u2192 Butterfly Spreads (4) \u00b6 Neutral strategies targeting specific price ranges. Long Call Butterfly - Profit at middle strike Short Call Butterfly - Profit from movement Long Put Butterfly - Bearish butterfly Short Put Butterfly - Inverse put butterfly Learn more \u2192 Iron Strategies (4) \u00b6 Four-leg strategies with defined risk. Iron Condor - Range-bound income Reverse Iron Condor - Breakout play Iron Butterfly - Tighter profit zone Reverse Iron Butterfly - Long volatility Learn more \u2192 Covered Strategies (2) \u00b6 Stock + option combinations (synthetic). Covered Call - Income on stock holdings Protective Put - Downside insurance Learn more \u2192 Calendar Spreads (4) \u00b6 Same strike, different expirations. Long Call Calendar - Time decay play Short Call Calendar - Opposite calendar Long Put Calendar - Bearish time spread Short Put Calendar - Reverse put calendar Learn more \u2192 Diagonal Spreads (4) \u00b6 Different strikes and expirations. Long Call Diagonal - Hybrid spread Short Call Diagonal - Reverse call diagonal Long Put Diagonal - Bearish diagonal Short Put Diagonal - Bullish diagonal Learn more \u2192 Quick Reference Table \u00b6 Strategy Legs Market View Max Profit Max Loss Example Use Long Call 1 Bullish Unlimited Premium paid Betting on rally Short Put 1 Bullish Premium received Substantial Income generation Iron Condor 4 Neutral Net credit Difference in strikes Range-bound markets Long Straddle 2 High volatility Unlimited Premiums paid Before earnings Call Butterfly 3 Neutral Width of wing Net debit Pinning at strike Call Calendar 2 Neutral Variable Net debit Time decay play Strategy Selection Guide \u00b6 If you think the market will... \u00b6 Go Up Significantly - Long Calls - Long Call Spread Go Down Significantly - Long Puts - Long Put Spread Stay Flat - Short Straddle - Short Strangle - Iron Condor - Iron Butterfly Move But Unsure Direction - Long Straddle - Long Strangle Stay Near Current Price - Calendar Spreads - Butterflies By Risk/Reward Profile \u00b6 Limited Risk, Limited Reward - All spreads (vertical, butterfly, iron condor) Limited Risk, Unlimited Reward - Long calls/puts - Long straddles/strangles Substantial Risk, Limited Reward - Short calls/puts - Short straddles/strangles Common Parameters \u00b6 All strategies accept these common parameters: max_entry_dte - Maximum days to expiration at entry exit_dte - Days to expiration at exit dte_interval - Grouping interval for results max_otm_pct - Maximum out-of-the-money percentage otm_pct_interval - Grouping interval for OTM% min_bid_ask - Minimum bid-ask spread filter raw - Return raw trade data (default: aggregated stats) See the Parameters Guide for complete details. Next Steps \u00b6 Dive into specific strategy categories Learn about strategy parameters See examples of real backtests Check the API Reference for function signatures","title":"Overview"},{"location":"strategies/#strategy-overview","text":"Optopsy includes 28 built-in options strategies covering single-leg, multi-leg, and time-based strategies.","title":"Strategy Overview"},{"location":"strategies/#strategy-categories","text":"","title":"Strategy Categories"},{"location":"strategies/#single-leg-strategies-4","text":"Basic directional plays with calls or puts. Long Calls - Bullish directional bet Short Calls - Bearish or neutral income Long Puts - Bearish directional bet Short Puts - Bullish income strategy Learn more \u2192","title":"Single-Leg Strategies (4)"},{"location":"strategies/#straddles-strangles-4","text":"Volatility-based strategies combining calls and puts. Long Straddle - Profit from big moves Short Straddle - Income from low volatility Long Strangle - Lower-cost volatility play Short Strangle - Wider profit zone income Learn more \u2192","title":"Straddles &amp; Strangles (4)"},{"location":"strategies/#vertical-spreads-4","text":"Limited-risk directional strategies. Long Call Spread - Bullish debit spread Short Call Spread - Bearish credit spread Long Put Spread - Bearish debit spread Short Put Spread - Bullish credit spread Learn more \u2192","title":"Vertical Spreads (4)"},{"location":"strategies/#butterfly-spreads-4","text":"Neutral strategies targeting specific price ranges. Long Call Butterfly - Profit at middle strike Short Call Butterfly - Profit from movement Long Put Butterfly - Bearish butterfly Short Put Butterfly - Inverse put butterfly Learn more \u2192","title":"Butterfly Spreads (4)"},{"location":"strategies/#iron-strategies-4","text":"Four-leg strategies with defined risk. Iron Condor - Range-bound income Reverse Iron Condor - Breakout play Iron Butterfly - Tighter profit zone Reverse Iron Butterfly - Long volatility Learn more \u2192","title":"Iron Strategies (4)"},{"location":"strategies/#covered-strategies-2","text":"Stock + option combinations (synthetic). Covered Call - Income on stock holdings Protective Put - Downside insurance Learn more \u2192","title":"Covered Strategies (2)"},{"location":"strategies/#calendar-spreads-4","text":"Same strike, different expirations. Long Call Calendar - Time decay play Short Call Calendar - Opposite calendar Long Put Calendar - Bearish time spread Short Put Calendar - Reverse put calendar Learn more \u2192","title":"Calendar Spreads (4)"},{"location":"strategies/#diagonal-spreads-4","text":"Different strikes and expirations. Long Call Diagonal - Hybrid spread Short Call Diagonal - Reverse call diagonal Long Put Diagonal - Bearish diagonal Short Put Diagonal - Bullish diagonal Learn more \u2192","title":"Diagonal Spreads (4)"},{"location":"strategies/#quick-reference-table","text":"Strategy Legs Market View Max Profit Max Loss Example Use Long Call 1 Bullish Unlimited Premium paid Betting on rally Short Put 1 Bullish Premium received Substantial Income generation Iron Condor 4 Neutral Net credit Difference in strikes Range-bound markets Long Straddle 2 High volatility Unlimited Premiums paid Before earnings Call Butterfly 3 Neutral Width of wing Net debit Pinning at strike Call Calendar 2 Neutral Variable Net debit Time decay play","title":"Quick Reference Table"},{"location":"strategies/#strategy-selection-guide","text":"","title":"Strategy Selection Guide"},{"location":"strategies/#if-you-think-the-market-will","text":"Go Up Significantly - Long Calls - Long Call Spread Go Down Significantly - Long Puts - Long Put Spread Stay Flat - Short Straddle - Short Strangle - Iron Condor - Iron Butterfly Move But Unsure Direction - Long Straddle - Long Strangle Stay Near Current Price - Calendar Spreads - Butterflies","title":"If you think the market will..."},{"location":"strategies/#by-riskreward-profile","text":"Limited Risk, Limited Reward - All spreads (vertical, butterfly, iron condor) Limited Risk, Unlimited Reward - Long calls/puts - Long straddles/strangles Substantial Risk, Limited Reward - Short calls/puts - Short straddles/strangles","title":"By Risk/Reward Profile"},{"location":"strategies/#common-parameters","text":"All strategies accept these common parameters: max_entry_dte - Maximum days to expiration at entry exit_dte - Days to expiration at exit dte_interval - Grouping interval for results max_otm_pct - Maximum out-of-the-money percentage otm_pct_interval - Grouping interval for OTM% min_bid_ask - Minimum bid-ask spread filter raw - Return raw trade data (default: aggregated stats) See the Parameters Guide for complete details.","title":"Common Parameters"},{"location":"strategies/#next-steps","text":"Dive into specific strategy categories Learn about strategy parameters See examples of real backtests Check the API Reference for function signatures","title":"Next Steps"},{"location":"strategies/butterflies/","text":"Butterfly Spreads \u00b6 Butterfly spreads are three-leg strategies designed to profit when the underlying stays near a specific price. They offer defined risk and defined reward with neutral market outlooks. Long Call Butterfly \u00b6 Description \u00b6 Profits when the underlying stays at the middle strike at expiration. Composition: - Long 1 call at lower strike (wing) - Short 2 calls at middle strike (body) - Long 1 call at upper strike (wing) Example \u00b6 import optopsy as op results = op . long_call_butterfly ( data , max_entry_dte = 45 , exit_dte = 21 ) Short Call Butterfly \u00b6 Description \u00b6 Profits when the underlying moves away from the middle strike in either direction. Composition: - Short 1 call at lower strike - Long 2 calls at middle strike - Short 1 call at upper strike Example \u00b6 results = op . short_call_butterfly ( data , max_entry_dte = 30 , exit_dte = 7 ) Long Put Butterfly \u00b6 Description \u00b6 Similar to long call butterfly but using puts. Profits at middle strike. Composition: - Long 1 put at lower strike (wing) - Short 2 puts at middle strike (body) - Long 1 put at upper strike (wing) Example \u00b6 results = op . long_put_butterfly ( data , max_entry_dte = 45 , exit_dte = 21 ) Short Put Butterfly \u00b6 Description \u00b6 Profits when the underlying moves significantly away from the middle strike. Composition: - Short 1 put at lower strike - Long 2 puts at middle strike - Short 1 put at upper strike Example \u00b6 results = op . short_put_butterfly ( data , max_entry_dte = 30 , exit_dte = 7 ) Key Characteristics \u00b6 Equal Wing Width : Wings are equidistant from the body Low Cost : Often entered for small debit or even credit Defined Risk : Maximum loss is limited to debit paid High Precision : Profits in narrow range around middle strike","title":"Butterflies"},{"location":"strategies/butterflies/#butterfly-spreads","text":"Butterfly spreads are three-leg strategies designed to profit when the underlying stays near a specific price. They offer defined risk and defined reward with neutral market outlooks.","title":"Butterfly Spreads"},{"location":"strategies/butterflies/#long-call-butterfly","text":"","title":"Long Call Butterfly"},{"location":"strategies/butterflies/#description","text":"Profits when the underlying stays at the middle strike at expiration. Composition: - Long 1 call at lower strike (wing) - Short 2 calls at middle strike (body) - Long 1 call at upper strike (wing)","title":"Description"},{"location":"strategies/butterflies/#example","text":"import optopsy as op results = op . long_call_butterfly ( data , max_entry_dte = 45 , exit_dte = 21 )","title":"Example"},{"location":"strategies/butterflies/#short-call-butterfly","text":"","title":"Short Call Butterfly"},{"location":"strategies/butterflies/#description_1","text":"Profits when the underlying moves away from the middle strike in either direction. Composition: - Short 1 call at lower strike - Long 2 calls at middle strike - Short 1 call at upper strike","title":"Description"},{"location":"strategies/butterflies/#example_1","text":"results = op . short_call_butterfly ( data , max_entry_dte = 30 , exit_dte = 7 )","title":"Example"},{"location":"strategies/butterflies/#long-put-butterfly","text":"","title":"Long Put Butterfly"},{"location":"strategies/butterflies/#description_2","text":"Similar to long call butterfly but using puts. Profits at middle strike. Composition: - Long 1 put at lower strike (wing) - Short 2 puts at middle strike (body) - Long 1 put at upper strike (wing)","title":"Description"},{"location":"strategies/butterflies/#example_2","text":"results = op . long_put_butterfly ( data , max_entry_dte = 45 , exit_dte = 21 )","title":"Example"},{"location":"strategies/butterflies/#short-put-butterfly","text":"","title":"Short Put Butterfly"},{"location":"strategies/butterflies/#description_3","text":"Profits when the underlying moves significantly away from the middle strike. Composition: - Short 1 put at lower strike - Long 2 puts at middle strike - Short 1 put at upper strike","title":"Description"},{"location":"strategies/butterflies/#example_3","text":"results = op . short_put_butterfly ( data , max_entry_dte = 30 , exit_dte = 7 )","title":"Example"},{"location":"strategies/butterflies/#key-characteristics","text":"Equal Wing Width : Wings are equidistant from the body Low Cost : Often entered for small debit or even credit Defined Risk : Maximum loss is limited to debit paid High Precision : Profits in narrow range around middle strike","title":"Key Characteristics"},{"location":"strategies/calendars/","text":"Calendar Spreads \u00b6 Calendar spreads (also called time spreads or horizontal spreads) use options with the same strike but different expiration dates. They profit from time decay differential and changes in implied volatility. Long Call Calendar \u00b6 Description \u00b6 Sell a near-term call and buy a longer-term call at the same strike. Profits from time decay and volatility expansion in the back month. Composition: - Short 1 front-month call (near expiration) - Long 1 back-month call (longer expiration) - Both at the same strike Example \u00b6 import optopsy as op results = op . long_call_calendar ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 , exit_dte = 7 # Exit 7 days before front expiration ) Use Cases \u00b6 Neutral markets near the strike Expecting volatility increase Time decay plays Short Call Calendar \u00b6 Description \u00b6 Buy the near-term call, sell the longer-term call. Profits from significant movement away from strike. Composition: - Long 1 front-month call - Short 1 back-month call - Both at the same strike Example \u00b6 results = op . short_call_calendar ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 ) Long Put Calendar \u00b6 Description \u00b6 Similar to long call calendar but with puts. Profits from neutral price action at the strike. Composition: - Short 1 front-month put - Long 1 back-month put - Both at the same strike Example \u00b6 results = op . long_put_calendar ( data ) Short Put Calendar \u00b6 Description \u00b6 Opposite of long put calendar. Profits from movement away from strike. Composition: - Long 1 front-month put - Short 1 back-month put - Both at the same strike Example \u00b6 results = op . short_put_calendar ( data ) Key Parameters \u00b6 Calendar spreads use different default parameters: calendar_default_kwargs = { \"front_dte_min\" : 20 , # Min DTE for front leg \"front_dte_max\" : 40 , # Max DTE for front leg \"back_dte_min\" : 50 , # Min DTE for back leg \"back_dte_max\" : 90 , # Max DTE for back leg \"exit_dte\" : 7 , # Exit 7 days before front expiration \"dte_interval\" : 7 , \"otm_pct_interval\" : 0.05 , \"max_otm_pct\" : 0.5 , } Best Practices \u00b6 Exit before front leg expiration to avoid assignment Target strikes near current price Monitor volatility skew between expirations Consider IV changes in back month","title":"Calendar Spreads"},{"location":"strategies/calendars/#calendar-spreads","text":"Calendar spreads (also called time spreads or horizontal spreads) use options with the same strike but different expiration dates. They profit from time decay differential and changes in implied volatility.","title":"Calendar Spreads"},{"location":"strategies/calendars/#long-call-calendar","text":"","title":"Long Call Calendar"},{"location":"strategies/calendars/#description","text":"Sell a near-term call and buy a longer-term call at the same strike. Profits from time decay and volatility expansion in the back month. Composition: - Short 1 front-month call (near expiration) - Long 1 back-month call (longer expiration) - Both at the same strike","title":"Description"},{"location":"strategies/calendars/#example","text":"import optopsy as op results = op . long_call_calendar ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 , exit_dte = 7 # Exit 7 days before front expiration )","title":"Example"},{"location":"strategies/calendars/#use-cases","text":"Neutral markets near the strike Expecting volatility increase Time decay plays","title":"Use Cases"},{"location":"strategies/calendars/#short-call-calendar","text":"","title":"Short Call Calendar"},{"location":"strategies/calendars/#description_1","text":"Buy the near-term call, sell the longer-term call. Profits from significant movement away from strike. Composition: - Long 1 front-month call - Short 1 back-month call - Both at the same strike","title":"Description"},{"location":"strategies/calendars/#example_1","text":"results = op . short_call_calendar ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 )","title":"Example"},{"location":"strategies/calendars/#long-put-calendar","text":"","title":"Long Put Calendar"},{"location":"strategies/calendars/#description_2","text":"Similar to long call calendar but with puts. Profits from neutral price action at the strike. Composition: - Short 1 front-month put - Long 1 back-month put - Both at the same strike","title":"Description"},{"location":"strategies/calendars/#example_2","text":"results = op . long_put_calendar ( data )","title":"Example"},{"location":"strategies/calendars/#short-put-calendar","text":"","title":"Short Put Calendar"},{"location":"strategies/calendars/#description_3","text":"Opposite of long put calendar. Profits from movement away from strike. Composition: - Long 1 front-month put - Short 1 back-month put - Both at the same strike","title":"Description"},{"location":"strategies/calendars/#example_3","text":"results = op . short_put_calendar ( data )","title":"Example"},{"location":"strategies/calendars/#key-parameters","text":"Calendar spreads use different default parameters: calendar_default_kwargs = { \"front_dte_min\" : 20 , # Min DTE for front leg \"front_dte_max\" : 40 , # Max DTE for front leg \"back_dte_min\" : 50 , # Min DTE for back leg \"back_dte_max\" : 90 , # Max DTE for back leg \"exit_dte\" : 7 , # Exit 7 days before front expiration \"dte_interval\" : 7 , \"otm_pct_interval\" : 0.05 , \"max_otm_pct\" : 0.5 , }","title":"Key Parameters"},{"location":"strategies/calendars/#best-practices","text":"Exit before front leg expiration to avoid assignment Target strikes near current price Monitor volatility skew between expirations Consider IV changes in back month","title":"Best Practices"},{"location":"strategies/covered/","text":"Covered Strategies \u00b6 Covered strategies combine stock positions with options for income generation or downside protection. Synthetic Implementation Optopsy simulates covered strategies using deep ITM calls as synthetic stock positions, since the library works with options data only. Covered Call \u00b6 Description \u00b6 Generate income by selling calls against a long stock position (or synthetic long via deep ITM call). Composition: - Long underlying (simulated via long deep ITM call) - Short 1 call at higher strike Example \u00b6 import optopsy as op results = op . covered_call ( data , max_entry_dte = 45 , exit_dte = 21 ) Use Cases \u00b6 Generate income on stock holdings Willing to sell stock at higher price Neutral to slightly bullish outlook Protective Put (Married Put) \u00b6 Description \u00b6 Buy downside protection by purchasing puts against a long stock position. Composition: - Long underlying (simulated via long deep ITM call) - Long 1 put at lower strike for protection Example \u00b6 results = op . protective_put ( data , max_entry_dte = 90 , exit_dte = 60 ) Use Cases \u00b6 Hedging long stock positions Protection during uncertain periods Portfolio insurance","title":"Covered Strategies"},{"location":"strategies/covered/#covered-strategies","text":"Covered strategies combine stock positions with options for income generation or downside protection. Synthetic Implementation Optopsy simulates covered strategies using deep ITM calls as synthetic stock positions, since the library works with options data only.","title":"Covered Strategies"},{"location":"strategies/covered/#covered-call","text":"","title":"Covered Call"},{"location":"strategies/covered/#description","text":"Generate income by selling calls against a long stock position (or synthetic long via deep ITM call). Composition: - Long underlying (simulated via long deep ITM call) - Short 1 call at higher strike","title":"Description"},{"location":"strategies/covered/#example","text":"import optopsy as op results = op . covered_call ( data , max_entry_dte = 45 , exit_dte = 21 )","title":"Example"},{"location":"strategies/covered/#use-cases","text":"Generate income on stock holdings Willing to sell stock at higher price Neutral to slightly bullish outlook","title":"Use Cases"},{"location":"strategies/covered/#protective-put","text":"","title":"Protective Put (Married Put)"},{"location":"strategies/covered/#description_1","text":"Buy downside protection by purchasing puts against a long stock position. Composition: - Long underlying (simulated via long deep ITM call) - Long 1 put at lower strike for protection","title":"Description"},{"location":"strategies/covered/#example_1","text":"results = op . protective_put ( data , max_entry_dte = 90 , exit_dte = 60 )","title":"Example"},{"location":"strategies/covered/#use-cases_1","text":"Hedging long stock positions Protection during uncertain periods Portfolio insurance","title":"Use Cases"},{"location":"strategies/diagonals/","text":"Diagonal Spreads \u00b6 Diagonal spreads combine elements of vertical spreads and calendar spreads, using different strikes AND different expirations. These hybrid strategies offer flexible profit zones and directional bias. Long Call Diagonal \u00b6 Description \u00b6 Buy a longer-term call at one strike and sell a shorter-term call at a different strike. Combines time decay and directional movement. Composition: - Short 1 front-month call - Long 1 back-month call - Different strikes for each leg Example \u00b6 import optopsy as op results = op . long_call_diagonal ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 , exit_dte = 7 ) Use Cases \u00b6 Bullish to neutral bias with income More flexible than calendars Adjustable directional exposure Short Call Diagonal \u00b6 Description \u00b6 Opposite of long call diagonal. Buy near-term, sell longer-term at different strikes. Composition: - Long 1 front-month call - Short 1 back-month call - Different strikes for each leg Example \u00b6 results = op . short_call_diagonal ( data ) Long Put Diagonal \u00b6 Description \u00b6 Similar structure to call diagonals but using puts. Allows bearish to neutral positioning. Composition: - Short 1 front-month put - Long 1 back-month put - Different strikes for each leg Example \u00b6 results = op . long_put_diagonal ( data ) Short Put Diagonal \u00b6 Description \u00b6 Opposite of long put diagonal with reversed expiration dates. Composition: - Long 1 front-month put - Short 1 back-month put - Different strikes for each leg Example \u00b6 results = op . short_put_diagonal ( data ) Diagonal vs Calendar \u00b6 Feature Calendar Spread Diagonal Spread Strikes Same Different Directional Neutral Can be directional Complexity Simple More complex Flexibility Limited High Parameters \u00b6 Diagonal spreads use calendar spread parameters but evaluate all strike combinations: results = op . long_call_diagonal ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 , max_otm_pct = 0.30 # Wider range for strike selection ) Strategy Tips \u00b6 Start with calendar, adjust strikes as market moves Monitor both time decay and directional movement More management-intensive than calendars Can convert to vertical spreads or calendars","title":"Diagonal Spreads"},{"location":"strategies/diagonals/#diagonal-spreads","text":"Diagonal spreads combine elements of vertical spreads and calendar spreads, using different strikes AND different expirations. These hybrid strategies offer flexible profit zones and directional bias.","title":"Diagonal Spreads"},{"location":"strategies/diagonals/#long-call-diagonal","text":"","title":"Long Call Diagonal"},{"location":"strategies/diagonals/#description","text":"Buy a longer-term call at one strike and sell a shorter-term call at a different strike. Combines time decay and directional movement. Composition: - Short 1 front-month call - Long 1 back-month call - Different strikes for each leg","title":"Description"},{"location":"strategies/diagonals/#example","text":"import optopsy as op results = op . long_call_diagonal ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 , exit_dte = 7 )","title":"Example"},{"location":"strategies/diagonals/#use-cases","text":"Bullish to neutral bias with income More flexible than calendars Adjustable directional exposure","title":"Use Cases"},{"location":"strategies/diagonals/#short-call-diagonal","text":"","title":"Short Call Diagonal"},{"location":"strategies/diagonals/#description_1","text":"Opposite of long call diagonal. Buy near-term, sell longer-term at different strikes. Composition: - Long 1 front-month call - Short 1 back-month call - Different strikes for each leg","title":"Description"},{"location":"strategies/diagonals/#example_1","text":"results = op . short_call_diagonal ( data )","title":"Example"},{"location":"strategies/diagonals/#long-put-diagonal","text":"","title":"Long Put Diagonal"},{"location":"strategies/diagonals/#description_2","text":"Similar structure to call diagonals but using puts. Allows bearish to neutral positioning. Composition: - Short 1 front-month put - Long 1 back-month put - Different strikes for each leg","title":"Description"},{"location":"strategies/diagonals/#example_2","text":"results = op . long_put_diagonal ( data )","title":"Example"},{"location":"strategies/diagonals/#short-put-diagonal","text":"","title":"Short Put Diagonal"},{"location":"strategies/diagonals/#description_3","text":"Opposite of long put diagonal with reversed expiration dates. Composition: - Long 1 front-month put - Short 1 back-month put - Different strikes for each leg","title":"Description"},{"location":"strategies/diagonals/#example_3","text":"results = op . short_put_diagonal ( data )","title":"Example"},{"location":"strategies/diagonals/#diagonal-vs-calendar","text":"Feature Calendar Spread Diagonal Spread Strikes Same Different Directional Neutral Can be directional Complexity Simple More complex Flexibility Limited High","title":"Diagonal vs Calendar"},{"location":"strategies/diagonals/#parameters","text":"Diagonal spreads use calendar spread parameters but evaluate all strike combinations: results = op . long_call_diagonal ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 , max_otm_pct = 0.30 # Wider range for strike selection )","title":"Parameters"},{"location":"strategies/diagonals/#strategy-tips","text":"Start with calendar, adjust strikes as market moves Monitor both time decay and directional movement More management-intensive than calendars Can convert to vertical spreads or calendars","title":"Strategy Tips"},{"location":"strategies/iron-strategies/","text":"Iron Condors & Iron Butterflies \u00b6 Four-leg strategies that combine credit spreads to create defined-risk, defined-reward positions. These are popular income strategies for neutral to range-bound markets. Iron Condor \u00b6 Description \u00b6 An iron condor combines a bull put spread and a bear call spread, creating a wide profit zone. This is one of the most popular credit strategies. Composition: - Long 1 put at strike A (protection) - Short 1 put at strike B (income) - Short 1 call at strike C (income) - Long 1 call at strike D (protection) Where: A < B < C < D Market Outlook \u00b6 Neutral - Expect the underlying to stay between the short strikes Profits if price stays in the range at expiration Ideal for low-volatility, range-bound markets Profit/Loss \u00b6 Maximum Profit : Net credit received Maximum Loss : Width of spread - net credit Breakeven : Short put strike - net credit, Short call strike + net credit Example \u00b6 import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) # Backtest iron condors results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.30 , # Wide wings for high probability min_bid_ask = 0.10 ) print ( results ) Use Cases \u00b6 Income generation in range-bound markets After high IV events (post-earnings IV crush) When you expect low volatility Monthly income strategies (45 DTE entry, 21 DTE exit) Management Guidelines \u00b6 Take Profit : Close at 50% of max profit Stop Loss : Close at 200% of credit received or 21 DTE Rolling : Roll untested side if challenged Profit Zone : Typically 60-70% probability of profit Reverse Iron Condor \u00b6 Description \u00b6 The opposite of an iron condor - this strategy profits from large price movements in either direction while defining risk. Composition: - Short 1 put at strike A - Long 1 put at strike B - Long 1 call at strike C - Short 1 call at strike D Where: A < B < C < D Market Outlook \u00b6 High Volatility Expected - Anticipate breakout in either direction Profits if price moves significantly beyond inner strikes Defined-risk alternative to long straddles Profit/Loss \u00b6 Maximum Profit : Width of spread - net debit Maximum Loss : Net debit paid Breakeven : Long put strike + debit, Long call strike - debit Example \u00b6 results = op . reverse_iron_condor ( data , max_entry_dte = 30 , exit_dte = 0 , max_otm_pct = 0.25 # Setup for breakout moves ) Use Cases \u00b6 Before major events expecting big moves Defined-risk volatility plays When you expect a breakout but want limited loss Iron Butterfly \u00b6 Description \u00b6 An iron butterfly is similar to an iron condor but with the short strikes at the same price (ATM), creating a tighter profit zone with higher potential profit. Composition: - Long 1 put at strike A (wing) - Short 1 put at strike B (body) - Short 1 call at strike B (body) - same as short put - Long 1 call at strike C (wing) Where: A < B < C Market Outlook \u00b6 Very Neutral - Expect price to stay at or very near current level Maximum profit if price is exactly at middle strike at expiration Higher reward but narrower profit zone than iron condor Profit/Loss \u00b6 Maximum Profit : Net credit received (larger than iron condor) Maximum Loss : Width of wing - net credit Breakeven : Short strike \u00b1 net credit Example \u00b6 results = op . iron_butterfly ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.05 , # ATM body for maximum credit min_bid_ask = 0.15 ) Use Cases \u00b6 Expecting price to pin at a specific level Around major strikes with high open interest When you want higher credit than iron condors Lower probability but higher reward than iron condors Pin Risk \u00b6 Stock prices tend to pin at strikes with high open interest Iron butterflies benefit from this pinning effect Monitor expiration week price action carefully Reverse Iron Butterfly \u00b6 Description \u00b6 The opposite of an iron butterfly - profits from large moves away from the center strike. Composition: - Short 1 put at strike A (wing) - Long 1 put at strike B (body) - Long 1 call at strike B (body) - same as long put - Short 1 call at strike C (wing) Where: A < B < C Market Outlook \u00b6 High Volatility - Expect significant move from current price Defined-risk alternative to long straddles Lower cost and defined max loss Profit/Loss \u00b6 Maximum Profit : Width of wing - net debit Maximum Loss : Net debit paid Breakeven : Long strike \u00b1 net debit Example \u00b6 results = op . reverse_iron_butterfly ( data , max_entry_dte = 30 , exit_dte = 7 , max_otm_pct = 0.10 ) Use Cases \u00b6 Before major events (earnings, FDA decisions) When you expect explosive moves Defined-risk alternative to long straddles/strangles Strategy Comparison \u00b6 Strategy Profit Zone Max Profit Max Loss Best For Iron Condor Wide range Medium credit Defined Range-bound income Reverse IC Outside range Defined Net debit Breakout plays Iron Butterfly Narrow (at ATM) Higher credit Defined Pinning at strike Reverse Iron Butterfly Away from ATM Defined Net debit Volatility explosion Iron Condor vs Iron Butterfly \u00b6 Iron Condor: - \u2705 Wider profit zone (60-70% probability) - \u2705 More forgiving if price moves - \u274c Lower credit received - Use when : Moderate confidence in range Iron Butterfly: - \u2705 Higher credit (2-3x more) - \u274c Narrower profit zone (40-50% probability) - \u274c Less forgiving to price movement - Use when : High confidence in pinning Advanced Example: Delta-Neutral Iron Condors \u00b6 # Target delta-neutral positioning results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , # Target specific delta for short strikes delta_min = 0.15 , # ~15-20 delta short strikes delta_max = 0.20 , delta_interval = 0.05 , min_bid_ask = 0.10 , slippage = 'liquidity' ) Risk Management Best Practices \u00b6 Entry Checklist \u00b6 [ ] 45 DTE or less (optimal theta decay) [ ] Credit > 1/3 width of spreads [ ] Probability of profit > 60% [ ] Liquid strikes (tight bid-ask spreads) [ ] Defined position size (< 5% of account per trade) Management Rules \u00b6 Take Profit : Close at 50% max profit (21 DTE) Stop Loss : Close at 200-300% of credit or break-even Rolling : Roll down/up untested side if challenged early Expiration : Avoid holding through expiration (pin risk) Position Sizing \u00b6 Risk no more than 2-5% per trade Iron condors: Width determines risk per contract Example: $5 wide spreads for $2 credit = $300 max risk per IC Greeks Analysis \u00b6 Iron Condor Greeks \u00b6 Theta : Positive (time decay helps you) Vega : Negative (want volatility to decrease) Delta : Near zero (neutral position) Gamma : Negative (position against you if price moves) Optimal Conditions: - High IV \u2192 Sell when IV is elevated - Decreasing volatility \u2192 IV crush benefits position - Time passes \u2192 Theta decay increases profit Common Mistakes to Avoid \u00b6 Holding Too Long : Exit at 50% profit, don't be greedy Wrong IV Environment : Don't sell when IV is low Too Narrow : Ensure adequate buffer between short strikes Ignoring Adjustments : Have a plan if price threatens strikes Over-Sizing : Respect max loss per position Next Steps \u00b6 Learn about Butterfly Spreads for three-leg alternatives Explore Calendar Spreads for time-based strategies See more Examples with risk management Review Parameters for optimization","title":"Iron Condors & Iron Butterflies"},{"location":"strategies/iron-strategies/#iron-condors-iron-butterflies","text":"Four-leg strategies that combine credit spreads to create defined-risk, defined-reward positions. These are popular income strategies for neutral to range-bound markets.","title":"Iron Condors &amp; Iron Butterflies"},{"location":"strategies/iron-strategies/#iron-condor","text":"","title":"Iron Condor"},{"location":"strategies/iron-strategies/#description","text":"An iron condor combines a bull put spread and a bear call spread, creating a wide profit zone. This is one of the most popular credit strategies. Composition: - Long 1 put at strike A (protection) - Short 1 put at strike B (income) - Short 1 call at strike C (income) - Long 1 call at strike D (protection) Where: A < B < C < D","title":"Description"},{"location":"strategies/iron-strategies/#market-outlook","text":"Neutral - Expect the underlying to stay between the short strikes Profits if price stays in the range at expiration Ideal for low-volatility, range-bound markets","title":"Market Outlook"},{"location":"strategies/iron-strategies/#profitloss","text":"Maximum Profit : Net credit received Maximum Loss : Width of spread - net credit Breakeven : Short put strike - net credit, Short call strike + net credit","title":"Profit/Loss"},{"location":"strategies/iron-strategies/#example","text":"import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) # Backtest iron condors results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.30 , # Wide wings for high probability min_bid_ask = 0.10 ) print ( results )","title":"Example"},{"location":"strategies/iron-strategies/#use-cases","text":"Income generation in range-bound markets After high IV events (post-earnings IV crush) When you expect low volatility Monthly income strategies (45 DTE entry, 21 DTE exit)","title":"Use Cases"},{"location":"strategies/iron-strategies/#management-guidelines","text":"Take Profit : Close at 50% of max profit Stop Loss : Close at 200% of credit received or 21 DTE Rolling : Roll untested side if challenged Profit Zone : Typically 60-70% probability of profit","title":"Management Guidelines"},{"location":"strategies/iron-strategies/#reverse-iron-condor","text":"","title":"Reverse Iron Condor"},{"location":"strategies/iron-strategies/#description_1","text":"The opposite of an iron condor - this strategy profits from large price movements in either direction while defining risk. Composition: - Short 1 put at strike A - Long 1 put at strike B - Long 1 call at strike C - Short 1 call at strike D Where: A < B < C < D","title":"Description"},{"location":"strategies/iron-strategies/#market-outlook_1","text":"High Volatility Expected - Anticipate breakout in either direction Profits if price moves significantly beyond inner strikes Defined-risk alternative to long straddles","title":"Market Outlook"},{"location":"strategies/iron-strategies/#profitloss_1","text":"Maximum Profit : Width of spread - net debit Maximum Loss : Net debit paid Breakeven : Long put strike + debit, Long call strike - debit","title":"Profit/Loss"},{"location":"strategies/iron-strategies/#example_1","text":"results = op . reverse_iron_condor ( data , max_entry_dte = 30 , exit_dte = 0 , max_otm_pct = 0.25 # Setup for breakout moves )","title":"Example"},{"location":"strategies/iron-strategies/#use-cases_1","text":"Before major events expecting big moves Defined-risk volatility plays When you expect a breakout but want limited loss","title":"Use Cases"},{"location":"strategies/iron-strategies/#iron-butterfly","text":"","title":"Iron Butterfly"},{"location":"strategies/iron-strategies/#description_2","text":"An iron butterfly is similar to an iron condor but with the short strikes at the same price (ATM), creating a tighter profit zone with higher potential profit. Composition: - Long 1 put at strike A (wing) - Short 1 put at strike B (body) - Short 1 call at strike B (body) - same as short put - Long 1 call at strike C (wing) Where: A < B < C","title":"Description"},{"location":"strategies/iron-strategies/#market-outlook_2","text":"Very Neutral - Expect price to stay at or very near current level Maximum profit if price is exactly at middle strike at expiration Higher reward but narrower profit zone than iron condor","title":"Market Outlook"},{"location":"strategies/iron-strategies/#profitloss_2","text":"Maximum Profit : Net credit received (larger than iron condor) Maximum Loss : Width of wing - net credit Breakeven : Short strike \u00b1 net credit","title":"Profit/Loss"},{"location":"strategies/iron-strategies/#example_2","text":"results = op . iron_butterfly ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.05 , # ATM body for maximum credit min_bid_ask = 0.15 )","title":"Example"},{"location":"strategies/iron-strategies/#use-cases_2","text":"Expecting price to pin at a specific level Around major strikes with high open interest When you want higher credit than iron condors Lower probability but higher reward than iron condors","title":"Use Cases"},{"location":"strategies/iron-strategies/#pin-risk","text":"Stock prices tend to pin at strikes with high open interest Iron butterflies benefit from this pinning effect Monitor expiration week price action carefully","title":"Pin Risk"},{"location":"strategies/iron-strategies/#reverse-iron-butterfly","text":"","title":"Reverse Iron Butterfly"},{"location":"strategies/iron-strategies/#description_3","text":"The opposite of an iron butterfly - profits from large moves away from the center strike. Composition: - Short 1 put at strike A (wing) - Long 1 put at strike B (body) - Long 1 call at strike B (body) - same as long put - Short 1 call at strike C (wing) Where: A < B < C","title":"Description"},{"location":"strategies/iron-strategies/#market-outlook_3","text":"High Volatility - Expect significant move from current price Defined-risk alternative to long straddles Lower cost and defined max loss","title":"Market Outlook"},{"location":"strategies/iron-strategies/#profitloss_3","text":"Maximum Profit : Width of wing - net debit Maximum Loss : Net debit paid Breakeven : Long strike \u00b1 net debit","title":"Profit/Loss"},{"location":"strategies/iron-strategies/#example_3","text":"results = op . reverse_iron_butterfly ( data , max_entry_dte = 30 , exit_dte = 7 , max_otm_pct = 0.10 )","title":"Example"},{"location":"strategies/iron-strategies/#use-cases_3","text":"Before major events (earnings, FDA decisions) When you expect explosive moves Defined-risk alternative to long straddles/strangles","title":"Use Cases"},{"location":"strategies/iron-strategies/#strategy-comparison","text":"Strategy Profit Zone Max Profit Max Loss Best For Iron Condor Wide range Medium credit Defined Range-bound income Reverse IC Outside range Defined Net debit Breakout plays Iron Butterfly Narrow (at ATM) Higher credit Defined Pinning at strike Reverse Iron Butterfly Away from ATM Defined Net debit Volatility explosion","title":"Strategy Comparison"},{"location":"strategies/iron-strategies/#iron-condor-vs-iron-butterfly","text":"Iron Condor: - \u2705 Wider profit zone (60-70% probability) - \u2705 More forgiving if price moves - \u274c Lower credit received - Use when : Moderate confidence in range Iron Butterfly: - \u2705 Higher credit (2-3x more) - \u274c Narrower profit zone (40-50% probability) - \u274c Less forgiving to price movement - Use when : High confidence in pinning","title":"Iron Condor vs Iron Butterfly"},{"location":"strategies/iron-strategies/#advanced-example-delta-neutral-iron-condors","text":"# Target delta-neutral positioning results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , # Target specific delta for short strikes delta_min = 0.15 , # ~15-20 delta short strikes delta_max = 0.20 , delta_interval = 0.05 , min_bid_ask = 0.10 , slippage = 'liquidity' )","title":"Advanced Example: Delta-Neutral Iron Condors"},{"location":"strategies/iron-strategies/#risk-management-best-practices","text":"","title":"Risk Management Best Practices"},{"location":"strategies/iron-strategies/#entry-checklist","text":"[ ] 45 DTE or less (optimal theta decay) [ ] Credit > 1/3 width of spreads [ ] Probability of profit > 60% [ ] Liquid strikes (tight bid-ask spreads) [ ] Defined position size (< 5% of account per trade)","title":"Entry Checklist"},{"location":"strategies/iron-strategies/#management-rules","text":"Take Profit : Close at 50% max profit (21 DTE) Stop Loss : Close at 200-300% of credit or break-even Rolling : Roll down/up untested side if challenged early Expiration : Avoid holding through expiration (pin risk)","title":"Management Rules"},{"location":"strategies/iron-strategies/#position-sizing","text":"Risk no more than 2-5% per trade Iron condors: Width determines risk per contract Example: $5 wide spreads for $2 credit = $300 max risk per IC","title":"Position Sizing"},{"location":"strategies/iron-strategies/#greeks-analysis","text":"","title":"Greeks Analysis"},{"location":"strategies/iron-strategies/#iron-condor-greeks","text":"Theta : Positive (time decay helps you) Vega : Negative (want volatility to decrease) Delta : Near zero (neutral position) Gamma : Negative (position against you if price moves) Optimal Conditions: - High IV \u2192 Sell when IV is elevated - Decreasing volatility \u2192 IV crush benefits position - Time passes \u2192 Theta decay increases profit","title":"Iron Condor Greeks"},{"location":"strategies/iron-strategies/#common-mistakes-to-avoid","text":"Holding Too Long : Exit at 50% profit, don't be greedy Wrong IV Environment : Don't sell when IV is low Too Narrow : Ensure adequate buffer between short strikes Ignoring Adjustments : Have a plan if price threatens strikes Over-Sizing : Respect max loss per position","title":"Common Mistakes to Avoid"},{"location":"strategies/iron-strategies/#next-steps","text":"Learn about Butterfly Spreads for three-leg alternatives Explore Calendar Spreads for time-based strategies See more Examples with risk management Review Parameters for optimization","title":"Next Steps"},{"location":"strategies/singles/","text":"Single-Leg Strategies \u00b6 Single-leg strategies involve buying or selling a single call or put option. These are the simplest options strategies and form the building blocks for more complex multi-leg strategies. Long Calls \u00b6 Description \u00b6 A long call gives you the right to buy the underlying at the strike price. This is a bullish strategy with unlimited profit potential and limited risk (the premium paid). Market Outlook \u00b6 Bullish - Expect significant upward price movement Profits increase as the underlying rises above the strike + premium paid Profit/Loss \u00b6 Maximum Profit : Unlimited (underlying price - strike - premium) Maximum Loss : Premium paid (if underlying stays below strike) Breakeven : Strike + premium paid Example \u00b6 import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) # Backtest long calls with 30-60 DTE range results = op . long_calls ( data , max_entry_dte = 60 , exit_dte = 30 , max_otm_pct = 0.10 # Slightly OTM calls ) print ( results ) Use Cases \u00b6 Betting on a strong rally Lower-cost alternative to buying stock Earnings plays expecting a positive surprise Breakout trades Short Calls \u00b6 Description \u00b6 A short call obligates you to sell the underlying at the strike if exercised. This is a bearish or neutral income strategy with limited profit and theoretically unlimited risk. Market Outlook \u00b6 Bearish to Neutral - Expect price to stay flat or decline Profits if the underlying stays below the strike at expiration Profit/Loss \u00b6 Maximum Profit : Premium received Maximum Loss : Unlimited (underlying price - strike - premium) Breakeven : Strike + premium received Example \u00b6 results = op . short_calls ( data , max_entry_dte = 45 , exit_dte = 0 , # Hold to expiration max_otm_pct = 0.30 # Sell OTM calls for income ) Use Cases \u00b6 Generating income in neutral/bearish markets Covered call strategies (with stock holdings) High-probability income trades \u26a0\ufe0f Risk Warning \u00b6 Short naked calls have unlimited risk if the underlying rises significantly. Consider defined-risk alternatives like call spreads. Long Puts \u00b6 Description \u00b6 A long put gives you the right to sell the underlying at the strike price. This is a bearish strategy with substantial profit potential and limited risk (the premium paid). Market Outlook \u00b6 Bearish - Expect significant downward price movement Profits increase as the underlying falls below the strike - premium paid Profit/Loss \u00b6 Maximum Profit : Strike - premium - 0 (if underlying goes to zero) Maximum Loss : Premium paid (if underlying stays above strike) Breakeven : Strike - premium paid Example \u00b6 results = op . long_puts ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.15 # Moderately OTM puts ) Use Cases \u00b6 Betting on a market decline Portfolio hedging Earnings plays expecting negative news Breakdown trades Short Puts \u00b6 Description \u00b6 A short put obligates you to buy the underlying at the strike if exercised. This is a bullish income strategy where you collect premium, hoping the option expires worthless. Market Outlook \u00b6 Bullish to Neutral - Expect price to stay flat or rise Profits if the underlying stays above the strike at expiration Profit/Loss \u00b6 Maximum Profit : Premium received Maximum Loss : Strike - premium (if underlying goes to zero) Breakeven : Strike - premium received Example \u00b6 results = op . short_puts ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.20 , # 20% OTM for safer premium min_bid_ask = 0.10 ) Use Cases \u00b6 Generating income in bullish markets Getting \"paid to wait\" to buy stock at a lower price High-probability credit strategies Wheel strategy (sell puts, get assigned, sell calls) Assignment Considerations \u00b6 If the option is in-the-money at expiration, you'll be obligated to buy shares at the strike price. Ensure you have capital or can close before expiration. Greeks Filtering \u00b6 All single-leg strategies support delta filtering to target specific probability ranges: # Target 0.30 delta options (roughly 30% probability ITM) results = op . long_calls ( data , delta_min = 0.25 , delta_max = 0.35 , delta_interval = 0.05 # Group results by delta ranges ) Slippage Models \u00b6 Configure realistic fill prices: # Use liquidity-based slippage results = op . long_calls ( data , slippage = 'liquidity' , fill_ratio = 0.5 , # 50% through the spread reference_volume = 1000 # Minimum volume for liquid options ) Available slippage modes: - 'mid' - Fill at mid-price (bid+ask)/2 (default) - 'spread' - Buy at ask, sell at bid (worst case) - 'liquidity' - Dynamic fill based on volume/open interest Comparison Table \u00b6 Strategy Direction Max Profit Max Loss Best When Long Call Bullish Unlimited Premium Expecting rally Short Call Bearish/Neutral Premium Unlimited Expecting decline/flat Long Put Bearish Substantial Premium Expecting drop Short Put Bullish/Neutral Premium Substantial Expecting rise/flat Next Steps \u00b6 Learn about Straddles & Strangles Explore Vertical Spreads for defined-risk alternatives See more Examples","title":"Single-Leg Strategies"},{"location":"strategies/singles/#single-leg-strategies","text":"Single-leg strategies involve buying or selling a single call or put option. These are the simplest options strategies and form the building blocks for more complex multi-leg strategies.","title":"Single-Leg Strategies"},{"location":"strategies/singles/#long-calls","text":"","title":"Long Calls"},{"location":"strategies/singles/#description","text":"A long call gives you the right to buy the underlying at the strike price. This is a bullish strategy with unlimited profit potential and limited risk (the premium paid).","title":"Description"},{"location":"strategies/singles/#market-outlook","text":"Bullish - Expect significant upward price movement Profits increase as the underlying rises above the strike + premium paid","title":"Market Outlook"},{"location":"strategies/singles/#profitloss","text":"Maximum Profit : Unlimited (underlying price - strike - premium) Maximum Loss : Premium paid (if underlying stays below strike) Breakeven : Strike + premium paid","title":"Profit/Loss"},{"location":"strategies/singles/#example","text":"import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) # Backtest long calls with 30-60 DTE range results = op . long_calls ( data , max_entry_dte = 60 , exit_dte = 30 , max_otm_pct = 0.10 # Slightly OTM calls ) print ( results )","title":"Example"},{"location":"strategies/singles/#use-cases","text":"Betting on a strong rally Lower-cost alternative to buying stock Earnings plays expecting a positive surprise Breakout trades","title":"Use Cases"},{"location":"strategies/singles/#short-calls","text":"","title":"Short Calls"},{"location":"strategies/singles/#description_1","text":"A short call obligates you to sell the underlying at the strike if exercised. This is a bearish or neutral income strategy with limited profit and theoretically unlimited risk.","title":"Description"},{"location":"strategies/singles/#market-outlook_1","text":"Bearish to Neutral - Expect price to stay flat or decline Profits if the underlying stays below the strike at expiration","title":"Market Outlook"},{"location":"strategies/singles/#profitloss_1","text":"Maximum Profit : Premium received Maximum Loss : Unlimited (underlying price - strike - premium) Breakeven : Strike + premium received","title":"Profit/Loss"},{"location":"strategies/singles/#example_1","text":"results = op . short_calls ( data , max_entry_dte = 45 , exit_dte = 0 , # Hold to expiration max_otm_pct = 0.30 # Sell OTM calls for income )","title":"Example"},{"location":"strategies/singles/#use-cases_1","text":"Generating income in neutral/bearish markets Covered call strategies (with stock holdings) High-probability income trades","title":"Use Cases"},{"location":"strategies/singles/#risk-warning","text":"Short naked calls have unlimited risk if the underlying rises significantly. Consider defined-risk alternatives like call spreads.","title":"\u26a0\ufe0f Risk Warning"},{"location":"strategies/singles/#long-puts","text":"","title":"Long Puts"},{"location":"strategies/singles/#description_2","text":"A long put gives you the right to sell the underlying at the strike price. This is a bearish strategy with substantial profit potential and limited risk (the premium paid).","title":"Description"},{"location":"strategies/singles/#market-outlook_2","text":"Bearish - Expect significant downward price movement Profits increase as the underlying falls below the strike - premium paid","title":"Market Outlook"},{"location":"strategies/singles/#profitloss_2","text":"Maximum Profit : Strike - premium - 0 (if underlying goes to zero) Maximum Loss : Premium paid (if underlying stays above strike) Breakeven : Strike - premium paid","title":"Profit/Loss"},{"location":"strategies/singles/#example_2","text":"results = op . long_puts ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.15 # Moderately OTM puts )","title":"Example"},{"location":"strategies/singles/#use-cases_2","text":"Betting on a market decline Portfolio hedging Earnings plays expecting negative news Breakdown trades","title":"Use Cases"},{"location":"strategies/singles/#short-puts","text":"","title":"Short Puts"},{"location":"strategies/singles/#description_3","text":"A short put obligates you to buy the underlying at the strike if exercised. This is a bullish income strategy where you collect premium, hoping the option expires worthless.","title":"Description"},{"location":"strategies/singles/#market-outlook_3","text":"Bullish to Neutral - Expect price to stay flat or rise Profits if the underlying stays above the strike at expiration","title":"Market Outlook"},{"location":"strategies/singles/#profitloss_3","text":"Maximum Profit : Premium received Maximum Loss : Strike - premium (if underlying goes to zero) Breakeven : Strike - premium received","title":"Profit/Loss"},{"location":"strategies/singles/#example_3","text":"results = op . short_puts ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.20 , # 20% OTM for safer premium min_bid_ask = 0.10 )","title":"Example"},{"location":"strategies/singles/#use-cases_3","text":"Generating income in bullish markets Getting \"paid to wait\" to buy stock at a lower price High-probability credit strategies Wheel strategy (sell puts, get assigned, sell calls)","title":"Use Cases"},{"location":"strategies/singles/#assignment-considerations","text":"If the option is in-the-money at expiration, you'll be obligated to buy shares at the strike price. Ensure you have capital or can close before expiration.","title":"Assignment Considerations"},{"location":"strategies/singles/#greeks-filtering","text":"All single-leg strategies support delta filtering to target specific probability ranges: # Target 0.30 delta options (roughly 30% probability ITM) results = op . long_calls ( data , delta_min = 0.25 , delta_max = 0.35 , delta_interval = 0.05 # Group results by delta ranges )","title":"Greeks Filtering"},{"location":"strategies/singles/#slippage-models","text":"Configure realistic fill prices: # Use liquidity-based slippage results = op . long_calls ( data , slippage = 'liquidity' , fill_ratio = 0.5 , # 50% through the spread reference_volume = 1000 # Minimum volume for liquid options ) Available slippage modes: - 'mid' - Fill at mid-price (bid+ask)/2 (default) - 'spread' - Buy at ask, sell at bid (worst case) - 'liquidity' - Dynamic fill based on volume/open interest","title":"Slippage Models"},{"location":"strategies/singles/#comparison-table","text":"Strategy Direction Max Profit Max Loss Best When Long Call Bullish Unlimited Premium Expecting rally Short Call Bearish/Neutral Premium Unlimited Expecting decline/flat Long Put Bearish Substantial Premium Expecting drop Short Put Bullish/Neutral Premium Substantial Expecting rise/flat","title":"Comparison Table"},{"location":"strategies/singles/#next-steps","text":"Learn about Straddles & Strangles Explore Vertical Spreads for defined-risk alternatives See more Examples","title":"Next Steps"},{"location":"strategies/spreads/","text":"Vertical Spreads \u00b6 Vertical spreads combine buying and selling options of the same type (both calls or both puts) with different strikes but the same expiration. These strategies offer defined risk and defined reward. Long Call Spread (Bull Call Spread) \u00b6 Description \u00b6 A bullish strategy that buys a lower strike call and sells a higher strike call, reducing cost but capping upside. Composition: - Long 1 call at lower strike X - Short 1 call at higher strike Y Example \u00b6 import optopsy as op results = op . long_call_spread ( data , max_entry_dte = 45 , exit_dte = 21 ) Short Call Spread (Bear Call Spread) \u00b6 Description \u00b6 A bearish credit strategy profiting when the underlying stays below the short strike. Composition: - Short 1 call at lower strike X - Long 1 call at higher strike Y (protection) Example \u00b6 results = op . short_call_spread ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.20 ) Long Put Spread (Bear Put Spread) \u00b6 Description \u00b6 A bearish strategy profiting from downward moves with defined risk. Composition: - Short 1 put at lower strike X - Long 1 put at higher strike Y Example \u00b6 results = op . long_put_spread ( data , max_entry_dte = 45 , exit_dte = 21 ) Short Put Spread (Bull Put Spread) \u00b6 Description \u00b6 A bullish credit strategy profiting when the underlying stays above the short strike. Composition: - Long 1 put at lower strike X (protection) - Short 1 put at higher strike Y Example \u00b6 results = op . short_put_spread ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 ) Comparison Table \u00b6 Spread Direction Type Max Profit Max Loss Long Call Bullish Debit Width - debit Debit paid Short Call Bearish Credit Credit Width - credit Long Put Bearish Debit Width - debit Debit paid Short Put Bullish Credit Credit Width - credit","title":"Vertical Spreads"},{"location":"strategies/spreads/#vertical-spreads","text":"Vertical spreads combine buying and selling options of the same type (both calls or both puts) with different strikes but the same expiration. These strategies offer defined risk and defined reward.","title":"Vertical Spreads"},{"location":"strategies/spreads/#long-call-spread","text":"","title":"Long Call Spread (Bull Call Spread)"},{"location":"strategies/spreads/#description","text":"A bullish strategy that buys a lower strike call and sells a higher strike call, reducing cost but capping upside. Composition: - Long 1 call at lower strike X - Short 1 call at higher strike Y","title":"Description"},{"location":"strategies/spreads/#example","text":"import optopsy as op results = op . long_call_spread ( data , max_entry_dte = 45 , exit_dte = 21 )","title":"Example"},{"location":"strategies/spreads/#short-call-spread","text":"","title":"Short Call Spread (Bear Call Spread)"},{"location":"strategies/spreads/#description_1","text":"A bearish credit strategy profiting when the underlying stays below the short strike. Composition: - Short 1 call at lower strike X - Long 1 call at higher strike Y (protection)","title":"Description"},{"location":"strategies/spreads/#example_1","text":"results = op . short_call_spread ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.20 )","title":"Example"},{"location":"strategies/spreads/#long-put-spread","text":"","title":"Long Put Spread (Bear Put Spread)"},{"location":"strategies/spreads/#description_2","text":"A bearish strategy profiting from downward moves with defined risk. Composition: - Short 1 put at lower strike X - Long 1 put at higher strike Y","title":"Description"},{"location":"strategies/spreads/#example_2","text":"results = op . long_put_spread ( data , max_entry_dte = 45 , exit_dte = 21 )","title":"Example"},{"location":"strategies/spreads/#short-put-spread","text":"","title":"Short Put Spread (Bull Put Spread)"},{"location":"strategies/spreads/#description_3","text":"A bullish credit strategy profiting when the underlying stays above the short strike. Composition: - Long 1 put at lower strike X (protection) - Short 1 put at higher strike Y","title":"Description"},{"location":"strategies/spreads/#example_3","text":"results = op . short_put_spread ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 )","title":"Example"},{"location":"strategies/spreads/#comparison-table","text":"Spread Direction Type Max Profit Max Loss Long Call Bullish Debit Width - debit Debit paid Short Call Bearish Credit Credit Width - credit Long Put Bearish Debit Width - debit Debit paid Short Put Bullish Credit Credit Width - credit","title":"Comparison Table"},{"location":"strategies/straddles-strangles/","text":"Straddles & Strangles \u00b6 Straddles and strangles are volatility-based strategies that combine calls and puts to profit from large price movements (long) or low volatility (short). Long Straddle \u00b6 Description \u00b6 A long straddle consists of buying a call and a put at the same strike , typically at-the-money. This strategy profits from large price movements in either direction. Composition: - Long 1 call at strike X - Long 1 put at strike X Market Outlook \u00b6 High Volatility Expected - Anticipate a significant move up or down Direction doesn't matter, only magnitude Common before earnings announcements or major events Profit/Loss \u00b6 Maximum Profit : Unlimited (in either direction) Maximum Loss : Total premiums paid (if price stays at strike) Breakeven : Strike \u00b1 total premium paid Example \u00b6 import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) # Backtest long straddles results = op . long_straddles ( data , max_entry_dte = 30 , exit_dte = 0 , # Hold to expiration max_otm_pct = 0.05 # Near ATM ) print ( results ) Use Cases \u00b6 Earnings plays expecting big moves Before Fed announcements or major economic data When implied volatility is low but you expect an explosion Binary events (FDA approvals, court rulings) Short Straddle \u00b6 Description \u00b6 A short straddle consists of selling a call and a put at the same strike . This strategy profits when the price stays near the strike at expiration. Composition: - Short 1 call at strike X - Short 1 put at strike X Market Outlook \u00b6 Low Volatility Expected - Price stays stable Maximum profit if price is exactly at strike at expiration Profits erode if price moves significantly in either direction Profit/Loss \u00b6 Maximum Profit : Total premiums received Maximum Loss : Unlimited (if price moves far from strike) Breakeven : Strike \u00b1 total premium received Example \u00b6 results = op . short_straddles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.05 , # ATM straddles min_bid_ask = 0.20 # Ensure liquid options ) Use Cases \u00b6 High implied volatility environments After earnings when IV crush is expected Range-bound markets Income generation in low-volatility periods \u26a0\ufe0f Risk Warning \u00b6 Short straddles have unlimited risk in both directions. Consider iron butterflies for defined-risk alternatives. Long Strangle \u00b6 Description \u00b6 A long strangle consists of buying an OTM call and an OTM put at different strikes . This is similar to a long straddle but cheaper with wider breakevens. Composition: - Long 1 OTM put at strike X - Long 1 OTM call at strike Y (Y > X) Market Outlook \u00b6 High Volatility Expected - Anticipate a large move Lower cost than straddles but requires bigger move to profit Better risk/reward than straddles for explosive moves Profit/Loss \u00b6 Maximum Profit : Unlimited (in either direction) Maximum Loss : Total premiums paid Breakeven : Put strike - total premium, Call strike + total premium Example \u00b6 results = op . long_strangles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.20 # Wider strikes for lower cost ) Use Cases \u00b6 Lower-cost volatility plays Before major events with unknown outcomes When you expect a significant move but want to reduce cost Higher probability of profit than straddles on massive moves Short Strangle \u00b6 Description \u00b6 A short strangle consists of selling an OTM call and an OTM put at different strikes . This provides a wider profit zone than a short straddle. Composition: - Short 1 OTM put at strike X - Short 1 OTM call at strike Y (Y > X) Market Outlook \u00b6 Low to Moderate Volatility - Price stays in a range Wider profit zone than short straddles More forgiving if price moves moderately Profit/Loss \u00b6 Maximum Profit : Total premiums received Maximum Loss : Unlimited (past short strikes) Breakeven : Put strike - total premium, Call strike + total premium Example \u00b6 results = op . short_strangles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.30 , # Wide strikes for safer range min_bid_ask = 0.15 ) Use Cases \u00b6 Income in range-bound markets Higher probability of success than short straddles After high IV events (post-earnings) When you expect low volatility but want buffer Management Tips \u00b6 Consider closing at 50% of max profit Roll untested side if needed Monitor position size carefully due to undefined risk Strategy Comparison \u00b6 Strategy Strikes Premium Profit Zone Best For Long Straddle Same Higher cost Wide (any big move) Maximum volatility plays Long Strangle Different Lower cost Wider breakevens Lower-cost volatility Short Straddle Same Higher credit Narrow (at strike) Maximum income, low vol Short Strangle Different Lower credit Wider range Safer income, moderate vol Greeks Considerations \u00b6 For Long Straddles/Strangles \u00b6 Positive Vega - Benefit from volatility increases Negative Theta - Time decay works against you Trade : Buy when IV is low, sell when IV spikes For Short Straddles/Strangles \u00b6 Negative Vega - Hurt by volatility increases Positive Theta - Time decay works for you Trade : Sell when IV is high, benefit from IV crush Example: IV Filtering \u00b6 # Target high IV environments for short strangles results = op . short_strangles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 , # Filter for liquid, high IV options min_bid_ask = 0.15 , slippage = 'liquidity' ) Risk Management \u00b6 For Long Positions: - Risk is limited to premiums paid - Consider exiting at 100% loss or 200%+ gain - Profits can be substantial on big moves For Short Positions: - \u26a0\ufe0f Risk is unlimited - Consider stop losses or conversion to iron condors/butterflies - Close early at 50-75% max profit - Position size conservatively (small % of account) Next Steps \u00b6 Learn about Vertical Spreads for defined-risk alternatives Explore Iron Butterflies for defined-risk volatility plays See more Examples with IV analysis","title":"Straddles & Strangles"},{"location":"strategies/straddles-strangles/#straddles-strangles","text":"Straddles and strangles are volatility-based strategies that combine calls and puts to profit from large price movements (long) or low volatility (short).","title":"Straddles &amp; Strangles"},{"location":"strategies/straddles-strangles/#long-straddle","text":"","title":"Long Straddle"},{"location":"strategies/straddles-strangles/#description","text":"A long straddle consists of buying a call and a put at the same strike , typically at-the-money. This strategy profits from large price movements in either direction. Composition: - Long 1 call at strike X - Long 1 put at strike X","title":"Description"},{"location":"strategies/straddles-strangles/#market-outlook","text":"High Volatility Expected - Anticipate a significant move up or down Direction doesn't matter, only magnitude Common before earnings announcements or major events","title":"Market Outlook"},{"location":"strategies/straddles-strangles/#profitloss","text":"Maximum Profit : Unlimited (in either direction) Maximum Loss : Total premiums paid (if price stays at strike) Breakeven : Strike \u00b1 total premium paid","title":"Profit/Loss"},{"location":"strategies/straddles-strangles/#example","text":"import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) # Backtest long straddles results = op . long_straddles ( data , max_entry_dte = 30 , exit_dte = 0 , # Hold to expiration max_otm_pct = 0.05 # Near ATM ) print ( results )","title":"Example"},{"location":"strategies/straddles-strangles/#use-cases","text":"Earnings plays expecting big moves Before Fed announcements or major economic data When implied volatility is low but you expect an explosion Binary events (FDA approvals, court rulings)","title":"Use Cases"},{"location":"strategies/straddles-strangles/#short-straddle","text":"","title":"Short Straddle"},{"location":"strategies/straddles-strangles/#description_1","text":"A short straddle consists of selling a call and a put at the same strike . This strategy profits when the price stays near the strike at expiration. Composition: - Short 1 call at strike X - Short 1 put at strike X","title":"Description"},{"location":"strategies/straddles-strangles/#market-outlook_1","text":"Low Volatility Expected - Price stays stable Maximum profit if price is exactly at strike at expiration Profits erode if price moves significantly in either direction","title":"Market Outlook"},{"location":"strategies/straddles-strangles/#profitloss_1","text":"Maximum Profit : Total premiums received Maximum Loss : Unlimited (if price moves far from strike) Breakeven : Strike \u00b1 total premium received","title":"Profit/Loss"},{"location":"strategies/straddles-strangles/#example_1","text":"results = op . short_straddles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.05 , # ATM straddles min_bid_ask = 0.20 # Ensure liquid options )","title":"Example"},{"location":"strategies/straddles-strangles/#use-cases_1","text":"High implied volatility environments After earnings when IV crush is expected Range-bound markets Income generation in low-volatility periods","title":"Use Cases"},{"location":"strategies/straddles-strangles/#risk-warning","text":"Short straddles have unlimited risk in both directions. Consider iron butterflies for defined-risk alternatives.","title":"\u26a0\ufe0f Risk Warning"},{"location":"strategies/straddles-strangles/#long-strangle","text":"","title":"Long Strangle"},{"location":"strategies/straddles-strangles/#description_2","text":"A long strangle consists of buying an OTM call and an OTM put at different strikes . This is similar to a long straddle but cheaper with wider breakevens. Composition: - Long 1 OTM put at strike X - Long 1 OTM call at strike Y (Y > X)","title":"Description"},{"location":"strategies/straddles-strangles/#market-outlook_2","text":"High Volatility Expected - Anticipate a large move Lower cost than straddles but requires bigger move to profit Better risk/reward than straddles for explosive moves","title":"Market Outlook"},{"location":"strategies/straddles-strangles/#profitloss_2","text":"Maximum Profit : Unlimited (in either direction) Maximum Loss : Total premiums paid Breakeven : Put strike - total premium, Call strike + total premium","title":"Profit/Loss"},{"location":"strategies/straddles-strangles/#example_2","text":"results = op . long_strangles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.20 # Wider strikes for lower cost )","title":"Example"},{"location":"strategies/straddles-strangles/#use-cases_2","text":"Lower-cost volatility plays Before major events with unknown outcomes When you expect a significant move but want to reduce cost Higher probability of profit than straddles on massive moves","title":"Use Cases"},{"location":"strategies/straddles-strangles/#short-strangle","text":"","title":"Short Strangle"},{"location":"strategies/straddles-strangles/#description_3","text":"A short strangle consists of selling an OTM call and an OTM put at different strikes . This provides a wider profit zone than a short straddle. Composition: - Short 1 OTM put at strike X - Short 1 OTM call at strike Y (Y > X)","title":"Description"},{"location":"strategies/straddles-strangles/#market-outlook_3","text":"Low to Moderate Volatility - Price stays in a range Wider profit zone than short straddles More forgiving if price moves moderately","title":"Market Outlook"},{"location":"strategies/straddles-strangles/#profitloss_3","text":"Maximum Profit : Total premiums received Maximum Loss : Unlimited (past short strikes) Breakeven : Put strike - total premium, Call strike + total premium","title":"Profit/Loss"},{"location":"strategies/straddles-strangles/#example_3","text":"results = op . short_strangles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.30 , # Wide strikes for safer range min_bid_ask = 0.15 )","title":"Example"},{"location":"strategies/straddles-strangles/#use-cases_3","text":"Income in range-bound markets Higher probability of success than short straddles After high IV events (post-earnings) When you expect low volatility but want buffer","title":"Use Cases"},{"location":"strategies/straddles-strangles/#management-tips","text":"Consider closing at 50% of max profit Roll untested side if needed Monitor position size carefully due to undefined risk","title":"Management Tips"},{"location":"strategies/straddles-strangles/#strategy-comparison","text":"Strategy Strikes Premium Profit Zone Best For Long Straddle Same Higher cost Wide (any big move) Maximum volatility plays Long Strangle Different Lower cost Wider breakevens Lower-cost volatility Short Straddle Same Higher credit Narrow (at strike) Maximum income, low vol Short Strangle Different Lower credit Wider range Safer income, moderate vol","title":"Strategy Comparison"},{"location":"strategies/straddles-strangles/#greeks-considerations","text":"","title":"Greeks Considerations"},{"location":"strategies/straddles-strangles/#for-long-straddlesstrangles","text":"Positive Vega - Benefit from volatility increases Negative Theta - Time decay works against you Trade : Buy when IV is low, sell when IV spikes","title":"For Long Straddles/Strangles"},{"location":"strategies/straddles-strangles/#for-short-straddlesstrangles","text":"Negative Vega - Hurt by volatility increases Positive Theta - Time decay works for you Trade : Sell when IV is high, benefit from IV crush","title":"For Short Straddles/Strangles"},{"location":"strategies/straddles-strangles/#example-iv-filtering","text":"# Target high IV environments for short strangles results = op . short_strangles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 , # Filter for liquid, high IV options min_bid_ask = 0.15 , slippage = 'liquidity' )","title":"Example: IV Filtering"},{"location":"strategies/straddles-strangles/#risk-management","text":"For Long Positions: - Risk is limited to premiums paid - Consider exiting at 100% loss or 200%+ gain - Profits can be substantial on big moves For Short Positions: - \u26a0\ufe0f Risk is unlimited - Consider stop losses or conversion to iron condors/butterflies - Close early at 50-75% max profit - Position size conservatively (small % of account)","title":"Risk Management"},{"location":"strategies/straddles-strangles/#next-steps","text":"Learn about Vertical Spreads for defined-risk alternatives Explore Iron Butterflies for defined-risk volatility plays See more Examples with IV analysis","title":"Next Steps"},{"location":"zh/","text":"Optopsy \u6587\u6863 \u00b6 \u4e00\u4e2a\u5feb\u901f\u3001\u7075\u6d3b\u7684 Python \u671f\u6743\u7b56\u7565\u56de\u6d4b\u5e93\u3002 \u4ec0\u4e48\u662f Optopsy\uff1f \u00b6 Optopsy \u5e2e\u52a9\u60a8\u56de\u7b54\u8bf8\u5982\"\u94c1\u79c3\u9e70\u7b56\u7565\u5728 SPX \u4e0a\u7684\u8868\u73b0\u5982\u4f55\uff1f\"\u6216\"\u54ea\u4e2a delta \u8303\u56f4\u4e3a\u5907\u5151\u770b\u6da8\u671f\u6743\u4ea7\u751f\u6700\u4f73\u7ed3\u679c\uff1f\"\u7b49\u95ee\u9898\uff0c\u901a\u8fc7\u4ece\u5386\u53f2\u671f\u6743\u6570\u636e\u751f\u6210\u5168\u9762\u7684\u7ee9\u6548\u7edf\u8ba1\u3002 \u4e3b\u8981\u7279\u6027 \u00b6 28 \u79cd\u5185\u7f6e\u7b56\u7565 - \u4ece\u7b80\u5355\u7684\u770b\u6da8/\u770b\u8dcc\u671f\u6743\u5230\u94c1\u79c3\u9e70\u3001\u8776\u5f0f\u3001\u65e5\u5386\u548c\u5bf9\u89d2\u4ef7\u5dee \u5e0c\u814a\u5b57\u6bcd\u8fc7\u6ee4 - \u6309 delta \u8fc7\u6ee4\u671f\u6743\u4ee5\u9488\u5bf9\u7279\u5b9a\u6982\u7387\u8303\u56f4 \u6ed1\u70b9\u5efa\u6a21 - \u4f7f\u7528\u4e2d\u95f4\u4ef7\u3001\u4ef7\u5dee\u6216\u57fa\u4e8e\u6d41\u52a8\u6027\u7684\u6ed1\u70b9\u8fdb\u884c\u771f\u5b9e\u586b\u5145 \u7075\u6d3b\u5206\u7ec4 - \u6309 DTE\u3001OTM% \u548c delta \u533a\u95f4\u5206\u6790\u7ed3\u679c \u4efb\u4f55\u6570\u636e\u6e90 - \u9002\u7528\u4e8e CSV \u6216 DataFrame \u683c\u5f0f\u7684\u4efb\u4f55\u671f\u6743\u6570\u636e \u539f\u751f Pandas - \u8fd4\u56de\u4e0e\u73b0\u6709\u5de5\u4f5c\u6d41\u7a0b\u96c6\u6210\u7684 DataFrames \u5feb\u901f\u793a\u4f8b \u00b6 import optopsy as op # \u52a0\u8f7d\u60a8\u7684\u671f\u6743\u6570\u636e data = op . csv_data ( 'SPX_options.csv' ) # \u56de\u6d4b\u94c1\u79c3\u9e70\u7b56\u7565 results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 ) print ( results ) \u5b89\u88c5 \u00b6 pip install optopsy \u8981\u6c42\uff1a Python 3.8+\u3001Pandas 2.0+\u3001NumPy 1.26+ \u83b7\u53d6\u5e2e\u52a9 \u00b6 \u67e5\u770b \u5165\u95e8\u6307\u5357 \u83b7\u53d6\u8be6\u7ec6\u6f14\u7ec3 \u6d4f\u89c8 \u7b56\u7565 \u4e86\u89e3\u53ef\u7528\u7684\u671f\u6743\u7b56\u7565 \u67e5\u770b \u53c2\u6570 \u4e86\u89e3\u914d\u7f6e\u9009\u9879 \u53c2\u9605 \u793a\u4f8b \u4e86\u89e3\u5e38\u89c1\u7528\u4f8b \u67e5\u770b API \u53c2\u8003 \u83b7\u53d6\u5b8c\u6574\u7684\u51fd\u6570\u6587\u6863 \u8d21\u732e \u00b6 \u6b22\u8fce\u8d21\u732e\uff01\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u8d21\u732e\u6307\u5357 \u3002 \u8bb8\u53ef\u8bc1 \u00b6 Optopsy \u6839\u636e GPL-3.0 \u8bb8\u53ef\u8bc1\u53d1\u5e03\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 GitHub \u4ed3\u5e93 \u3002","title":"\u9996\u9875"},{"location":"zh/#optopsy","text":"\u4e00\u4e2a\u5feb\u901f\u3001\u7075\u6d3b\u7684 Python \u671f\u6743\u7b56\u7565\u56de\u6d4b\u5e93\u3002","title":"Optopsy \u6587\u6863"},{"location":"zh/#optopsy_1","text":"Optopsy \u5e2e\u52a9\u60a8\u56de\u7b54\u8bf8\u5982\"\u94c1\u79c3\u9e70\u7b56\u7565\u5728 SPX \u4e0a\u7684\u8868\u73b0\u5982\u4f55\uff1f\"\u6216\"\u54ea\u4e2a delta \u8303\u56f4\u4e3a\u5907\u5151\u770b\u6da8\u671f\u6743\u4ea7\u751f\u6700\u4f73\u7ed3\u679c\uff1f\"\u7b49\u95ee\u9898\uff0c\u901a\u8fc7\u4ece\u5386\u53f2\u671f\u6743\u6570\u636e\u751f\u6210\u5168\u9762\u7684\u7ee9\u6548\u7edf\u8ba1\u3002","title":"\u4ec0\u4e48\u662f Optopsy\uff1f"},{"location":"zh/#_1","text":"28 \u79cd\u5185\u7f6e\u7b56\u7565 - \u4ece\u7b80\u5355\u7684\u770b\u6da8/\u770b\u8dcc\u671f\u6743\u5230\u94c1\u79c3\u9e70\u3001\u8776\u5f0f\u3001\u65e5\u5386\u548c\u5bf9\u89d2\u4ef7\u5dee \u5e0c\u814a\u5b57\u6bcd\u8fc7\u6ee4 - \u6309 delta \u8fc7\u6ee4\u671f\u6743\u4ee5\u9488\u5bf9\u7279\u5b9a\u6982\u7387\u8303\u56f4 \u6ed1\u70b9\u5efa\u6a21 - \u4f7f\u7528\u4e2d\u95f4\u4ef7\u3001\u4ef7\u5dee\u6216\u57fa\u4e8e\u6d41\u52a8\u6027\u7684\u6ed1\u70b9\u8fdb\u884c\u771f\u5b9e\u586b\u5145 \u7075\u6d3b\u5206\u7ec4 - \u6309 DTE\u3001OTM% \u548c delta \u533a\u95f4\u5206\u6790\u7ed3\u679c \u4efb\u4f55\u6570\u636e\u6e90 - \u9002\u7528\u4e8e CSV \u6216 DataFrame \u683c\u5f0f\u7684\u4efb\u4f55\u671f\u6743\u6570\u636e \u539f\u751f Pandas - \u8fd4\u56de\u4e0e\u73b0\u6709\u5de5\u4f5c\u6d41\u7a0b\u96c6\u6210\u7684 DataFrames","title":"\u4e3b\u8981\u7279\u6027"},{"location":"zh/#_2","text":"import optopsy as op # \u52a0\u8f7d\u60a8\u7684\u671f\u6743\u6570\u636e data = op . csv_data ( 'SPX_options.csv' ) # \u56de\u6d4b\u94c1\u79c3\u9e70\u7b56\u7565 results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 ) print ( results )","title":"\u5feb\u901f\u793a\u4f8b"},{"location":"zh/#_3","text":"pip install optopsy \u8981\u6c42\uff1a Python 3.8+\u3001Pandas 2.0+\u3001NumPy 1.26+","title":"\u5b89\u88c5"},{"location":"zh/#_4","text":"\u67e5\u770b \u5165\u95e8\u6307\u5357 \u83b7\u53d6\u8be6\u7ec6\u6f14\u7ec3 \u6d4f\u89c8 \u7b56\u7565 \u4e86\u89e3\u53ef\u7528\u7684\u671f\u6743\u7b56\u7565 \u67e5\u770b \u53c2\u6570 \u4e86\u89e3\u914d\u7f6e\u9009\u9879 \u53c2\u9605 \u793a\u4f8b \u4e86\u89e3\u5e38\u89c1\u7528\u4f8b \u67e5\u770b API \u53c2\u8003 \u83b7\u53d6\u5b8c\u6574\u7684\u51fd\u6570\u6587\u6863","title":"\u83b7\u53d6\u5e2e\u52a9"},{"location":"zh/#_5","text":"\u6b22\u8fce\u8d21\u732e\uff01\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u8d21\u732e\u6307\u5357 \u3002","title":"\u8d21\u732e"},{"location":"zh/#_6","text":"Optopsy \u6839\u636e GPL-3.0 \u8bb8\u53ef\u8bc1\u53d1\u5e03\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 GitHub \u4ed3\u5e93 \u3002","title":"\u8bb8\u53ef\u8bc1"},{"location":"zh/api-reference/","text":"API \u53c2\u8003 \u00b6 Optopsy \u51fd\u6570\u7684\u5b8c\u6574 API \u6587\u6863\u3002 \u901a\u7528\u53c2\u6570 \u6240\u6709\u7b56\u7565\u51fd\u6570\u5171\u4eab\u901a\u7528\u53c2\u6570\u3002\u8bf7\u53c2\u9605\u4e0b\u9762\u7684 \u901a\u7528\u53c2\u6570 \u90e8\u5206,\u4e86\u89e3 max_entry_dte \u3001 exit_dte \u3001 max_otm_pct \u3001 min_bid_ask \u3001\u6ed1\u70b9\u8bbe\u7f6e\u7b49\u7684\u8be6\u7ec6\u6587\u6863\u3002 \u6570\u636e\u52a0\u8f7d \u00b6 csv_data \u00b6 \u4ece CSV \u6587\u4ef6\u52a0\u8f7d\u671f\u6743\u6570\u636e\u3002 optopsy.datafeeds.csv_data \u00b6 csv_data ( file_path : str , start_date : Optional [ str ] = None , end_date : Optional [ str ] = None , underlying_symbol : int = 0 , underlying_price : int = 1 , option_type : int = 2 , expiration : int = 3 , quote_date : int = 4 , strike : int = 5 , bid : int = 6 , ask : int = 7 , delta : Optional [ int ] = None , gamma : Optional [ int ] = None , theta : Optional [ int ] = None , vega : Optional [ int ] = None , volume : Optional [ int ] = None , open_interest : Optional [ int ] = None , ) -> pd . DataFrame Import option chain data from CSV files with standardized column names. Uses pandas DataFrame.read_csv function to import data from CSV files. Automatically generates standardized headers for library use. Parameters: Name Type Description Default file_path str Path to CSV file required start_date Optional [ str ] Optional start date of dataset to consider (inclusive) None end_date Optional [ str ] Optional end date of dataset to consider (inclusive) None underlying_symbol int Column index containing underlying symbol 0 underlying_price int Column index containing underlying stock price 1 quote_date int Column index containing quote date 4 expiration int Column index containing expiration date 3 strike int Column index containing strike price 5 option_type int Column index containing option type (call/put) 2 bid int Column index containing bid price 6 ask int Column index containing ask price 7 delta Optional [ int ] Optional column index containing delta Greek None gamma Optional [ int ] Optional column index containing gamma Greek None theta Optional [ int ] Optional column index containing theta Greek None vega Optional [ int ] Optional column index containing vega Greek None volume Optional [ int ] Optional column index containing trading volume (used by liquidity slippage) None open_interest Optional [ int ] Optional column index containing open interest (reserved for future use) None Returns: Type Description DataFrame DataFrame with option chains and standardized column names Raises: Type Description FileNotFoundError If CSV file doesn't exist at specified path ValueError If CSV file is empty, has parsing errors, column mapping errors, or other data processing issues \u5355\u817f\u7b56\u7565 \u00b6 Note \u6240\u6709\u5355\u817f\u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u3002 long_calls \u00b6 optopsy.strategies.long_calls \u00b6 long_calls ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long call strategy statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters (see StrategyParams) {} Returns: Type Description DataFrame DataFrame with long call strategy performance statistics short_calls \u00b6 optopsy.strategies.short_calls \u00b6 short_calls ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short call strategy statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short call strategy performance statistics long_puts \u00b6 optopsy.strategies.long_puts \u00b6 long_puts ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long put strategy statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long put strategy performance statistics short_puts \u00b6 optopsy.strategies.short_puts \u00b6 short_puts ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short put strategy statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short put strategy performance statistics Straddles & Strangles \u00b6 Note \u6240\u6709 straddle/strangle \u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u3002 long_straddles \u00b6 optopsy.strategies.long_straddles \u00b6 long_straddles ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long straddle strategy statistics (long call + long put at same strike). Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long straddle strategy performance statistics short_straddles \u00b6 optopsy.strategies.short_straddles \u00b6 short_straddles ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short straddle strategy statistics (short call + short put at same strike). Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short straddle strategy performance statistics long_strangles \u00b6 optopsy.strategies.long_strangles \u00b6 long_strangles ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long strangle strategy statistics (long call + long put at different strikes). Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long strangle strategy performance statistics short_strangles \u00b6 optopsy.strategies.short_strangles \u00b6 short_strangles ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short strangle strategy statistics (short call + short put at different strikes). Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short strangle strategy performance statistics \u5782\u76f4\u4ef7\u5dee \u00b6 Note \u6240\u6709\u5782\u76f4\u4ef7\u5dee\u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u3002 long_call_spread \u00b6 optopsy.strategies.long_call_spread \u00b6 long_call_spread ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long call spread (bull call spread) statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long call spread strategy performance statistics short_call_spread \u00b6 optopsy.strategies.short_call_spread \u00b6 short_call_spread ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short call spread (bear call spread) statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short call spread strategy performance statistics long_put_spread \u00b6 optopsy.strategies.long_put_spread \u00b6 long_put_spread ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long put spread (bear put spread) statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long put spread strategy performance statistics short_put_spread \u00b6 optopsy.strategies.short_put_spread \u00b6 short_put_spread ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short put spread (bull put spread) statistics. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short put spread strategy performance statistics \u8776\u5f0f\u4ef7\u5dee \u00b6 Note \u6240\u6709\u8776\u5f0f\u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u3002 long_call_butterfly \u00b6 optopsy.strategies.long_call_butterfly \u00b6 long_call_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long call butterfly strategy statistics. A long call butterfly consists of: - Long 1 call at lower strike (wing) - Short 2 calls at middle strike (body) - Long 1 call at upper strike (wing) This is a neutral strategy that profits when the underlying stays near the middle strike at expiration. Maximum profit occurs at the middle strike. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long call butterfly strategy performance statistics short_call_butterfly \u00b6 optopsy.strategies.short_call_butterfly \u00b6 short_call_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short call butterfly strategy statistics. A short call butterfly consists of: - Short 1 call at lower strike (wing) - Long 2 calls at middle strike (body) - Short 1 call at upper strike (wing) This strategy profits when the underlying moves significantly away from the middle strike in either direction. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short call butterfly strategy performance statistics long_put_butterfly \u00b6 optopsy.strategies.long_put_butterfly \u00b6 long_put_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long put butterfly strategy statistics. A long put butterfly consists of: - Long 1 put at lower strike (wing) - Short 2 puts at middle strike (body) - Long 1 put at upper strike (wing) This is a neutral strategy that profits when the underlying stays near the middle strike at expiration. Maximum profit occurs at the middle strike. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long put butterfly strategy performance statistics short_put_butterfly \u00b6 optopsy.strategies.short_put_butterfly \u00b6 short_put_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short put butterfly strategy statistics. A short put butterfly consists of: - Short 1 put at lower strike (wing) - Long 2 puts at middle strike (body) - Short 1 put at upper strike (wing) This strategy profits when the underlying moves significantly away from the middle strike in either direction. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short put butterfly strategy performance statistics Iron \u7b56\u7565 \u00b6 Note \u6240\u6709 iron \u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u3002 iron_condor \u00b6 optopsy.strategies.iron_condor \u00b6 iron_condor ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate iron condor strategy statistics. An iron condor consists of: - Long 1 put at lowest strike (protection) - Short 1 put at lower-middle strike (income) - Short 1 call at upper-middle strike (income) - Long 1 call at highest strike (protection) This is a neutral income strategy that profits when the underlying stays between the two short strikes. Maximum profit is the net credit received. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with iron condor strategy performance statistics reverse_iron_condor \u00b6 optopsy.strategies.reverse_iron_condor \u00b6 reverse_iron_condor ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate reverse iron condor strategy statistics. A reverse iron condor consists of: - Short 1 put at lowest strike - Long 1 put at lower-middle strike - Long 1 call at upper-middle strike - Short 1 call at highest strike This strategy profits when the underlying makes a significant move in either direction. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with reverse iron condor strategy performance statistics iron_butterfly \u00b6 optopsy.strategies.iron_butterfly \u00b6 iron_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate iron butterfly strategy statistics. An iron butterfly consists of: - Long 1 put at lowest strike (wing) - Short 1 put at middle strike (body) - Short 1 call at middle strike (body) - same strike as short put - Long 1 call at highest strike (wing) This is a neutral income strategy with higher profit potential than an iron condor, but a narrower profit zone. Maximum profit occurs when the underlying is exactly at the middle strike at expiration. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with iron butterfly strategy performance statistics reverse_iron_butterfly \u00b6 optopsy.strategies.reverse_iron_butterfly \u00b6 reverse_iron_butterfly ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate reverse iron butterfly strategy statistics. A reverse iron butterfly consists of: - Short 1 put at lowest strike (wing) - Long 1 put at middle strike (body) - Long 1 call at middle strike (body) - same strike as long put - Short 1 call at highest strike (wing) This strategy profits when the underlying makes a significant move away from the middle strike in either direction. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with reverse iron butterfly strategy performance statistics \u5907\u5151\u7b56\u7565 \u00b6 Note \u6240\u6709\u5907\u5151\u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u3002 covered_call \u00b6 optopsy.strategies.covered_call \u00b6 covered_call ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate covered call strategy statistics. A covered call consists of: - Long underlying position (simulated via long deep ITM call) - Short 1 call at higher strike This is an income strategy that profits from time decay on the short call while maintaining upside exposure up to the short strike. The long deep ITM call acts as a synthetic long stock position. Note: This implementation uses a synthetic approach with options only. For true covered call analysis with actual stock positions, additional data integration would be required. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with covered call strategy performance statistics protective_put \u00b6 optopsy.strategies.protective_put \u00b6 protective_put ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate protective put (married put) strategy statistics. A protective put consists of: - Long underlying position (simulated via long deep ITM call) - Long 1 put at lower strike for protection This strategy provides downside protection while maintaining upside potential. The long deep ITM call acts as a synthetic long stock position. Note: This implementation uses a synthetic approach with options only. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with protective put strategy performance statistics \u65e5\u5386\u4ef7\u5dee \u00b6 Note \u65e5\u5386\u4ef7\u5dee\u9664\u4e86\u901a\u7528\u53c2\u6570\u5916,\u8fd8\u6709\u989d\u5916\u7684\u65f6\u95f4\u53c2\u6570( front_dte_min \u3001 front_dte_max \u3001 back_dte_min \u3001 back_dte_max )\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u548c Calendar/Diagonal \u53c2\u6570 \u3002 long_call_calendar \u00b6 optopsy.strategies.long_call_calendar \u00b6 long_call_calendar ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long call calendar spread strategy statistics. A long call calendar consists of: - Short 1 front-month call (near-term expiration) - Long 1 back-month call (longer-term expiration) - Both at the same strike This is a neutral strategy that profits from time decay differential between the two expirations. Maximum profit occurs when the underlying is at the strike price at front-month expiration. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters including: - front_dte_min: Minimum DTE for front leg (default: 20) - front_dte_max: Maximum DTE for front leg (default: 40) - back_dte_min: Minimum DTE for back leg (default: 50) - back_dte_max: Maximum DTE for back leg (default: 90) - exit_dte: Days before front expiration to exit (default: 7) {} Returns: Type Description DataFrame DataFrame with long call calendar spread strategy performance statistics short_call_calendar \u00b6 optopsy.strategies.short_call_calendar \u00b6 short_call_calendar ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short call calendar spread strategy statistics. A short call calendar consists of: - Long 1 front-month call (near-term expiration) - Short 1 back-month call (longer-term expiration) - Both at the same strike This strategy profits when the underlying moves significantly away from the strike price before front-month expiration. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short call calendar spread strategy performance statistics long_put_calendar \u00b6 optopsy.strategies.long_put_calendar \u00b6 long_put_calendar ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long put calendar spread strategy statistics. A long put calendar consists of: - Short 1 front-month put (near-term expiration) - Long 1 back-month put (longer-term expiration) - Both at the same strike This is a neutral strategy that profits from time decay differential between the two expirations. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long put calendar spread strategy performance statistics short_put_calendar \u00b6 optopsy.strategies.short_put_calendar \u00b6 short_put_calendar ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short put calendar spread strategy statistics. A short put calendar consists of: - Long 1 front-month put (near-term expiration) - Short 1 back-month put (longer-term expiration) - Both at the same strike This strategy profits when the underlying moves significantly away from the strike price before front-month expiration. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short put calendar spread strategy performance statistics \u5bf9\u89d2\u4ef7\u5dee \u00b6 Note \u5bf9\u89d2\u4ef7\u5dee\u9664\u4e86\u901a\u7528\u53c2\u6570\u5916,\u8fd8\u6709\u989d\u5916\u7684\u65f6\u95f4\u53c2\u6570( front_dte_min \u3001 front_dte_max \u3001 back_dte_min \u3001 back_dte_max )\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u548c Calendar/Diagonal \u53c2\u6570 \u3002 long_call_diagonal \u00b6 optopsy.strategies.long_call_diagonal \u00b6 long_call_diagonal ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long call diagonal spread strategy statistics. A long call diagonal consists of: - Short 1 front-month call (near-term expiration) - Long 1 back-month call (longer-term expiration) - Different strikes for each leg This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long call diagonal spread strategy performance statistics short_call_diagonal \u00b6 optopsy.strategies.short_call_diagonal \u00b6 short_call_diagonal ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short call diagonal spread strategy statistics. A short call diagonal consists of: - Long 1 front-month call (near-term expiration) - Short 1 back-month call (longer-term expiration) - Different strikes for each leg This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short call diagonal spread strategy performance statistics long_put_diagonal \u00b6 optopsy.strategies.long_put_diagonal \u00b6 long_put_diagonal ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate long put diagonal spread strategy statistics. A long put diagonal consists of: - Short 1 front-month put (near-term expiration) - Long 1 back-month put (longer-term expiration) - Different strikes for each leg This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with long put diagonal spread strategy performance statistics short_put_diagonal \u00b6 optopsy.strategies.short_put_diagonal \u00b6 short_put_diagonal ( data : DataFrame , ** kwargs : Unpack [ StrategyParams ] ) -> pd . DataFrame Generate short put diagonal spread strategy statistics. A short put diagonal consists of: - Long 1 front-month put (near-term expiration) - Short 1 back-month put (longer-term expiration) - Different strikes for each leg This strategy combines elements of a calendar spread and a vertical spread. All strike combinations are evaluated. Parameters: Name Type Description Default data DataFrame DataFrame containing option chain data required **kwargs Unpack [ StrategyParams ] Optional strategy parameters {} Returns: Type Description DataFrame DataFrame with short put diagonal spread strategy performance statistics \u901a\u7528\u53c2\u6570 \u00b6 \u6240\u6709\u7b56\u7565\u51fd\u6570\u90fd\u63a5\u53d7\u8fd9\u4e9b\u901a\u7528\u53c2\u6570: \u65f6\u95f4\u53c2\u6570 \u00b6 max_entry_dte (int, \u9ed8\u8ba4=90): \u8fdb\u573a\u65f6\u7684\u6700\u5927\u5230\u671f\u5929\u6570 exit_dte (int, \u9ed8\u8ba4=0): \u51fa\u573a\u65f6\u7684\u5230\u671f\u5929\u6570 dte_interval (int, \u9ed8\u8ba4=7): DTE \u8303\u56f4\u7684\u5206\u7ec4\u95f4\u9694 \u8fc7\u6ee4\u53c2\u6570 \u00b6 max_otm_pct (float, \u9ed8\u8ba4=0.5): \u6700\u5927\u865a\u503c\u767e\u5206\u6bd4 otm_pct_interval (float, \u9ed8\u8ba4=0.05): OTM \u8303\u56f4\u7684\u5206\u7ec4\u95f4\u9694 min_bid_ask (float, \u9ed8\u8ba4=0.05): \u6700\u5c0f\u4e70\u5356\u4ef7\u5dee\u8fc7\u6ee4\u5668 Greeks \u53c2\u6570 \u00b6 delta_min (float, \u53ef\u9009): \u6700\u5c0f delta \u8fc7\u6ee4\u5668 delta_max (float, \u53ef\u9009): \u6700\u5927 delta \u8fc7\u6ee4\u5668 delta_interval (float, \u53ef\u9009): delta \u8303\u56f4\u7684\u5206\u7ec4\u95f4\u9694 \u6ed1\u70b9\u53c2\u6570 \u00b6 slippage (str, \u9ed8\u8ba4='mid'): \u6ed1\u70b9\u6a21\u5f0f - 'mid'\u3001'spread' \u6216 'liquidity' fill_ratio (float, \u9ed8\u8ba4=0.5): liquidity \u6a21\u5f0f\u7684\u6210\u4ea4\u6bd4\u7387(0.0-1.0) reference_volume (int, \u9ed8\u8ba4=1000): \u6d41\u52a8\u671f\u6743\u7684\u6210\u4ea4\u91cf\u9608\u503c \u8f93\u51fa\u53c2\u6570 \u00b6 raw (bool, \u9ed8\u8ba4=False): \u8fd4\u56de\u539f\u59cb\u4ea4\u6613\u6570\u636e\u800c\u4e0d\u662f\u805a\u5408\u7edf\u8ba1 drop_nan (bool, \u9ed8\u8ba4=True): \u5220\u9664\u5305\u542b NaN \u503c\u7684\u884c Calendar/Diagonal \u53c2\u6570 \u00b6 \u8fd9\u4e9b\u7b56\u7565\u6709\u989d\u5916\u7684\u65f6\u95f4\u53c2\u6570: front_dte_min (int, \u9ed8\u8ba4=20): \u524d\u6708\u817f\u7684\u6700\u5c0f DTE front_dte_max (int, \u9ed8\u8ba4=40): \u524d\u6708\u817f\u7684\u6700\u5927 DTE back_dte_min (int, \u9ed8\u8ba4=50): \u540e\u6708\u817f\u7684\u6700\u5c0f DTE back_dte_max (int, \u9ed8\u8ba4=90): \u540e\u6708\u817f\u7684\u6700\u5927 DTE \u8fd4\u56de\u503c \u00b6 \u805a\u5408\u7ed3\u679c(\u9ed8\u8ba4) \u00b6 \u5f53 raw=False (\u9ed8\u8ba4)\u65f6,\u7b56\u7565\u8fd4\u56de\u805a\u5408\u7edf\u8ba1: \u5217: - dte_range : DTE \u95f4\u9694\u7ec4 - otm_pct_range : OTM \u767e\u5206\u6bd4\u95f4\u9694\u7ec4 - count : \u7ec4\u4e2d\u7684\u4ea4\u6613\u6570\u91cf - mean : \u5e73\u5747\u6536\u76ca - std : \u6536\u76ca\u6807\u51c6\u5dee - min : \u6700\u5c0f\u6536\u76ca - 25% : \u7b2c 25 \u767e\u5206\u4f4d - 50% : \u4e2d\u4f4d\u6536\u76ca - 75% : \u7b2c 75 \u767e\u5206\u4f4d - max : \u6700\u5927\u6536\u76ca \u539f\u59cb\u4ea4\u6613\u6570\u636e \u00b6 \u5f53 raw=True \u65f6,\u7b56\u7565\u8fd4\u56de\u5355\u4e2a\u4ea4\u6613\u8be6\u60c5: \u5217(\u56e0\u7b56\u7565\u800c\u5f02): - underlying_symbol : \u80a1\u7968\u4ee3\u7801 - expiration : \u671f\u6743\u5230\u671f\u65e5 - dte_entry : \u8fdb\u573a\u65f6\u7684\u5230\u671f\u5929\u6570 - strike / strike_leg1 \u3001 strike_leg2 \u7b49: \u884c\u6743\u4ef7 - entry : \u8fdb\u573a\u4ef7\u683c/\u6210\u672c - exit : \u51fa\u573a\u4ef7\u683c/\u6536\u76ca - pct_change : \u767e\u5206\u6bd4\u6536\u76ca - \u5176\u4ed6\u7279\u5b9a\u4e8e\u7b56\u7565\u7684\u5217 \u793a\u4f8b \u00b6 \u8be6\u7ec6\u4f7f\u7528\u793a\u4f8b\u8bf7\u53c2\u9605 \u793a\u4f8b\u9875\u9762 \u3002 \u7c7b\u578b\u63d0\u793a \u00b6 \u6240\u6709\u51fd\u6570\u90fd\u5305\u542b\u5b8c\u6574\u7684\u7c7b\u578b\u63d0\u793a,\u4f7f\u7528 TypedDict \u63d0\u4f9b IDE \u81ea\u52a8\u5b8c\u6210\u652f\u6301: import pandas as pd from typing_extensions import Unpack from optopsy import StrategyParams def long_calls ( data : pd . DataFrame , ** kwargs : Unpack [ StrategyParams ]) -> pd . DataFrame : ... \u4f7f\u7528\u7c7b\u578b\u63d0\u793a \u00b6 \u5bfc\u5165 StrategyParams \u6216 CalendarStrategyParams \u4ee5\u83b7\u5f97\u66f4\u597d\u7684 IDE \u652f\u6301: import optopsy as op from optopsy import StrategyParams # \u60a8\u7684 IDE \u73b0\u5728\u5c06\u4e3a\u6240\u6709\u53c2\u6570\u63d0\u4f9b\u81ea\u52a8\u5b8c\u6210 results = op . iron_condor ( data , max_entry_dte = 45 , # \u7c7b\u578b: int exit_dte = 21 , # \u7c7b\u578b: int slippage = 'liquidity' , # \u7c7b\u578b: Literal['mid', 'spread', 'liquidity'] fill_ratio = 0.5 , # \u7c7b\u578b: float ) \u6709\u5173\u5728 Optopsy \u4e2d\u4f7f\u7528\u7c7b\u578b\u63d0\u793a\u7684\u8be6\u7ec6\u6587\u6863,\u8bf7\u53c2\u9605 TYPE_HINTS.md \u3002","title":"API \u53c2\u8003"},{"location":"zh/api-reference/#api","text":"Optopsy \u51fd\u6570\u7684\u5b8c\u6574 API \u6587\u6863\u3002 \u901a\u7528\u53c2\u6570 \u6240\u6709\u7b56\u7565\u51fd\u6570\u5171\u4eab\u901a\u7528\u53c2\u6570\u3002\u8bf7\u53c2\u9605\u4e0b\u9762\u7684 \u901a\u7528\u53c2\u6570 \u90e8\u5206,\u4e86\u89e3 max_entry_dte \u3001 exit_dte \u3001 max_otm_pct \u3001 min_bid_ask \u3001\u6ed1\u70b9\u8bbe\u7f6e\u7b49\u7684\u8be6\u7ec6\u6587\u6863\u3002","title":"API \u53c2\u8003"},{"location":"zh/api-reference/#_1","text":"","title":"\u6570\u636e\u52a0\u8f7d"},{"location":"zh/api-reference/#csv_data","text":"\u4ece CSV \u6587\u4ef6\u52a0\u8f7d\u671f\u6743\u6570\u636e\u3002","title":"csv_data"},{"location":"zh/api-reference/#_2","text":"Note \u6240\u6709\u5355\u817f\u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u3002","title":"\u5355\u817f\u7b56\u7565"},{"location":"zh/api-reference/#straddles-strangles","text":"Note \u6240\u6709 straddle/strangle \u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u3002","title":"Straddles &amp; Strangles"},{"location":"zh/api-reference/#_3","text":"Note \u6240\u6709\u5782\u76f4\u4ef7\u5dee\u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u3002","title":"\u5782\u76f4\u4ef7\u5dee"},{"location":"zh/api-reference/#_4","text":"Note \u6240\u6709\u8776\u5f0f\u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u3002","title":"\u8776\u5f0f\u4ef7\u5dee"},{"location":"zh/api-reference/#iron","text":"Note \u6240\u6709 iron \u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u3002","title":"Iron \u7b56\u7565"},{"location":"zh/api-reference/#_5","text":"Note \u6240\u6709\u5907\u5151\u7b56\u7565\u63a5\u53d7\u76f8\u540c\u7684\u53c2\u6570\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u3002","title":"\u5907\u5151\u7b56\u7565"},{"location":"zh/api-reference/#_6","text":"Note \u65e5\u5386\u4ef7\u5dee\u9664\u4e86\u901a\u7528\u53c2\u6570\u5916,\u8fd8\u6709\u989d\u5916\u7684\u65f6\u95f4\u53c2\u6570( front_dte_min \u3001 front_dte_max \u3001 back_dte_min \u3001 back_dte_max )\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u548c Calendar/Diagonal \u53c2\u6570 \u3002","title":"\u65e5\u5386\u4ef7\u5dee"},{"location":"zh/api-reference/#_7","text":"Note \u5bf9\u89d2\u4ef7\u5dee\u9664\u4e86\u901a\u7528\u53c2\u6570\u5916,\u8fd8\u6709\u989d\u5916\u7684\u65f6\u95f4\u53c2\u6570( front_dte_min \u3001 front_dte_max \u3001 back_dte_min \u3001 back_dte_max )\u3002\u5b8c\u6574\u6587\u6863\u8bf7\u53c2\u9605 \u901a\u7528\u53c2\u6570 \u548c Calendar/Diagonal \u53c2\u6570 \u3002","title":"\u5bf9\u89d2\u4ef7\u5dee"},{"location":"zh/api-reference/#_8","text":"\u6240\u6709\u7b56\u7565\u51fd\u6570\u90fd\u63a5\u53d7\u8fd9\u4e9b\u901a\u7528\u53c2\u6570:","title":"\u901a\u7528\u53c2\u6570"},{"location":"zh/api-reference/#_9","text":"max_entry_dte (int, \u9ed8\u8ba4=90): \u8fdb\u573a\u65f6\u7684\u6700\u5927\u5230\u671f\u5929\u6570 exit_dte (int, \u9ed8\u8ba4=0): \u51fa\u573a\u65f6\u7684\u5230\u671f\u5929\u6570 dte_interval (int, \u9ed8\u8ba4=7): DTE \u8303\u56f4\u7684\u5206\u7ec4\u95f4\u9694","title":"\u65f6\u95f4\u53c2\u6570"},{"location":"zh/api-reference/#_10","text":"max_otm_pct (float, \u9ed8\u8ba4=0.5): \u6700\u5927\u865a\u503c\u767e\u5206\u6bd4 otm_pct_interval (float, \u9ed8\u8ba4=0.05): OTM \u8303\u56f4\u7684\u5206\u7ec4\u95f4\u9694 min_bid_ask (float, \u9ed8\u8ba4=0.05): \u6700\u5c0f\u4e70\u5356\u4ef7\u5dee\u8fc7\u6ee4\u5668","title":"\u8fc7\u6ee4\u53c2\u6570"},{"location":"zh/api-reference/#greeks","text":"delta_min (float, \u53ef\u9009): \u6700\u5c0f delta \u8fc7\u6ee4\u5668 delta_max (float, \u53ef\u9009): \u6700\u5927 delta \u8fc7\u6ee4\u5668 delta_interval (float, \u53ef\u9009): delta \u8303\u56f4\u7684\u5206\u7ec4\u95f4\u9694","title":"Greeks \u53c2\u6570"},{"location":"zh/api-reference/#_11","text":"slippage (str, \u9ed8\u8ba4='mid'): \u6ed1\u70b9\u6a21\u5f0f - 'mid'\u3001'spread' \u6216 'liquidity' fill_ratio (float, \u9ed8\u8ba4=0.5): liquidity \u6a21\u5f0f\u7684\u6210\u4ea4\u6bd4\u7387(0.0-1.0) reference_volume (int, \u9ed8\u8ba4=1000): \u6d41\u52a8\u671f\u6743\u7684\u6210\u4ea4\u91cf\u9608\u503c","title":"\u6ed1\u70b9\u53c2\u6570"},{"location":"zh/api-reference/#_12","text":"raw (bool, \u9ed8\u8ba4=False): \u8fd4\u56de\u539f\u59cb\u4ea4\u6613\u6570\u636e\u800c\u4e0d\u662f\u805a\u5408\u7edf\u8ba1 drop_nan (bool, \u9ed8\u8ba4=True): \u5220\u9664\u5305\u542b NaN \u503c\u7684\u884c","title":"\u8f93\u51fa\u53c2\u6570"},{"location":"zh/api-reference/#calendardiagonal","text":"\u8fd9\u4e9b\u7b56\u7565\u6709\u989d\u5916\u7684\u65f6\u95f4\u53c2\u6570: front_dte_min (int, \u9ed8\u8ba4=20): \u524d\u6708\u817f\u7684\u6700\u5c0f DTE front_dte_max (int, \u9ed8\u8ba4=40): \u524d\u6708\u817f\u7684\u6700\u5927 DTE back_dte_min (int, \u9ed8\u8ba4=50): \u540e\u6708\u817f\u7684\u6700\u5c0f DTE back_dte_max (int, \u9ed8\u8ba4=90): \u540e\u6708\u817f\u7684\u6700\u5927 DTE","title":"Calendar/Diagonal \u53c2\u6570"},{"location":"zh/api-reference/#_13","text":"","title":"\u8fd4\u56de\u503c"},{"location":"zh/api-reference/#_14","text":"\u5f53 raw=False (\u9ed8\u8ba4)\u65f6,\u7b56\u7565\u8fd4\u56de\u805a\u5408\u7edf\u8ba1: \u5217: - dte_range : DTE \u95f4\u9694\u7ec4 - otm_pct_range : OTM \u767e\u5206\u6bd4\u95f4\u9694\u7ec4 - count : \u7ec4\u4e2d\u7684\u4ea4\u6613\u6570\u91cf - mean : \u5e73\u5747\u6536\u76ca - std : \u6536\u76ca\u6807\u51c6\u5dee - min : \u6700\u5c0f\u6536\u76ca - 25% : \u7b2c 25 \u767e\u5206\u4f4d - 50% : \u4e2d\u4f4d\u6536\u76ca - 75% : \u7b2c 75 \u767e\u5206\u4f4d - max : \u6700\u5927\u6536\u76ca","title":"\u805a\u5408\u7ed3\u679c(\u9ed8\u8ba4)"},{"location":"zh/api-reference/#_15","text":"\u5f53 raw=True \u65f6,\u7b56\u7565\u8fd4\u56de\u5355\u4e2a\u4ea4\u6613\u8be6\u60c5: \u5217(\u56e0\u7b56\u7565\u800c\u5f02): - underlying_symbol : \u80a1\u7968\u4ee3\u7801 - expiration : \u671f\u6743\u5230\u671f\u65e5 - dte_entry : \u8fdb\u573a\u65f6\u7684\u5230\u671f\u5929\u6570 - strike / strike_leg1 \u3001 strike_leg2 \u7b49: \u884c\u6743\u4ef7 - entry : \u8fdb\u573a\u4ef7\u683c/\u6210\u672c - exit : \u51fa\u573a\u4ef7\u683c/\u6536\u76ca - pct_change : \u767e\u5206\u6bd4\u6536\u76ca - \u5176\u4ed6\u7279\u5b9a\u4e8e\u7b56\u7565\u7684\u5217","title":"\u539f\u59cb\u4ea4\u6613\u6570\u636e"},{"location":"zh/api-reference/#_16","text":"\u8be6\u7ec6\u4f7f\u7528\u793a\u4f8b\u8bf7\u53c2\u9605 \u793a\u4f8b\u9875\u9762 \u3002","title":"\u793a\u4f8b"},{"location":"zh/api-reference/#_17","text":"\u6240\u6709\u51fd\u6570\u90fd\u5305\u542b\u5b8c\u6574\u7684\u7c7b\u578b\u63d0\u793a,\u4f7f\u7528 TypedDict \u63d0\u4f9b IDE \u81ea\u52a8\u5b8c\u6210\u652f\u6301: import pandas as pd from typing_extensions import Unpack from optopsy import StrategyParams def long_calls ( data : pd . DataFrame , ** kwargs : Unpack [ StrategyParams ]) -> pd . DataFrame : ...","title":"\u7c7b\u578b\u63d0\u793a"},{"location":"zh/api-reference/#_18","text":"\u5bfc\u5165 StrategyParams \u6216 CalendarStrategyParams \u4ee5\u83b7\u5f97\u66f4\u597d\u7684 IDE \u652f\u6301: import optopsy as op from optopsy import StrategyParams # \u60a8\u7684 IDE \u73b0\u5728\u5c06\u4e3a\u6240\u6709\u53c2\u6570\u63d0\u4f9b\u81ea\u52a8\u5b8c\u6210 results = op . iron_condor ( data , max_entry_dte = 45 , # \u7c7b\u578b: int exit_dte = 21 , # \u7c7b\u578b: int slippage = 'liquidity' , # \u7c7b\u578b: Literal['mid', 'spread', 'liquidity'] fill_ratio = 0.5 , # \u7c7b\u578b: float ) \u6709\u5173\u5728 Optopsy \u4e2d\u4f7f\u7528\u7c7b\u578b\u63d0\u793a\u7684\u8be6\u7ec6\u6587\u6863,\u8bf7\u53c2\u9605 TYPE_HINTS.md \u3002","title":"\u4f7f\u7528\u7c7b\u578b\u63d0\u793a"},{"location":"zh/examples/","text":"\u793a\u4f8b \u00b6 \u672c\u9875\u63d0\u4f9b\u4f7f\u7528 Optopsy \u8fdb\u884c\u671f\u6743\u56de\u6d4b\u7684\u5b9e\u9645\u793a\u4f8b\u3002 \u57fa\u7840\u793a\u4f8b \u00b6 \u7b80\u5355\u7684 Long Calls \u56de\u6d4b \u00b6 import optopsy as op # \u52a0\u8f7d\u6570\u636e data = op . csv_data ( 'SPX_2023.csv' ) # \u56de\u6d4b long calls results = op . long_calls ( data ) print ( results . head ()) \u81ea\u5b9a\u4e49\u53c2\u6570\u7684 Iron Condor \u00b6 results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 , min_bid_ask = 0.10 ) # \u8fc7\u6ee4\u51fa\u8868\u73b0\u6700\u4f73\u7684 DTE \u8303\u56f4 best_dte = results [ results [ 'mean' ] > 0.20 ] print ( best_dte ) \u9ad8\u7ea7\u793a\u4f8b \u00b6 Delta \u4e2d\u6027 Iron Condors \u00b6 \u9488\u5bf9\u7a7a\u5934\u884c\u6743\u4ef7\u7684\u7279\u5b9a delta \u8303\u56f4: results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , delta_min = 0.15 , # \u76ee\u6807 15-20 delta delta_max = 0.20 , delta_interval = 0.05 , min_bid_ask = 0.10 ) # \u6309 delta \u8303\u56f4\u5206\u6790 print ( results . groupby ( 'delta_range' )[ 'mean' ] . describe ()) \u8d22\u62a5 Straddle \u7b56\u7565 \u00b6 \u56de\u6d4b\u8d22\u62a5\u671f\u95f4\u7684 long straddles: # \u52a0\u8f7d\u8d22\u62a5\u65e5\u671f earnings_dates = [ '2023-01-15' , '2023-04-15' , '2023-07-15' , '2023-10-15' ] # \u8fc7\u6ee4\u8d22\u62a5\u5468\u56f4\u7684\u6570\u636e(\u00b17 \u5929) import pandas as pd data [ 'quote_date' ] = pd . to_datetime ( data [ 'quote_date' ]) earnings_data = [] for date in pd . to_datetime ( earnings_dates ): mask = ( data [ 'quote_date' ] >= date - pd . Timedelta ( days = 7 )) & \\ ( data [ 'quote_date' ] <= date + pd . Timedelta ( days = 7 )) earnings_data . append ( data [ mask ]) earnings_df = pd . concat ( earnings_data ) # \u56de\u6d4b straddles results = op . long_straddles ( earnings_df , max_entry_dte = 7 , # \u63d0\u524d 1 \u5468\u8fdb\u573a exit_dte = 0 , # \u6301\u6709\u81f3\u8d22\u62a5\u540e max_otm_pct = 0.05 # ATM straddles ) print ( results ) \u65f6\u95f4\u8870\u51cf\u5206\u6790 \u00b6 \u6bd4\u8f83 short strangles \u7684\u4e0d\u540c\u51fa\u573a\u65f6\u95f4: exit_times = [ 0 , 7 , 14 , 21 , 30 ] results_by_exit = {} for exit_dte in exit_times : results = op . short_strangles ( data , max_entry_dte = 45 , exit_dte = exit_dte , max_otm_pct = 0.30 ) results_by_exit [ exit_dte ] = results [ 'mean' ] . mean () # \u7ed8\u5236\u7ed3\u679c import matplotlib.pyplot as plt plt . bar ( exit_times , results_by_exit . values ()) plt . xlabel ( 'Exit DTE' ) plt . ylabel ( 'Mean Return' ) plt . title ( 'Short Strangle Returns by Exit Time' ) plt . show () \u6ed1\u70b9\u6bd4\u8f83 \u00b6 \u6bd4\u8f83\u4e0d\u540c\u7684\u6ed1\u70b9\u6a21\u578b: slippage_modes = [ 'mid' , 'spread' , 'liquidity' ] results_comparison = {} for mode in slippage_modes : results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , slippage = mode , fill_ratio = 0.5 , reference_volume = 1000 ) results_comparison [ mode ] = results [ 'mean' ] . mean () print ( \"Slippage Model Comparison:\" ) for mode , avg_return in results_comparison . items (): print ( f \" { mode } : { avg_return : .2% } \" ) \u6570\u636e\u5206\u6790\u793a\u4f8b \u00b6 \u539f\u59cb\u4ea4\u6613\u6570\u636e\u5206\u6790 \u00b6 \u83b7\u53d6\u5355\u4e2a\u4ea4\u6613\u8fdb\u884c\u81ea\u5b9a\u4e49\u5206\u6790: # \u83b7\u53d6\u539f\u59cb\u4ea4\u6613\u6570\u636e trades = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , raw = True # \u8fd4\u56de\u5355\u4e2a\u4ea4\u6613 ) # \u81ea\u5b9a\u4e49\u5206\u6790 import pandas as pd # \u80dc\u7387 win_rate = ( trades [ 'pct_change' ] > 0 ) . mean () print ( f \"Win Rate: { win_rate : .1% } \" ) # \u5e73\u5747\u76c8\u5229 vs \u5e73\u5747\u4e8f\u635f avg_winner = trades [ trades [ 'pct_change' ] > 0 ][ 'pct_change' ] . mean () avg_loser = trades [ trades [ 'pct_change' ] < 0 ][ 'pct_change' ] . mean () print ( f \"Avg Winner: { avg_winner : .2% } \" ) print ( f \"Avg Loser: { avg_loser : .2% } \" ) # \u76c8\u4e8f\u6bd4 total_profit = trades [ trades [ 'pct_change' ] > 0 ][ 'pct_change' ] . sum () total_loss = abs ( trades [ trades [ 'pct_change' ] < 0 ][ 'pct_change' ] . sum ()) profit_factor = total_profit / total_loss if total_loss > 0 else float ( 'inf' ) print ( f \"Profit Factor: { profit_factor : .2f } \" ) \u6708\u5ea6\u8868\u73b0 \u00b6 \u6309\u6708\u4efd\u5206\u6790\u7b56\u7565\u8868\u73b0: trades = op . short_puts ( data , raw = True ) # \u8f6c\u6362\u4e3a datetime trades [ 'entry_date' ] = pd . to_datetime ( trades [ 'quote_date' ]) trades [ 'month' ] = trades [ 'entry_date' ] . dt . to_period ( 'M' ) # \u6309\u6708\u5206\u7ec4 monthly_perf = trades . groupby ( 'month' ) . agg ({ 'pct_change' : [ 'count' , 'mean' , 'std' , 'sum' ] }) print ( monthly_perf ) \u884c\u6743\u4ef7\u9009\u62e9\u5206\u6790 \u00b6 \u6309 OTM \u767e\u5206\u6bd4\u5206\u6790\u8868\u73b0: results = op . short_puts ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.50 , otm_pct_interval = 0.05 ) # \u627e\u5230\u6700\u4f18 OTM \u8303\u56f4 optimal = results . loc [ results [ 'mean' ] . idxmax ()] print ( f \"Optimal OTM Range: { optimal [ 'otm_pct_range' ] } \" ) print ( f \"Mean Return: { optimal [ 'mean' ] : .2% } \" ) print ( f \"Count: { optimal [ 'count' ] : .0f } \" ) \u591a\u7b56\u7565\u6bd4\u8f83 \u00b6 \u6bd4\u8f83\u591a\u79cd\u7b56\u7565: strategies = { 'Long Calls' : op . long_calls , 'Short Puts' : op . short_puts , 'Iron Condor' : op . iron_condor , 'Long Straddle' : op . long_straddles } comparison = {} for name , strategy_func in strategies . items (): results = strategy_func ( data , max_entry_dte = 45 , exit_dte = 21 ) comparison [ name ] = { 'mean' : results [ 'mean' ] . mean (), 'std' : results [ 'std' ] . mean (), 'max' : results [ 'max' ] . max (), 'min' : results [ 'min' ] . min () } # \u663e\u793a\u6bd4\u8f83 df_comparison = pd . DataFrame ( comparison ) . T print ( df_comparison ) \u6295\u8d44\u7ec4\u5408\u6a21\u62df \u00b6 \u6a21\u62df\u591a\u7b56\u7565\u6295\u8d44\u7ec4\u5408: # \u5b9a\u4e49\u6295\u8d44\u7ec4\u5408\u914d\u7f6e portfolio = { 'iron_condor' : 0.50 , 'short_strangles' : 0.30 , 'long_call_spread' : 0.20 } # \u83b7\u53d6\u6bcf\u4e2a\u7b56\u7565\u7684\u539f\u59cb\u4ea4\u6613 trades = {} trades [ 'iron_condor' ] = op . iron_condor ( data , raw = True ) trades [ 'short_strangles' ] = op . short_strangles ( data , raw = True ) trades [ 'long_call_spread' ] = op . long_call_spread ( data , raw = True ) # \u6309\u914d\u7f6e\u52a0\u6743\u6536\u76ca for strategy , weight in portfolio . items (): trades [ strategy ][ 'weighted_return' ] = trades [ strategy ][ 'pct_change' ] * weight # \u5408\u5e76\u6240\u6709\u4ea4\u6613 all_trades = pd . concat ([ trades [ s ][[ 'quote_date' , 'weighted_return' ]] for s in portfolio . keys () ]) # \u6309\u65e5\u671f\u805a\u5408 portfolio_returns = all_trades . groupby ( 'quote_date' )[ 'weighted_return' ] . sum () print ( f \"Portfolio Mean Return: { portfolio_returns . mean () : .2% } \" ) print ( f \"Portfolio Std Dev: { portfolio_returns . std () : .2% } \" ) print ( f \"Sharpe Ratio (annualized): { ( portfolio_returns . mean () / portfolio_returns . std ()) * ( 252 ** 0.5 ) : .2f } \" ) \u6027\u80fd\u6307\u6807 \u00b6 \u8ba1\u7b97\u7efc\u5408\u6027\u80fd\u7edf\u8ba1: def calculate_metrics ( trades_df ): \"\"\"\u8ba1\u7b97\u7b56\u7565\u7684\u6027\u80fd\u6307\u6807\u3002\"\"\" returns = trades_df [ 'pct_change' ] metrics = { 'Total Trades' : len ( returns ), 'Win Rate' : ( returns > 0 ) . mean (), 'Mean Return' : returns . mean (), 'Median Return' : returns . median (), 'Std Dev' : returns . std (), 'Max Win' : returns . max (), 'Max Loss' : returns . min (), 'Profit Factor' : returns [ returns > 0 ] . sum () / abs ( returns [ returns < 0 ] . sum ()), 'Sharpe Ratio' : returns . mean () / returns . std () if returns . std () > 0 else 0 } return pd . Series ( metrics ) # \u5e94\u7528\u4e8e\u7b56\u7565 trades = op . iron_condor ( data , raw = True ) metrics = calculate_metrics ( trades ) print ( metrics ) \u5904\u7406\u4e0d\u540c\u6570\u636e\u6e90 \u00b6 \u5386\u53f2\u671f\u6743\u6570\u636e\u63d0\u4f9b\u5546 \u00b6 # \u793a\u4f8b: \u4ece\u4e0d\u540c CSV \u683c\u5f0f\u52a0\u8f7d # \u683c\u5f0f 1: CBOE \u6570\u636e\u5bfc\u51fa data = op . csv_data ( 'cboe_spx.csv' , underlying_symbol = 'underlying_symbol' , underlying_price = 'underlying_bid_1545' , option_type = 'option_type' , expiration = 'expiration' , quote_date = 'quote_date' , strike = 'strike' , bid = 'bid' , ask = 'ask' ) # \u683c\u5f0f 2: \u7d22\u5f15\u5217 data = op . csv_data ( 'provider_data.csv' , underlying_symbol = 0 , underlying_price = 1 , option_type = 2 , expiration = 3 , quote_date = 4 , strike = 5 , bid = 6 , ask = 7 ) \u6700\u4f73\u5b9e\u8df5 \u00b6 1. \u59cb\u7ec8\u4f7f\u7528\u8fc7\u6ee4\u5668 \u00b6 # \u4e0d\u597d: \u6ca1\u6709\u8fc7\u6ee4 results = op . iron_condor ( data ) # \u597d: \u8fc7\u6ee4\u4ee5\u786e\u4fdd\u8d28\u91cf results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , min_bid_ask = 0.10 , # \u786e\u4fdd\u6d41\u52a8\u6027 max_otm_pct = 0.30 ) 2. \u6bd4\u8f83\u540c\u7c7b\u4e8b\u7269 \u00b6 # \u6bd4\u8f83\u7b56\u7565\u65f6\u4f7f\u7528\u76f8\u540c\u53c2\u6570 params = { 'max_entry_dte' : 45 , 'exit_dte' : 21 , 'max_otm_pct' : 0.25 } ic_results = op . iron_condor ( data , ** params ) strangle_results = op . short_strangles ( data , ** params ) 3. \u73b0\u5b9e\u7684\u6ed1\u70b9 \u00b6 # \u4f7f\u7528 liquidity \u6a21\u5f0f\u83b7\u5f97\u73b0\u5b9e\u7ed3\u679c results = op . iron_condor ( data , slippage = 'liquidity' , fill_ratio = 0.5 , reference_volume = 1000 ) \u4e0b\u4e00\u6b65 \u00b6 \u67e5\u770b \u7b56\u7565\u6587\u6863 \u4e86\u89e3\u7279\u5b9a\u7b56\u7565\u8be6\u60c5 \u67e5\u770b \u53c2\u6570 \u4e86\u89e3\u6240\u6709\u914d\u7f6e\u9009\u9879 \u67e5\u9605 API \u53c2\u8003 \u4e86\u89e3\u51fd\u6570\u7b7e\u540d \u63a2\u7d22\u4ee3\u7801\u4ed3\u5e93\u4e2d\u7684 samples/ \u76ee\u5f55\u83b7\u53d6\u66f4\u591a\u793a\u4f8b","title":"\u793a\u4f8b"},{"location":"zh/examples/#_1","text":"\u672c\u9875\u63d0\u4f9b\u4f7f\u7528 Optopsy \u8fdb\u884c\u671f\u6743\u56de\u6d4b\u7684\u5b9e\u9645\u793a\u4f8b\u3002","title":"\u793a\u4f8b"},{"location":"zh/examples/#_2","text":"","title":"\u57fa\u7840\u793a\u4f8b"},{"location":"zh/examples/#long-calls","text":"import optopsy as op # \u52a0\u8f7d\u6570\u636e data = op . csv_data ( 'SPX_2023.csv' ) # \u56de\u6d4b long calls results = op . long_calls ( data ) print ( results . head ())","title":"\u7b80\u5355\u7684 Long Calls \u56de\u6d4b"},{"location":"zh/examples/#iron-condor","text":"results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 , min_bid_ask = 0.10 ) # \u8fc7\u6ee4\u51fa\u8868\u73b0\u6700\u4f73\u7684 DTE \u8303\u56f4 best_dte = results [ results [ 'mean' ] > 0.20 ] print ( best_dte )","title":"\u81ea\u5b9a\u4e49\u53c2\u6570\u7684 Iron Condor"},{"location":"zh/examples/#_3","text":"","title":"\u9ad8\u7ea7\u793a\u4f8b"},{"location":"zh/examples/#delta-iron-condors","text":"\u9488\u5bf9\u7a7a\u5934\u884c\u6743\u4ef7\u7684\u7279\u5b9a delta \u8303\u56f4: results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , delta_min = 0.15 , # \u76ee\u6807 15-20 delta delta_max = 0.20 , delta_interval = 0.05 , min_bid_ask = 0.10 ) # \u6309 delta \u8303\u56f4\u5206\u6790 print ( results . groupby ( 'delta_range' )[ 'mean' ] . describe ())","title":"Delta \u4e2d\u6027 Iron Condors"},{"location":"zh/examples/#straddle","text":"\u56de\u6d4b\u8d22\u62a5\u671f\u95f4\u7684 long straddles: # \u52a0\u8f7d\u8d22\u62a5\u65e5\u671f earnings_dates = [ '2023-01-15' , '2023-04-15' , '2023-07-15' , '2023-10-15' ] # \u8fc7\u6ee4\u8d22\u62a5\u5468\u56f4\u7684\u6570\u636e(\u00b17 \u5929) import pandas as pd data [ 'quote_date' ] = pd . to_datetime ( data [ 'quote_date' ]) earnings_data = [] for date in pd . to_datetime ( earnings_dates ): mask = ( data [ 'quote_date' ] >= date - pd . Timedelta ( days = 7 )) & \\ ( data [ 'quote_date' ] <= date + pd . Timedelta ( days = 7 )) earnings_data . append ( data [ mask ]) earnings_df = pd . concat ( earnings_data ) # \u56de\u6d4b straddles results = op . long_straddles ( earnings_df , max_entry_dte = 7 , # \u63d0\u524d 1 \u5468\u8fdb\u573a exit_dte = 0 , # \u6301\u6709\u81f3\u8d22\u62a5\u540e max_otm_pct = 0.05 # ATM straddles ) print ( results )","title":"\u8d22\u62a5 Straddle \u7b56\u7565"},{"location":"zh/examples/#_4","text":"\u6bd4\u8f83 short strangles \u7684\u4e0d\u540c\u51fa\u573a\u65f6\u95f4: exit_times = [ 0 , 7 , 14 , 21 , 30 ] results_by_exit = {} for exit_dte in exit_times : results = op . short_strangles ( data , max_entry_dte = 45 , exit_dte = exit_dte , max_otm_pct = 0.30 ) results_by_exit [ exit_dte ] = results [ 'mean' ] . mean () # \u7ed8\u5236\u7ed3\u679c import matplotlib.pyplot as plt plt . bar ( exit_times , results_by_exit . values ()) plt . xlabel ( 'Exit DTE' ) plt . ylabel ( 'Mean Return' ) plt . title ( 'Short Strangle Returns by Exit Time' ) plt . show ()","title":"\u65f6\u95f4\u8870\u51cf\u5206\u6790"},{"location":"zh/examples/#_5","text":"\u6bd4\u8f83\u4e0d\u540c\u7684\u6ed1\u70b9\u6a21\u578b: slippage_modes = [ 'mid' , 'spread' , 'liquidity' ] results_comparison = {} for mode in slippage_modes : results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , slippage = mode , fill_ratio = 0.5 , reference_volume = 1000 ) results_comparison [ mode ] = results [ 'mean' ] . mean () print ( \"Slippage Model Comparison:\" ) for mode , avg_return in results_comparison . items (): print ( f \" { mode } : { avg_return : .2% } \" )","title":"\u6ed1\u70b9\u6bd4\u8f83"},{"location":"zh/examples/#_6","text":"","title":"\u6570\u636e\u5206\u6790\u793a\u4f8b"},{"location":"zh/examples/#_7","text":"\u83b7\u53d6\u5355\u4e2a\u4ea4\u6613\u8fdb\u884c\u81ea\u5b9a\u4e49\u5206\u6790: # \u83b7\u53d6\u539f\u59cb\u4ea4\u6613\u6570\u636e trades = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , raw = True # \u8fd4\u56de\u5355\u4e2a\u4ea4\u6613 ) # \u81ea\u5b9a\u4e49\u5206\u6790 import pandas as pd # \u80dc\u7387 win_rate = ( trades [ 'pct_change' ] > 0 ) . mean () print ( f \"Win Rate: { win_rate : .1% } \" ) # \u5e73\u5747\u76c8\u5229 vs \u5e73\u5747\u4e8f\u635f avg_winner = trades [ trades [ 'pct_change' ] > 0 ][ 'pct_change' ] . mean () avg_loser = trades [ trades [ 'pct_change' ] < 0 ][ 'pct_change' ] . mean () print ( f \"Avg Winner: { avg_winner : .2% } \" ) print ( f \"Avg Loser: { avg_loser : .2% } \" ) # \u76c8\u4e8f\u6bd4 total_profit = trades [ trades [ 'pct_change' ] > 0 ][ 'pct_change' ] . sum () total_loss = abs ( trades [ trades [ 'pct_change' ] < 0 ][ 'pct_change' ] . sum ()) profit_factor = total_profit / total_loss if total_loss > 0 else float ( 'inf' ) print ( f \"Profit Factor: { profit_factor : .2f } \" )","title":"\u539f\u59cb\u4ea4\u6613\u6570\u636e\u5206\u6790"},{"location":"zh/examples/#_8","text":"\u6309\u6708\u4efd\u5206\u6790\u7b56\u7565\u8868\u73b0: trades = op . short_puts ( data , raw = True ) # \u8f6c\u6362\u4e3a datetime trades [ 'entry_date' ] = pd . to_datetime ( trades [ 'quote_date' ]) trades [ 'month' ] = trades [ 'entry_date' ] . dt . to_period ( 'M' ) # \u6309\u6708\u5206\u7ec4 monthly_perf = trades . groupby ( 'month' ) . agg ({ 'pct_change' : [ 'count' , 'mean' , 'std' , 'sum' ] }) print ( monthly_perf )","title":"\u6708\u5ea6\u8868\u73b0"},{"location":"zh/examples/#_9","text":"\u6309 OTM \u767e\u5206\u6bd4\u5206\u6790\u8868\u73b0: results = op . short_puts ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.50 , otm_pct_interval = 0.05 ) # \u627e\u5230\u6700\u4f18 OTM \u8303\u56f4 optimal = results . loc [ results [ 'mean' ] . idxmax ()] print ( f \"Optimal OTM Range: { optimal [ 'otm_pct_range' ] } \" ) print ( f \"Mean Return: { optimal [ 'mean' ] : .2% } \" ) print ( f \"Count: { optimal [ 'count' ] : .0f } \" )","title":"\u884c\u6743\u4ef7\u9009\u62e9\u5206\u6790"},{"location":"zh/examples/#_10","text":"\u6bd4\u8f83\u591a\u79cd\u7b56\u7565: strategies = { 'Long Calls' : op . long_calls , 'Short Puts' : op . short_puts , 'Iron Condor' : op . iron_condor , 'Long Straddle' : op . long_straddles } comparison = {} for name , strategy_func in strategies . items (): results = strategy_func ( data , max_entry_dte = 45 , exit_dte = 21 ) comparison [ name ] = { 'mean' : results [ 'mean' ] . mean (), 'std' : results [ 'std' ] . mean (), 'max' : results [ 'max' ] . max (), 'min' : results [ 'min' ] . min () } # \u663e\u793a\u6bd4\u8f83 df_comparison = pd . DataFrame ( comparison ) . T print ( df_comparison )","title":"\u591a\u7b56\u7565\u6bd4\u8f83"},{"location":"zh/examples/#_11","text":"\u6a21\u62df\u591a\u7b56\u7565\u6295\u8d44\u7ec4\u5408: # \u5b9a\u4e49\u6295\u8d44\u7ec4\u5408\u914d\u7f6e portfolio = { 'iron_condor' : 0.50 , 'short_strangles' : 0.30 , 'long_call_spread' : 0.20 } # \u83b7\u53d6\u6bcf\u4e2a\u7b56\u7565\u7684\u539f\u59cb\u4ea4\u6613 trades = {} trades [ 'iron_condor' ] = op . iron_condor ( data , raw = True ) trades [ 'short_strangles' ] = op . short_strangles ( data , raw = True ) trades [ 'long_call_spread' ] = op . long_call_spread ( data , raw = True ) # \u6309\u914d\u7f6e\u52a0\u6743\u6536\u76ca for strategy , weight in portfolio . items (): trades [ strategy ][ 'weighted_return' ] = trades [ strategy ][ 'pct_change' ] * weight # \u5408\u5e76\u6240\u6709\u4ea4\u6613 all_trades = pd . concat ([ trades [ s ][[ 'quote_date' , 'weighted_return' ]] for s in portfolio . keys () ]) # \u6309\u65e5\u671f\u805a\u5408 portfolio_returns = all_trades . groupby ( 'quote_date' )[ 'weighted_return' ] . sum () print ( f \"Portfolio Mean Return: { portfolio_returns . mean () : .2% } \" ) print ( f \"Portfolio Std Dev: { portfolio_returns . std () : .2% } \" ) print ( f \"Sharpe Ratio (annualized): { ( portfolio_returns . mean () / portfolio_returns . std ()) * ( 252 ** 0.5 ) : .2f } \" )","title":"\u6295\u8d44\u7ec4\u5408\u6a21\u62df"},{"location":"zh/examples/#_12","text":"\u8ba1\u7b97\u7efc\u5408\u6027\u80fd\u7edf\u8ba1: def calculate_metrics ( trades_df ): \"\"\"\u8ba1\u7b97\u7b56\u7565\u7684\u6027\u80fd\u6307\u6807\u3002\"\"\" returns = trades_df [ 'pct_change' ] metrics = { 'Total Trades' : len ( returns ), 'Win Rate' : ( returns > 0 ) . mean (), 'Mean Return' : returns . mean (), 'Median Return' : returns . median (), 'Std Dev' : returns . std (), 'Max Win' : returns . max (), 'Max Loss' : returns . min (), 'Profit Factor' : returns [ returns > 0 ] . sum () / abs ( returns [ returns < 0 ] . sum ()), 'Sharpe Ratio' : returns . mean () / returns . std () if returns . std () > 0 else 0 } return pd . Series ( metrics ) # \u5e94\u7528\u4e8e\u7b56\u7565 trades = op . iron_condor ( data , raw = True ) metrics = calculate_metrics ( trades ) print ( metrics )","title":"\u6027\u80fd\u6307\u6807"},{"location":"zh/examples/#_13","text":"","title":"\u5904\u7406\u4e0d\u540c\u6570\u636e\u6e90"},{"location":"zh/examples/#_14","text":"# \u793a\u4f8b: \u4ece\u4e0d\u540c CSV \u683c\u5f0f\u52a0\u8f7d # \u683c\u5f0f 1: CBOE \u6570\u636e\u5bfc\u51fa data = op . csv_data ( 'cboe_spx.csv' , underlying_symbol = 'underlying_symbol' , underlying_price = 'underlying_bid_1545' , option_type = 'option_type' , expiration = 'expiration' , quote_date = 'quote_date' , strike = 'strike' , bid = 'bid' , ask = 'ask' ) # \u683c\u5f0f 2: \u7d22\u5f15\u5217 data = op . csv_data ( 'provider_data.csv' , underlying_symbol = 0 , underlying_price = 1 , option_type = 2 , expiration = 3 , quote_date = 4 , strike = 5 , bid = 6 , ask = 7 )","title":"\u5386\u53f2\u671f\u6743\u6570\u636e\u63d0\u4f9b\u5546"},{"location":"zh/examples/#_15","text":"","title":"\u6700\u4f73\u5b9e\u8df5"},{"location":"zh/examples/#1","text":"# \u4e0d\u597d: \u6ca1\u6709\u8fc7\u6ee4 results = op . iron_condor ( data ) # \u597d: \u8fc7\u6ee4\u4ee5\u786e\u4fdd\u8d28\u91cf results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , min_bid_ask = 0.10 , # \u786e\u4fdd\u6d41\u52a8\u6027 max_otm_pct = 0.30 )","title":"1. \u59cb\u7ec8\u4f7f\u7528\u8fc7\u6ee4\u5668"},{"location":"zh/examples/#2","text":"# \u6bd4\u8f83\u7b56\u7565\u65f6\u4f7f\u7528\u76f8\u540c\u53c2\u6570 params = { 'max_entry_dte' : 45 , 'exit_dte' : 21 , 'max_otm_pct' : 0.25 } ic_results = op . iron_condor ( data , ** params ) strangle_results = op . short_strangles ( data , ** params )","title":"2. \u6bd4\u8f83\u540c\u7c7b\u4e8b\u7269"},{"location":"zh/examples/#3","text":"# \u4f7f\u7528 liquidity \u6a21\u5f0f\u83b7\u5f97\u73b0\u5b9e\u7ed3\u679c results = op . iron_condor ( data , slippage = 'liquidity' , fill_ratio = 0.5 , reference_volume = 1000 )","title":"3. \u73b0\u5b9e\u7684\u6ed1\u70b9"},{"location":"zh/examples/#_16","text":"\u67e5\u770b \u7b56\u7565\u6587\u6863 \u4e86\u89e3\u7279\u5b9a\u7b56\u7565\u8be6\u60c5 \u67e5\u770b \u53c2\u6570 \u4e86\u89e3\u6240\u6709\u914d\u7f6e\u9009\u9879 \u67e5\u9605 API \u53c2\u8003 \u4e86\u89e3\u51fd\u6570\u7b7e\u540d \u63a2\u7d22\u4ee3\u7801\u4ed3\u5e93\u4e2d\u7684 samples/ \u76ee\u5f55\u83b7\u53d6\u66f4\u591a\u793a\u4f8b","title":"\u4e0b\u4e00\u6b65"},{"location":"zh/getting-started/","text":"\u5165\u95e8\u6307\u5357 \u00b6 \u672c\u6307\u5357\u5c06\u5f15\u5bfc\u60a8\u5b8c\u6210 Optopsy \u7684\u8bbe\u7f6e\u5e76\u8fd0\u884c\u7b2c\u4e00\u6b21\u56de\u6d4b\u3002 \u5b89\u88c5 \u00b6 \u4f7f\u7528 pip \u5b89\u88c5 Optopsy: pip install optopsy \u7cfb\u7edf\u8981\u6c42 \u00b6 Python 3.8 \u6216\u66f4\u9ad8\u7248\u672c Pandas 2.0 \u6216\u66f4\u9ad8\u7248\u672c NumPy 1.26 \u6216\u66f4\u9ad8\u7248\u672c \u6570\u636e\u683c\u5f0f \u00b6 Optopsy \u9700\u8981\u5305\u542b\u4ee5\u4e0b\u5217\u7684\u5386\u53f2\u671f\u6743\u94fe\u6570\u636e: \u5217\u540d \u63cf\u8ff0 \u793a\u4f8b underlying_symbol \u80a1\u7968\u4ee3\u7801 SPX, SPY, QQQ underlying_price \u80a1\u7968/\u6307\u6570\u4ef7\u683c 4500.00 option_type Call \u6216 Put 'c', 'p', 'call', 'put' expiration \u671f\u6743\u5230\u671f\u65e5 2023-01-20 quote_date \u62a5\u4ef7\u65e5\u671f 2023-01-01 strike \u884c\u6743\u4ef7 4500 bid \u4e70\u5165\u4ef7 10.50 ask \u5356\u51fa\u4ef7 11.00 \u7528\u4e8e Greeks \u8fc7\u6ee4\u7684\u53ef\u9009\u5217 \u00b6 \u5217\u540d \u63cf\u8ff0 delta Delta \u503c gamma Gamma \u503c theta Theta \u503c vega Vega \u503c volume \u4ea4\u6613\u91cf open_interest \u6301\u4ed3\u91cf \u52a0\u8f7d\u6570\u636e \u00b6 \u4ece CSV \u52a0\u8f7d \u00b6 \u4f7f\u7528 csv_data() \u4ece CSV \u6587\u4ef6\u52a0\u8f7d\u671f\u6743\u6570\u636e: import optopsy as op data = op . csv_data ( 'options_data.csv' , underlying_symbol = 0 , # \u5217\u7d22\u5f15\u6216\u5217\u540d underlying_price = 1 , option_type = 2 , expiration = 3 , quote_date = 4 , strike = 5 , bid = 6 , ask = 7 ) \u8be5\u51fd\u6570\u63a5\u53d7\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f: - \u5217\u7d22\u5f15 (\u6574\u6570): \u6bcf\u5217\u7684\u4f4d\u7f6e - \u5217\u540d (\u5b57\u7b26\u4e32): CSV \u6587\u4ef6\u7684\u8868\u5934\u540d\u79f0 \u4ece DataFrame \u52a0\u8f7d \u00b6 \u5982\u679c\u60a8\u5df2\u6709 pandas DataFrame,\u8bf7\u786e\u4fdd\u5b83\u5305\u542b\u6240\u9700\u7684\u5217: import pandas as pd import optopsy as op # \u60a8\u73b0\u6709\u7684 DataFrame df = pd . read_csv ( 'options_data.csv' ) # \u91cd\u547d\u540d\u5217\u4ee5\u5339\u914d Optopsy \u7684\u9884\u671f\u683c\u5f0f df = df . rename ( columns = { 'Symbol' : 'underlying_symbol' , 'UnderlyingPrice' : 'underlying_price' , 'Type' : 'option_type' , 'Expiration' : 'expiration' , 'QuoteDate' : 'quote_date' , 'Strike' : 'strike' , 'Bid' : 'bid' , 'Ask' : 'ask' }) # \u73b0\u5728\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 results = op . long_calls ( df ) \u8fd0\u884c\u7b2c\u4e00\u6b21\u56de\u6d4b \u00b6 \u793a\u4f8b: Long Calls \u00b6 \u8ba9\u6211\u4eec\u56de\u6d4b\u4e00\u4e2a\u7b80\u5355\u7684 long call \u7b56\u7565: import optopsy as op # \u52a0\u8f7d\u6570\u636e data = op . csv_data ( 'SPX_2023.csv' ) # \u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\u8fd0\u884c\u56de\u6d4b results = op . long_calls ( data ) print ( results ) \u81ea\u5b9a\u4e49\u53c2\u6570\u793a\u4f8b \u00b6 \u81ea\u5b9a\u4e49\u56de\u6d4b\u53c2\u6570: results = op . long_calls ( data , max_entry_dte = 60 , # \u5728 60 \u5929 DTE \u65f6\u8fdb\u573a exit_dte = 30 , # \u5728 30 DTE \u65f6\u51fa\u573a dte_interval = 7 , # \u6309 7 \u5929\u95f4\u9694\u5206\u7ec4\u7ed3\u679c max_otm_pct = 0.20 , # \u6700\u5927 20% \u865a\u503c otm_pct_interval = 0.05 , # \u6309 5% OTM \u95f4\u9694\u5206\u7ec4 min_bid_ask = 0.10 # \u6700\u5c0f $0.10 \u4e70\u5356\u4ef7\u5dee ) print ( results . head ()) \u7406\u89e3\u8f93\u51fa\u7ed3\u679c \u00b6 \u805a\u5408\u7ed3\u679c(\u9ed8\u8ba4) \u00b6 \u9ed8\u8ba4\u60c5\u51b5\u4e0b,\u7b56\u7565\u8fd4\u56de\u6309 DTE \u548c OTM% \u8303\u56f4\u5206\u7ec4\u7684\u805a\u5408\u7edf\u8ba1\u6570\u636e: results = op . long_calls ( data ) print ( results . columns ) # ['dte_range', 'otm_pct_range', 'count', 'mean', 'std', 'min', '25%', '50%', '75%', 'max'] \u8f93\u51fa\u793a\u4f8b: dte_range otm_pct_range count mean std min 50% max (0, 7] (0.0, 0.05] 1250 0.23 0.45 -1.0 0.15 2.8 (0, 7] (0.05, 0.10] 980 0.18 0.52 -1.0 0.10 3.2 \u539f\u59cb\u4ea4\u6613\u6570\u636e \u00b6 \u901a\u8fc7\u8bbe\u7f6e raw=True \u83b7\u53d6\u5355\u4e2a\u4ea4\u6613\u8be6\u60c5: results = op . long_calls ( data , raw = True ) print ( results . columns ) # ['underlying_symbol', 'expiration', 'dte_entry', 'strike', 'entry', 'exit', 'pct_change', ...] \u8fd9\u5c06\u4e3a\u60a8\u63d0\u4f9b\u6bcf\u7b14\u4ea4\u6613\u7684\u8be6\u7ec6\u4fe1\u606f,\u7528\u4e8e\u81ea\u5b9a\u4e49\u5206\u6790\u3002 \u4e0b\u4e00\u6b65 \u00b6 \u63a2\u7d22 \u5168\u90e8 28 \u79cd\u7b56\u7565 \u4e86\u89e3 \u7b56\u7565\u53c2\u6570 \u67e5\u770b\u66f4\u591a\u5305\u542b Greeks \u8fc7\u6ee4\u548c\u6ed1\u70b9\u7684 \u793a\u4f8b \u9605\u8bfb API \u53c2\u8003 \u83b7\u53d6\u8be6\u7ec6\u7684\u51fd\u6570\u6587\u6863 \u5e38\u89c1\u95ee\u9898 \u00b6 \u65e5\u671f\u683c\u5f0f\u9519\u8bef \u00b6 \u5982\u679c\u9047\u5230\u65e5\u671f\u89e3\u6790\u9519\u8bef,\u8bf7\u786e\u4fdd\u60a8\u7684\u65e5\u671f\u4f7f\u7528\u6807\u51c6\u683c\u5f0f: - ISO \u683c\u5f0f: 2023-01-20 - \u7f8e\u56fd\u683c\u5f0f: 01/20/2023 - \u6b27\u6d32\u683c\u5f0f: 20/01/2023 csv_data() \u51fd\u6570\u5c06\u5c1d\u8bd5\u81ea\u52a8\u68c0\u6d4b\u65e5\u671f\u683c\u5f0f\u3002 \u7f3a\u5c11\u5217 \u00b6 \u5982\u679c\u770b\u5230\u5217\u7684 \"KeyError\" \u9519\u8bef,\u8bf7\u68c0\u67e5: 1. \u8be5\u5217\u662f\u5426\u5b58\u5728\u4e8e\u60a8\u7684\u6570\u636e\u4e2d 2. \u60a8\u5728 csv_data() \u4e2d\u6307\u5b9a\u7684\u5217\u7d22\u5f15\u6216\u540d\u79f0\u662f\u5426\u6b63\u786e 3. \u5217\u540d\u662f\u5426\u5b8c\u5168\u5339\u914d(\u533a\u5206\u5927\u5c0f\u5199) \u7ed3\u679c\u4e3a\u7a7a \u00b6 \u5982\u679c\u56de\u6d4b\u6ca1\u6709\u8fd4\u56de\u7ed3\u679c: - \u68c0\u67e5\u60a8\u7684\u53c2\u6570\u8303\u56f4(DTE\u3001OTM% \u7b49) - \u9a8c\u8bc1\u60a8\u7684\u6570\u636e\u8986\u76d6\u4e86\u60a8\u6b63\u5728\u6d4b\u8bd5\u7684\u65f6\u95f4\u6bb5 - \u786e\u4fdd\u4e70\u5356\u4ef7\u5dee\u6ee1\u8db3 min_bid_ask \u9608\u503c","title":"\u5165\u95e8\u6307\u5357"},{"location":"zh/getting-started/#_1","text":"\u672c\u6307\u5357\u5c06\u5f15\u5bfc\u60a8\u5b8c\u6210 Optopsy \u7684\u8bbe\u7f6e\u5e76\u8fd0\u884c\u7b2c\u4e00\u6b21\u56de\u6d4b\u3002","title":"\u5165\u95e8\u6307\u5357"},{"location":"zh/getting-started/#_2","text":"\u4f7f\u7528 pip \u5b89\u88c5 Optopsy: pip install optopsy","title":"\u5b89\u88c5"},{"location":"zh/getting-started/#_3","text":"Python 3.8 \u6216\u66f4\u9ad8\u7248\u672c Pandas 2.0 \u6216\u66f4\u9ad8\u7248\u672c NumPy 1.26 \u6216\u66f4\u9ad8\u7248\u672c","title":"\u7cfb\u7edf\u8981\u6c42"},{"location":"zh/getting-started/#_4","text":"Optopsy \u9700\u8981\u5305\u542b\u4ee5\u4e0b\u5217\u7684\u5386\u53f2\u671f\u6743\u94fe\u6570\u636e: \u5217\u540d \u63cf\u8ff0 \u793a\u4f8b underlying_symbol \u80a1\u7968\u4ee3\u7801 SPX, SPY, QQQ underlying_price \u80a1\u7968/\u6307\u6570\u4ef7\u683c 4500.00 option_type Call \u6216 Put 'c', 'p', 'call', 'put' expiration \u671f\u6743\u5230\u671f\u65e5 2023-01-20 quote_date \u62a5\u4ef7\u65e5\u671f 2023-01-01 strike \u884c\u6743\u4ef7 4500 bid \u4e70\u5165\u4ef7 10.50 ask \u5356\u51fa\u4ef7 11.00","title":"\u6570\u636e\u683c\u5f0f"},{"location":"zh/getting-started/#greeks","text":"\u5217\u540d \u63cf\u8ff0 delta Delta \u503c gamma Gamma \u503c theta Theta \u503c vega Vega \u503c volume \u4ea4\u6613\u91cf open_interest \u6301\u4ed3\u91cf","title":"\u7528\u4e8e Greeks \u8fc7\u6ee4\u7684\u53ef\u9009\u5217"},{"location":"zh/getting-started/#_5","text":"","title":"\u52a0\u8f7d\u6570\u636e"},{"location":"zh/getting-started/#csv","text":"\u4f7f\u7528 csv_data() \u4ece CSV \u6587\u4ef6\u52a0\u8f7d\u671f\u6743\u6570\u636e: import optopsy as op data = op . csv_data ( 'options_data.csv' , underlying_symbol = 0 , # \u5217\u7d22\u5f15\u6216\u5217\u540d underlying_price = 1 , option_type = 2 , expiration = 3 , quote_date = 4 , strike = 5 , bid = 6 , ask = 7 ) \u8be5\u51fd\u6570\u63a5\u53d7\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f: - \u5217\u7d22\u5f15 (\u6574\u6570): \u6bcf\u5217\u7684\u4f4d\u7f6e - \u5217\u540d (\u5b57\u7b26\u4e32): CSV \u6587\u4ef6\u7684\u8868\u5934\u540d\u79f0","title":"\u4ece CSV \u52a0\u8f7d"},{"location":"zh/getting-started/#dataframe","text":"\u5982\u679c\u60a8\u5df2\u6709 pandas DataFrame,\u8bf7\u786e\u4fdd\u5b83\u5305\u542b\u6240\u9700\u7684\u5217: import pandas as pd import optopsy as op # \u60a8\u73b0\u6709\u7684 DataFrame df = pd . read_csv ( 'options_data.csv' ) # \u91cd\u547d\u540d\u5217\u4ee5\u5339\u914d Optopsy \u7684\u9884\u671f\u683c\u5f0f df = df . rename ( columns = { 'Symbol' : 'underlying_symbol' , 'UnderlyingPrice' : 'underlying_price' , 'Type' : 'option_type' , 'Expiration' : 'expiration' , 'QuoteDate' : 'quote_date' , 'Strike' : 'strike' , 'Bid' : 'bid' , 'Ask' : 'ask' }) # \u73b0\u5728\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 results = op . long_calls ( df )","title":"\u4ece DataFrame \u52a0\u8f7d"},{"location":"zh/getting-started/#_6","text":"","title":"\u8fd0\u884c\u7b2c\u4e00\u6b21\u56de\u6d4b"},{"location":"zh/getting-started/#long-calls","text":"\u8ba9\u6211\u4eec\u56de\u6d4b\u4e00\u4e2a\u7b80\u5355\u7684 long call \u7b56\u7565: import optopsy as op # \u52a0\u8f7d\u6570\u636e data = op . csv_data ( 'SPX_2023.csv' ) # \u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\u8fd0\u884c\u56de\u6d4b results = op . long_calls ( data ) print ( results )","title":"\u793a\u4f8b: Long Calls"},{"location":"zh/getting-started/#_7","text":"\u81ea\u5b9a\u4e49\u56de\u6d4b\u53c2\u6570: results = op . long_calls ( data , max_entry_dte = 60 , # \u5728 60 \u5929 DTE \u65f6\u8fdb\u573a exit_dte = 30 , # \u5728 30 DTE \u65f6\u51fa\u573a dte_interval = 7 , # \u6309 7 \u5929\u95f4\u9694\u5206\u7ec4\u7ed3\u679c max_otm_pct = 0.20 , # \u6700\u5927 20% \u865a\u503c otm_pct_interval = 0.05 , # \u6309 5% OTM \u95f4\u9694\u5206\u7ec4 min_bid_ask = 0.10 # \u6700\u5c0f $0.10 \u4e70\u5356\u4ef7\u5dee ) print ( results . head ())","title":"\u81ea\u5b9a\u4e49\u53c2\u6570\u793a\u4f8b"},{"location":"zh/getting-started/#_8","text":"","title":"\u7406\u89e3\u8f93\u51fa\u7ed3\u679c"},{"location":"zh/getting-started/#_9","text":"\u9ed8\u8ba4\u60c5\u51b5\u4e0b,\u7b56\u7565\u8fd4\u56de\u6309 DTE \u548c OTM% \u8303\u56f4\u5206\u7ec4\u7684\u805a\u5408\u7edf\u8ba1\u6570\u636e: results = op . long_calls ( data ) print ( results . columns ) # ['dte_range', 'otm_pct_range', 'count', 'mean', 'std', 'min', '25%', '50%', '75%', 'max'] \u8f93\u51fa\u793a\u4f8b: dte_range otm_pct_range count mean std min 50% max (0, 7] (0.0, 0.05] 1250 0.23 0.45 -1.0 0.15 2.8 (0, 7] (0.05, 0.10] 980 0.18 0.52 -1.0 0.10 3.2","title":"\u805a\u5408\u7ed3\u679c(\u9ed8\u8ba4)"},{"location":"zh/getting-started/#_10","text":"\u901a\u8fc7\u8bbe\u7f6e raw=True \u83b7\u53d6\u5355\u4e2a\u4ea4\u6613\u8be6\u60c5: results = op . long_calls ( data , raw = True ) print ( results . columns ) # ['underlying_symbol', 'expiration', 'dte_entry', 'strike', 'entry', 'exit', 'pct_change', ...] \u8fd9\u5c06\u4e3a\u60a8\u63d0\u4f9b\u6bcf\u7b14\u4ea4\u6613\u7684\u8be6\u7ec6\u4fe1\u606f,\u7528\u4e8e\u81ea\u5b9a\u4e49\u5206\u6790\u3002","title":"\u539f\u59cb\u4ea4\u6613\u6570\u636e"},{"location":"zh/getting-started/#_11","text":"\u63a2\u7d22 \u5168\u90e8 28 \u79cd\u7b56\u7565 \u4e86\u89e3 \u7b56\u7565\u53c2\u6570 \u67e5\u770b\u66f4\u591a\u5305\u542b Greeks \u8fc7\u6ee4\u548c\u6ed1\u70b9\u7684 \u793a\u4f8b \u9605\u8bfb API \u53c2\u8003 \u83b7\u53d6\u8be6\u7ec6\u7684\u51fd\u6570\u6587\u6863","title":"\u4e0b\u4e00\u6b65"},{"location":"zh/getting-started/#_12","text":"","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"zh/getting-started/#_13","text":"\u5982\u679c\u9047\u5230\u65e5\u671f\u89e3\u6790\u9519\u8bef,\u8bf7\u786e\u4fdd\u60a8\u7684\u65e5\u671f\u4f7f\u7528\u6807\u51c6\u683c\u5f0f: - ISO \u683c\u5f0f: 2023-01-20 - \u7f8e\u56fd\u683c\u5f0f: 01/20/2023 - \u6b27\u6d32\u683c\u5f0f: 20/01/2023 csv_data() \u51fd\u6570\u5c06\u5c1d\u8bd5\u81ea\u52a8\u68c0\u6d4b\u65e5\u671f\u683c\u5f0f\u3002","title":"\u65e5\u671f\u683c\u5f0f\u9519\u8bef"},{"location":"zh/getting-started/#_14","text":"\u5982\u679c\u770b\u5230\u5217\u7684 \"KeyError\" \u9519\u8bef,\u8bf7\u68c0\u67e5: 1. \u8be5\u5217\u662f\u5426\u5b58\u5728\u4e8e\u60a8\u7684\u6570\u636e\u4e2d 2. \u60a8\u5728 csv_data() \u4e2d\u6307\u5b9a\u7684\u5217\u7d22\u5f15\u6216\u540d\u79f0\u662f\u5426\u6b63\u786e 3. \u5217\u540d\u662f\u5426\u5b8c\u5168\u5339\u914d(\u533a\u5206\u5927\u5c0f\u5199)","title":"\u7f3a\u5c11\u5217"},{"location":"zh/getting-started/#_15","text":"\u5982\u679c\u56de\u6d4b\u6ca1\u6709\u8fd4\u56de\u7ed3\u679c: - \u68c0\u67e5\u60a8\u7684\u53c2\u6570\u8303\u56f4(DTE\u3001OTM% \u7b49) - \u9a8c\u8bc1\u60a8\u7684\u6570\u636e\u8986\u76d6\u4e86\u60a8\u6b63\u5728\u6d4b\u8bd5\u7684\u65f6\u95f4\u6bb5 - \u786e\u4fdd\u4e70\u5356\u4ef7\u5dee\u6ee1\u8db3 min_bid_ask \u9608\u503c","title":"\u7ed3\u679c\u4e3a\u7a7a"},{"location":"zh/parameters/","text":"\u7b56\u7565\u53c2\u6570 \u00b6 \u6240\u6709 Optopsy \u7b56\u7565\u90fd\u63a5\u53d7\u4e00\u7ec4\u901a\u7528\u53c2\u6570,\u7528\u4e8e\u8fc7\u6ee4\u3001\u5206\u7ec4\u548c\u8f93\u51fa\u683c\u5f0f\u5316\u3002\u672c\u6307\u5357\u6db5\u76d6\u6240\u6709\u53ef\u7528\u53c2\u6570\u53ca\u5176\u7528\u6cd5\u3002 \u6838\u5fc3\u53c2\u6570 \u00b6 \u8fdb\u573a\u548c\u51fa\u573a\u65f6\u673a \u00b6 max_entry_dte \u00b6 \u7c7b\u578b: int | \u9ed8\u8ba4\u503c: 90 \u7b56\u7565\u8fdb\u573a\u65f6\u7684\u6700\u5927\u5230\u671f\u5929\u6570\u3002 results = op . iron_condor ( data , max_entry_dte = 45 ) # \u5728 45 DTE \u6216\u66f4\u5c11\u65f6\u8fdb\u573a \u4f7f\u7528\u573a\u666f: - max_entry_dte=30 - \u77ed\u671f\u4ea4\u6613 - max_entry_dte=60 - \u4e2d\u671f\u4ea4\u6613 - max_entry_dte=90 - \u957f\u671f\u6301\u4ed3 exit_dte \u00b6 \u7c7b\u578b: int | \u9ed8\u8ba4\u503c: 0 \u7b56\u7565\u51fa\u573a\u65f6\u7684\u5230\u671f\u5929\u6570\u3002\u4f7f\u7528 0 \u6301\u6709\u81f3\u5230\u671f\u3002 results = op . long_calls ( data , max_entry_dte = 60 , exit_dte = 30 ) # \u5728 30 DTE \u65f6\u51fa\u573a \u4f7f\u7528\u573a\u666f: - exit_dte=0 - \u6301\u6709\u81f3\u5230\u671f - exit_dte=21 - \u5230\u671f\u524d 3 \u5468\u51fa\u573a - exit_dte=7 - \u5230\u671f\u524d 1 \u5468\u51fa\u573a \u8fc7\u6ee4\u53c2\u6570 \u00b6 max_otm_pct \u00b6 \u7c7b\u578b: float | \u9ed8\u8ba4\u503c: 0.5 \u671f\u6743\u9009\u62e9\u7684\u6700\u5927\u865a\u503c\u767e\u5206\u6bd4\u3002 results = op . short_puts ( data , max_otm_pct = 0.20 ) # \u6700\u5927 20% OTM \u793a\u4f8b: - 0.05 - \u63a5\u8fd1\u5e73\u503c\u671f\u6743(\u6700\u5927 5% OTM) - 0.20 - \u9002\u5ea6\u865a\u503c(\u6700\u5927 20% OTM) - 0.50 - \u5bbd\u8303\u56f4(\u6700\u5927 50% OTM) \u8ba1\u7b97\u65b9\u6cd5: # \u5bf9\u4e8e calls: (strike - underlying_price) / underlying_price # \u5bf9\u4e8e puts: (underlying_price - strike) / underlying_price min_bid_ask \u00b6 \u7c7b\u578b: float | \u9ed8\u8ba4\u503c: 0.05 \u671f\u6743\u6d41\u52a8\u6027\u6240\u9700\u7684\u6700\u5c0f\u4e70\u5356\u4ef7\u5dee\u3002 results = op . iron_condor ( data , min_bid_ask = 0.10 ) # \u8981\u6c42 $0.10+ \u4ef7\u5dee \u4f7f\u7528\u573a\u666f: - 0.05 - \u6d41\u52a8\u6027\u8f83\u4f4e\u7684\u6807\u7684 - 0.10 - \u6807\u51c6\u6d41\u52a8\u6027\u8981\u6c42 - 0.20 - \u9ad8\u6d41\u52a8\u6027\u8981\u6c42(SPX\u3001SPY) \u5206\u7ec4\u548c\u805a\u5408 \u00b6 dte_interval \u00b6 \u7c7b\u578b: int | \u9ed8\u8ba4\u503c: 7 \u6309 DTE \u8303\u56f4\u5206\u7ec4\u7ed3\u679c\u7684\u95f4\u9694\u3002 results = op . long_calls ( data , dte_interval = 14 ) # \u6309 14 \u5929\u6876\u5206\u7ec4 \u793a\u4f8b: - 7 - \u6bcf\u5468\u5206\u7ec4: (0,7], (7,14], (14,21], ... - 14 - \u53cc\u5468\u5206\u7ec4: (0,14], (14,28], ... - 30 - \u6bcf\u6708\u5206\u7ec4: (0,30], (30,60], ... otm_pct_interval \u00b6 \u7c7b\u578b: float | \u9ed8\u8ba4\u503c: 0.05 \u6309 OTM \u767e\u5206\u6bd4\u8303\u56f4\u5206\u7ec4\u7ed3\u679c\u7684\u95f4\u9694\u3002 results = op . short_strangles ( data , otm_pct_interval = 0.10 ) # 10% OTM \u6876 \u793a\u4f8b: - 0.05 - \u7ec6\u7c92\u5ea6: (0.0, 0.05], (0.05, 0.10], ... - 0.10 - \u7c97\u7c92\u5ea6\u6876: (0.0, 0.10], (0.10, 0.20], ... \u8f93\u51fa\u63a7\u5236 \u00b6 raw \u00b6 \u7c7b\u578b: bool | \u9ed8\u8ba4\u503c: False \u8fd4\u56de\u539f\u59cb\u4ea4\u6613\u6570\u636e\u800c\u4e0d\u662f\u805a\u5408\u7edf\u8ba1\u3002 # \u805a\u5408\u7edf\u8ba1(\u9ed8\u8ba4) results = op . iron_condor ( data , raw = False ) # \u8f93\u51fa: ['dte_range', 'otm_pct_range', 'count', 'mean', 'std', ...] # \u539f\u59cb\u4ea4\u6613\u6570\u636e trades = op . iron_condor ( data , raw = True ) # \u8f93\u51fa: ['expiration', 'strike_leg1', 'strike_leg2', 'entry', 'exit', 'pct_change', ...] \u4f7f\u7528\u573a\u666f: - raw=False - \u6027\u80fd\u7edf\u8ba1\u3001\u56de\u6d4b\u7ed3\u679c - raw=True - \u81ea\u5b9a\u4e49\u5206\u6790\u3001\u8be6\u7ec6\u68c0\u67e5\u3001\u8c03\u8bd5 drop_nan \u00b6 \u7c7b\u578b: bool | \u9ed8\u8ba4\u503c: True \u5220\u9664\u7ed3\u679c\u4e2d\u5305\u542b NaN \u503c\u7684\u884c\u3002 results = op . long_calls ( data , drop_nan = False ) # \u4fdd\u7559 NaN \u503c Greeks \u53c2\u6570 \u00b6 Delta \u8fc7\u6ee4 \u00b6 delta_min / delta_max \u00b6 \u7c7b\u578b: float | \u9ed8\u8ba4\u503c: None \u6309 delta \u8303\u56f4\u8fc7\u6ee4\u671f\u6743\u3002 # \u76ee\u6807 30-delta \u671f\u6743 results = op . short_puts ( data , delta_min = 0.25 , delta_max = 0.35 ) \u5e38\u89c1 Delta \u8303\u56f4: - 0.15-0.20 - 1 \u4e2a\u6807\u51c6\u5dee OTM(\u7ea6 15-20% \u6982\u7387 ITM) - 0.25-0.35 - \u4fe1\u7528\u4ef7\u5dee\u5e38\u7528 - 0.40-0.50 - \u63a5\u8fd1\u5e73\u503c\u671f\u6743 - 0.50+ - \u5b9e\u503c\u671f\u6743 \u6ce8\u610f: \u9700\u8981\u6570\u636e\u4e2d\u5305\u542b delta \u5217\u3002 delta_interval \u00b6 \u7c7b\u578b: float | \u9ed8\u8ba4\u503c: None \u6309 delta \u8303\u56f4\u5206\u7ec4\u7ed3\u679c\u3002 results = op . iron_condor ( data , delta_interval = 0.10 # \u5206\u7ec4\u4e3a: (0.0,0.1], (0.1,0.2], \u7b49 ) \u6ed1\u70b9\u53c2\u6570 \u00b6 slippage \u00b6 \u7c7b\u578b: str | \u9ed8\u8ba4\u503c: 'mid' \u6210\u4ea4\u4ef7\u683c\u8ba1\u7b97\u7684\u6ed1\u70b9\u6a21\u578b\u3002 results = op . long_calls ( data , slippage = 'liquidity' ) \u9009\u9879: \u6a21\u5f0f \u63cf\u8ff0 \u4e70\u5165\u6210\u4ea4 \u5356\u51fa\u6210\u4ea4 \u6700\u9002\u5408 'mid' \u4e70\u5356\u4ef7\u4e4b\u95f4\u7684\u4e2d\u95f4\u4ef7 (bid+ask)/2 (bid+ask)/2 \u7406\u60f3/\u4e50\u89c2 'spread' \u6700\u5dee\u60c5\u51b5\u4ef7\u5dee Ask Bid \u4fdd\u5b88 'liquidity' \u57fa\u4e8e\u6210\u4ea4\u91cf\u7684\u52a8\u6001 \u52a8\u6001 \u52a8\u6001 \u73b0\u5b9e fill_ratio (\u4ec5\u9650 Liquidity \u6a21\u5f0f) \u00b6 \u7c7b\u578b: float | \u9ed8\u8ba4\u503c: 0.5 \u57fa\u4e8e\u6d41\u52a8\u6027\u6ed1\u70b9\u7684\u57fa\u7840\u6210\u4ea4\u6bd4\u7387(0.0 = bid/ask, 1.0 = ask/bid)\u3002 results = op . iron_condor ( data , slippage = 'liquidity' , fill_ratio = 0.3 # \u66f4\u4fdd\u5b88\u7684\u6210\u4ea4(\u901a\u8fc7\u4ef7\u5dee\u7684 30%) ) \u793a\u4f8b: - 0.0 - \u6700\u5dee\u60c5\u51b5(\u4ee5 ask \u4e70\u5165,\u4ee5 bid \u5356\u51fa) - 0.5 - \u4e2d\u70b9(\u9ed8\u8ba4) - 1.0 - \u6700\u4f73\u60c5\u51b5(\u4ee5 bid \u4e70\u5165,\u4ee5 ask \u5356\u51fa - \u4e0d\u73b0\u5b9e) reference_volume (\u4ec5\u9650 Liquidity \u6a21\u5f0f) \u00b6 \u7c7b\u578b: int | \u9ed8\u8ba4\u503c: 1000 \u6d41\u52a8\u6027\u6a21\u5f0f\u4e0b\u786e\u5b9a\u6d41\u52a8\u671f\u6743\u7684\u6210\u4ea4\u91cf\u9608\u503c\u3002 results = op . short_strangles ( data , slippage = 'liquidity' , reference_volume = 5000 # SPX \u7684\u66f4\u9ad8\u9608\u503c ) \u6307\u5357: - 500-1000 - \u6d41\u52a8\u6027\u8f83\u4f4e\u7684\u6807\u7684 - 1000-2000 - \u6807\u51c6\u6d41\u52a8\u6027(\u9ed8\u8ba4) - 5000+ - \u9ad8\u6d41\u52a8\u6027(SPX\u3001SPY\u3001QQQ) \u6ce8\u610f: \u9700\u8981\u6570\u636e\u4e2d\u5305\u542b volume \u6216 open_interest \u5217\u3002 Calendar & Diagonal \u53c2\u6570 \u00b6 Calendar \u548c diagonal \u4ef7\u5dee\u4f7f\u7528\u4e0d\u540c\u7684\u65f6\u95f4\u53c2\u6570: front_dte_min / front_dte_max \u00b6 \u7c7b\u578b: int | \u9ed8\u8ba4\u503c: 20 / 40 \u524d\u6708\u817f\u7684 DTE \u8303\u56f4\u3002 results = op . long_call_calendar ( data , front_dte_min = 25 , front_dte_max = 35 # \u524d\u6708\u817f\u5728 25-35 DTE \u4e4b\u95f4 ) back_dte_min / back_dte_max \u00b6 \u7c7b\u578b: int | \u9ed8\u8ba4\u503c: 50 / 90 \u540e\u6708\u817f\u7684 DTE \u8303\u56f4\u3002 results = op . long_call_diagonal ( data , back_dte_min = 60 , back_dte_max = 120 # \u540e\u6708\u817f\u5728 60-120 DTE \u4e4b\u95f4 ) \u5b8c\u6574\u793a\u4f8b \u00b6 \u7ec4\u5408\u591a\u4e2a\u53c2\u6570: import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) results = op . iron_condor ( data , # \u65f6\u673a max_entry_dte = 45 , exit_dte = 21 , # \u8fc7\u6ee4 max_otm_pct = 0.30 , min_bid_ask = 0.15 , delta_min = 0.15 , delta_max = 0.20 , # \u5206\u7ec4 dte_interval = 7 , otm_pct_interval = 0.05 , delta_interval = 0.05 , # \u6ed1\u70b9 slippage = 'liquidity' , fill_ratio = 0.5 , reference_volume = 5000 , # \u8f93\u51fa raw = False , drop_nan = True ) print ( results . head ()) \u9ed8\u8ba4\u503c\u53c2\u8003 \u00b6 \u6807\u51c6\u7b56\u7565 \u00b6 default_kwargs = { \"dte_interval\" : 7 , \"max_entry_dte\" : 90 , \"exit_dte\" : 0 , \"otm_pct_interval\" : 0.05 , \"max_otm_pct\" : 0.5 , \"min_bid_ask\" : 0.05 , \"drop_nan\" : True , \"raw\" : False , \"delta_min\" : None , \"delta_max\" : None , \"delta_interval\" : None , \"slippage\" : \"mid\" , \"fill_ratio\" : 0.5 , \"reference_volume\" : 1000 , } Calendar & Diagonal \u7b56\u7565 \u00b6 calendar_default_kwargs = { \"front_dte_min\" : 20 , \"front_dte_max\" : 40 , \"back_dte_min\" : 50 , \"back_dte_max\" : 90 , \"exit_dte\" : 7 , \"dte_interval\" : 7 , \"otm_pct_interval\" : 0.05 , \"max_otm_pct\" : 0.5 , \"min_bid_ask\" : 0.05 , \"drop_nan\" : True , \"raw\" : False , \"slippage\" : \"mid\" , \"fill_ratio\" : 0.5 , \"reference_volume\" : 1000 , } \u4e0b\u4e00\u6b65 \u00b6 \u67e5\u770b \u793a\u4f8b \u4e86\u89e3\u5b9e\u9645\u53c2\u6570\u4f7f\u7528 \u63a2\u7d22 \u7b56\u7565 \u4e86\u89e3\u7279\u5b9a\u7b56\u7565\u7684\u8003\u8651\u56e0\u7d20 \u67e5\u9605 API \u53c2\u8003 \u4e86\u89e3\u51fd\u6570\u7b7e\u540d","title":"\u53c2\u6570"},{"location":"zh/parameters/#_1","text":"\u6240\u6709 Optopsy \u7b56\u7565\u90fd\u63a5\u53d7\u4e00\u7ec4\u901a\u7528\u53c2\u6570,\u7528\u4e8e\u8fc7\u6ee4\u3001\u5206\u7ec4\u548c\u8f93\u51fa\u683c\u5f0f\u5316\u3002\u672c\u6307\u5357\u6db5\u76d6\u6240\u6709\u53ef\u7528\u53c2\u6570\u53ca\u5176\u7528\u6cd5\u3002","title":"\u7b56\u7565\u53c2\u6570"},{"location":"zh/parameters/#_2","text":"","title":"\u6838\u5fc3\u53c2\u6570"},{"location":"zh/parameters/#_3","text":"","title":"\u8fdb\u573a\u548c\u51fa\u573a\u65f6\u673a"},{"location":"zh/parameters/#max_entry_dte","text":"\u7c7b\u578b: int | \u9ed8\u8ba4\u503c: 90 \u7b56\u7565\u8fdb\u573a\u65f6\u7684\u6700\u5927\u5230\u671f\u5929\u6570\u3002 results = op . iron_condor ( data , max_entry_dte = 45 ) # \u5728 45 DTE \u6216\u66f4\u5c11\u65f6\u8fdb\u573a \u4f7f\u7528\u573a\u666f: - max_entry_dte=30 - \u77ed\u671f\u4ea4\u6613 - max_entry_dte=60 - \u4e2d\u671f\u4ea4\u6613 - max_entry_dte=90 - \u957f\u671f\u6301\u4ed3","title":"max_entry_dte"},{"location":"zh/parameters/#exit_dte","text":"\u7c7b\u578b: int | \u9ed8\u8ba4\u503c: 0 \u7b56\u7565\u51fa\u573a\u65f6\u7684\u5230\u671f\u5929\u6570\u3002\u4f7f\u7528 0 \u6301\u6709\u81f3\u5230\u671f\u3002 results = op . long_calls ( data , max_entry_dte = 60 , exit_dte = 30 ) # \u5728 30 DTE \u65f6\u51fa\u573a \u4f7f\u7528\u573a\u666f: - exit_dte=0 - \u6301\u6709\u81f3\u5230\u671f - exit_dte=21 - \u5230\u671f\u524d 3 \u5468\u51fa\u573a - exit_dte=7 - \u5230\u671f\u524d 1 \u5468\u51fa\u573a","title":"exit_dte"},{"location":"zh/parameters/#_4","text":"","title":"\u8fc7\u6ee4\u53c2\u6570"},{"location":"zh/parameters/#max_otm_pct","text":"\u7c7b\u578b: float | \u9ed8\u8ba4\u503c: 0.5 \u671f\u6743\u9009\u62e9\u7684\u6700\u5927\u865a\u503c\u767e\u5206\u6bd4\u3002 results = op . short_puts ( data , max_otm_pct = 0.20 ) # \u6700\u5927 20% OTM \u793a\u4f8b: - 0.05 - \u63a5\u8fd1\u5e73\u503c\u671f\u6743(\u6700\u5927 5% OTM) - 0.20 - \u9002\u5ea6\u865a\u503c(\u6700\u5927 20% OTM) - 0.50 - \u5bbd\u8303\u56f4(\u6700\u5927 50% OTM) \u8ba1\u7b97\u65b9\u6cd5: # \u5bf9\u4e8e calls: (strike - underlying_price) / underlying_price # \u5bf9\u4e8e puts: (underlying_price - strike) / underlying_price","title":"max_otm_pct"},{"location":"zh/parameters/#min_bid_ask","text":"\u7c7b\u578b: float | \u9ed8\u8ba4\u503c: 0.05 \u671f\u6743\u6d41\u52a8\u6027\u6240\u9700\u7684\u6700\u5c0f\u4e70\u5356\u4ef7\u5dee\u3002 results = op . iron_condor ( data , min_bid_ask = 0.10 ) # \u8981\u6c42 $0.10+ \u4ef7\u5dee \u4f7f\u7528\u573a\u666f: - 0.05 - \u6d41\u52a8\u6027\u8f83\u4f4e\u7684\u6807\u7684 - 0.10 - \u6807\u51c6\u6d41\u52a8\u6027\u8981\u6c42 - 0.20 - \u9ad8\u6d41\u52a8\u6027\u8981\u6c42(SPX\u3001SPY)","title":"min_bid_ask"},{"location":"zh/parameters/#_5","text":"","title":"\u5206\u7ec4\u548c\u805a\u5408"},{"location":"zh/parameters/#dte_interval","text":"\u7c7b\u578b: int | \u9ed8\u8ba4\u503c: 7 \u6309 DTE \u8303\u56f4\u5206\u7ec4\u7ed3\u679c\u7684\u95f4\u9694\u3002 results = op . long_calls ( data , dte_interval = 14 ) # \u6309 14 \u5929\u6876\u5206\u7ec4 \u793a\u4f8b: - 7 - \u6bcf\u5468\u5206\u7ec4: (0,7], (7,14], (14,21], ... - 14 - \u53cc\u5468\u5206\u7ec4: (0,14], (14,28], ... - 30 - \u6bcf\u6708\u5206\u7ec4: (0,30], (30,60], ...","title":"dte_interval"},{"location":"zh/parameters/#otm_pct_interval","text":"\u7c7b\u578b: float | \u9ed8\u8ba4\u503c: 0.05 \u6309 OTM \u767e\u5206\u6bd4\u8303\u56f4\u5206\u7ec4\u7ed3\u679c\u7684\u95f4\u9694\u3002 results = op . short_strangles ( data , otm_pct_interval = 0.10 ) # 10% OTM \u6876 \u793a\u4f8b: - 0.05 - \u7ec6\u7c92\u5ea6: (0.0, 0.05], (0.05, 0.10], ... - 0.10 - \u7c97\u7c92\u5ea6\u6876: (0.0, 0.10], (0.10, 0.20], ...","title":"otm_pct_interval"},{"location":"zh/parameters/#_6","text":"","title":"\u8f93\u51fa\u63a7\u5236"},{"location":"zh/parameters/#raw","text":"\u7c7b\u578b: bool | \u9ed8\u8ba4\u503c: False \u8fd4\u56de\u539f\u59cb\u4ea4\u6613\u6570\u636e\u800c\u4e0d\u662f\u805a\u5408\u7edf\u8ba1\u3002 # \u805a\u5408\u7edf\u8ba1(\u9ed8\u8ba4) results = op . iron_condor ( data , raw = False ) # \u8f93\u51fa: ['dte_range', 'otm_pct_range', 'count', 'mean', 'std', ...] # \u539f\u59cb\u4ea4\u6613\u6570\u636e trades = op . iron_condor ( data , raw = True ) # \u8f93\u51fa: ['expiration', 'strike_leg1', 'strike_leg2', 'entry', 'exit', 'pct_change', ...] \u4f7f\u7528\u573a\u666f: - raw=False - \u6027\u80fd\u7edf\u8ba1\u3001\u56de\u6d4b\u7ed3\u679c - raw=True - \u81ea\u5b9a\u4e49\u5206\u6790\u3001\u8be6\u7ec6\u68c0\u67e5\u3001\u8c03\u8bd5","title":"raw"},{"location":"zh/parameters/#drop_nan","text":"\u7c7b\u578b: bool | \u9ed8\u8ba4\u503c: True \u5220\u9664\u7ed3\u679c\u4e2d\u5305\u542b NaN \u503c\u7684\u884c\u3002 results = op . long_calls ( data , drop_nan = False ) # \u4fdd\u7559 NaN \u503c","title":"drop_nan"},{"location":"zh/parameters/#greeks","text":"","title":"Greeks \u53c2\u6570"},{"location":"zh/parameters/#delta","text":"","title":"Delta \u8fc7\u6ee4"},{"location":"zh/parameters/#delta_min-delta_max","text":"\u7c7b\u578b: float | \u9ed8\u8ba4\u503c: None \u6309 delta \u8303\u56f4\u8fc7\u6ee4\u671f\u6743\u3002 # \u76ee\u6807 30-delta \u671f\u6743 results = op . short_puts ( data , delta_min = 0.25 , delta_max = 0.35 ) \u5e38\u89c1 Delta \u8303\u56f4: - 0.15-0.20 - 1 \u4e2a\u6807\u51c6\u5dee OTM(\u7ea6 15-20% \u6982\u7387 ITM) - 0.25-0.35 - \u4fe1\u7528\u4ef7\u5dee\u5e38\u7528 - 0.40-0.50 - \u63a5\u8fd1\u5e73\u503c\u671f\u6743 - 0.50+ - \u5b9e\u503c\u671f\u6743 \u6ce8\u610f: \u9700\u8981\u6570\u636e\u4e2d\u5305\u542b delta \u5217\u3002","title":"delta_min / delta_max"},{"location":"zh/parameters/#delta_interval","text":"\u7c7b\u578b: float | \u9ed8\u8ba4\u503c: None \u6309 delta \u8303\u56f4\u5206\u7ec4\u7ed3\u679c\u3002 results = op . iron_condor ( data , delta_interval = 0.10 # \u5206\u7ec4\u4e3a: (0.0,0.1], (0.1,0.2], \u7b49 )","title":"delta_interval"},{"location":"zh/parameters/#_7","text":"","title":"\u6ed1\u70b9\u53c2\u6570"},{"location":"zh/parameters/#slippage","text":"\u7c7b\u578b: str | \u9ed8\u8ba4\u503c: 'mid' \u6210\u4ea4\u4ef7\u683c\u8ba1\u7b97\u7684\u6ed1\u70b9\u6a21\u578b\u3002 results = op . long_calls ( data , slippage = 'liquidity' ) \u9009\u9879: \u6a21\u5f0f \u63cf\u8ff0 \u4e70\u5165\u6210\u4ea4 \u5356\u51fa\u6210\u4ea4 \u6700\u9002\u5408 'mid' \u4e70\u5356\u4ef7\u4e4b\u95f4\u7684\u4e2d\u95f4\u4ef7 (bid+ask)/2 (bid+ask)/2 \u7406\u60f3/\u4e50\u89c2 'spread' \u6700\u5dee\u60c5\u51b5\u4ef7\u5dee Ask Bid \u4fdd\u5b88 'liquidity' \u57fa\u4e8e\u6210\u4ea4\u91cf\u7684\u52a8\u6001 \u52a8\u6001 \u52a8\u6001 \u73b0\u5b9e","title":"slippage"},{"location":"zh/parameters/#fill_ratio-liquidity","text":"\u7c7b\u578b: float | \u9ed8\u8ba4\u503c: 0.5 \u57fa\u4e8e\u6d41\u52a8\u6027\u6ed1\u70b9\u7684\u57fa\u7840\u6210\u4ea4\u6bd4\u7387(0.0 = bid/ask, 1.0 = ask/bid)\u3002 results = op . iron_condor ( data , slippage = 'liquidity' , fill_ratio = 0.3 # \u66f4\u4fdd\u5b88\u7684\u6210\u4ea4(\u901a\u8fc7\u4ef7\u5dee\u7684 30%) ) \u793a\u4f8b: - 0.0 - \u6700\u5dee\u60c5\u51b5(\u4ee5 ask \u4e70\u5165,\u4ee5 bid \u5356\u51fa) - 0.5 - \u4e2d\u70b9(\u9ed8\u8ba4) - 1.0 - \u6700\u4f73\u60c5\u51b5(\u4ee5 bid \u4e70\u5165,\u4ee5 ask \u5356\u51fa - \u4e0d\u73b0\u5b9e)","title":"fill_ratio (\u4ec5\u9650 Liquidity \u6a21\u5f0f)"},{"location":"zh/parameters/#reference_volume-liquidity","text":"\u7c7b\u578b: int | \u9ed8\u8ba4\u503c: 1000 \u6d41\u52a8\u6027\u6a21\u5f0f\u4e0b\u786e\u5b9a\u6d41\u52a8\u671f\u6743\u7684\u6210\u4ea4\u91cf\u9608\u503c\u3002 results = op . short_strangles ( data , slippage = 'liquidity' , reference_volume = 5000 # SPX \u7684\u66f4\u9ad8\u9608\u503c ) \u6307\u5357: - 500-1000 - \u6d41\u52a8\u6027\u8f83\u4f4e\u7684\u6807\u7684 - 1000-2000 - \u6807\u51c6\u6d41\u52a8\u6027(\u9ed8\u8ba4) - 5000+ - \u9ad8\u6d41\u52a8\u6027(SPX\u3001SPY\u3001QQQ) \u6ce8\u610f: \u9700\u8981\u6570\u636e\u4e2d\u5305\u542b volume \u6216 open_interest \u5217\u3002","title":"reference_volume (\u4ec5\u9650 Liquidity \u6a21\u5f0f)"},{"location":"zh/parameters/#calendar-diagonal","text":"Calendar \u548c diagonal \u4ef7\u5dee\u4f7f\u7528\u4e0d\u540c\u7684\u65f6\u95f4\u53c2\u6570:","title":"Calendar &amp; Diagonal \u53c2\u6570"},{"location":"zh/parameters/#front_dte_min-front_dte_max","text":"\u7c7b\u578b: int | \u9ed8\u8ba4\u503c: 20 / 40 \u524d\u6708\u817f\u7684 DTE \u8303\u56f4\u3002 results = op . long_call_calendar ( data , front_dte_min = 25 , front_dte_max = 35 # \u524d\u6708\u817f\u5728 25-35 DTE \u4e4b\u95f4 )","title":"front_dte_min / front_dte_max"},{"location":"zh/parameters/#back_dte_min-back_dte_max","text":"\u7c7b\u578b: int | \u9ed8\u8ba4\u503c: 50 / 90 \u540e\u6708\u817f\u7684 DTE \u8303\u56f4\u3002 results = op . long_call_diagonal ( data , back_dte_min = 60 , back_dte_max = 120 # \u540e\u6708\u817f\u5728 60-120 DTE \u4e4b\u95f4 )","title":"back_dte_min / back_dte_max"},{"location":"zh/parameters/#_8","text":"\u7ec4\u5408\u591a\u4e2a\u53c2\u6570: import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) results = op . iron_condor ( data , # \u65f6\u673a max_entry_dte = 45 , exit_dte = 21 , # \u8fc7\u6ee4 max_otm_pct = 0.30 , min_bid_ask = 0.15 , delta_min = 0.15 , delta_max = 0.20 , # \u5206\u7ec4 dte_interval = 7 , otm_pct_interval = 0.05 , delta_interval = 0.05 , # \u6ed1\u70b9 slippage = 'liquidity' , fill_ratio = 0.5 , reference_volume = 5000 , # \u8f93\u51fa raw = False , drop_nan = True ) print ( results . head ())","title":"\u5b8c\u6574\u793a\u4f8b"},{"location":"zh/parameters/#_9","text":"","title":"\u9ed8\u8ba4\u503c\u53c2\u8003"},{"location":"zh/parameters/#_10","text":"default_kwargs = { \"dte_interval\" : 7 , \"max_entry_dte\" : 90 , \"exit_dte\" : 0 , \"otm_pct_interval\" : 0.05 , \"max_otm_pct\" : 0.5 , \"min_bid_ask\" : 0.05 , \"drop_nan\" : True , \"raw\" : False , \"delta_min\" : None , \"delta_max\" : None , \"delta_interval\" : None , \"slippage\" : \"mid\" , \"fill_ratio\" : 0.5 , \"reference_volume\" : 1000 , }","title":"\u6807\u51c6\u7b56\u7565"},{"location":"zh/parameters/#calendar-diagonal_1","text":"calendar_default_kwargs = { \"front_dte_min\" : 20 , \"front_dte_max\" : 40 , \"back_dte_min\" : 50 , \"back_dte_max\" : 90 , \"exit_dte\" : 7 , \"dte_interval\" : 7 , \"otm_pct_interval\" : 0.05 , \"max_otm_pct\" : 0.5 , \"min_bid_ask\" : 0.05 , \"drop_nan\" : True , \"raw\" : False , \"slippage\" : \"mid\" , \"fill_ratio\" : 0.5 , \"reference_volume\" : 1000 , }","title":"Calendar &amp; Diagonal \u7b56\u7565"},{"location":"zh/parameters/#_11","text":"\u67e5\u770b \u793a\u4f8b \u4e86\u89e3\u5b9e\u9645\u53c2\u6570\u4f7f\u7528 \u63a2\u7d22 \u7b56\u7565 \u4e86\u89e3\u7279\u5b9a\u7b56\u7565\u7684\u8003\u8651\u56e0\u7d20 \u67e5\u9605 API \u53c2\u8003 \u4e86\u89e3\u51fd\u6570\u7b7e\u540d","title":"\u4e0b\u4e00\u6b65"},{"location":"zh/strategies/","text":"\u7b56\u7565\u6982\u89c8 \u00b6 Optopsy \u5305\u542b 28 \u79cd\u5185\u7f6e\u671f\u6743\u7b56\u7565,\u6db5\u76d6\u5355\u817f\u3001\u591a\u817f\u548c\u57fa\u4e8e\u65f6\u95f4\u7684\u7b56\u7565\u3002 \u7b56\u7565\u5206\u7c7b \u00b6 \u5355\u817f\u7b56\u7565 (4) \u00b6 \u4f7f\u7528 call \u6216 put \u7684\u57fa\u672c\u65b9\u5411\u6027\u4ea4\u6613\u3002 Long Calls - \u770b\u6da8\u65b9\u5411\u6027\u62bc\u6ce8 Short Calls - \u770b\u8dcc\u6216\u4e2d\u6027\u6536\u76ca Long Puts - \u770b\u8dcc\u65b9\u5411\u6027\u62bc\u6ce8 Short Puts - \u770b\u6da8\u6536\u76ca\u7b56\u7565 \u4e86\u89e3\u66f4\u591a \u2192 Straddles & Strangles (4) \u00b6 \u57fa\u4e8e\u6ce2\u52a8\u7387\u7684\u7b56\u7565,\u7ed3\u5408 call \u548c put\u3002 Long Straddle - \u4ece\u5927\u5e45\u6ce2\u52a8\u4e2d\u83b7\u5229 Short Straddle - \u4ece\u4f4e\u6ce2\u52a8\u7387\u83b7\u5f97\u6536\u76ca Long Strangle - \u6210\u672c\u66f4\u4f4e\u7684\u6ce2\u52a8\u7387\u4ea4\u6613 Short Strangle - \u66f4\u5bbd\u7684\u76c8\u5229\u533a\u95f4\u6536\u76ca \u4e86\u89e3\u66f4\u591a \u2192 \u5782\u76f4\u4ef7\u5dee (4) \u00b6 \u6709\u9650\u98ce\u9669\u7684\u65b9\u5411\u6027\u7b56\u7565\u3002 Long Call Spread - \u770b\u6da8\u501f\u8bb0\u4ef7\u5dee Short Call Spread - \u770b\u8dcc\u4fe1\u7528\u4ef7\u5dee Long Put Spread - \u770b\u8dcc\u501f\u8bb0\u4ef7\u5dee Short Put Spread - \u770b\u6da8\u4fe1\u7528\u4ef7\u5dee \u4e86\u89e3\u66f4\u591a \u2192 \u8776\u5f0f\u4ef7\u5dee (4) \u00b6 \u9488\u5bf9\u7279\u5b9a\u4ef7\u683c\u533a\u95f4\u7684\u4e2d\u6027\u7b56\u7565\u3002 Long Call Butterfly - \u5728\u4e2d\u95f4\u884c\u6743\u4ef7\u83b7\u5229 Short Call Butterfly - \u4ece\u4ef7\u683c\u79fb\u52a8\u83b7\u5229 Long Put Butterfly - \u770b\u8dcc\u8776\u5f0f Short Put Butterfly - \u53cd\u5411 put \u8776\u5f0f \u4e86\u89e3\u66f4\u591a \u2192 Iron \u7b56\u7565 (4) \u00b6 \u5177\u6709\u786e\u5b9a\u98ce\u9669\u7684\u56db\u817f\u7b56\u7565\u3002 Iron Condor - \u533a\u95f4\u9707\u8361\u6536\u76ca Reverse Iron Condor - \u7a81\u7834\u4ea4\u6613 Iron Butterfly - \u66f4\u7d27\u7684\u76c8\u5229\u533a\u95f4 Reverse Iron Butterfly - Long \u6ce2\u52a8\u7387 \u4e86\u89e3\u66f4\u591a \u2192 \u5907\u5151\u7b56\u7565 (2) \u00b6 \u80a1\u7968 + \u671f\u6743\u7ec4\u5408(\u5408\u6210)\u3002 Covered Call - \u6301\u80a1\u6536\u76ca Protective Put - \u4e0b\u884c\u4fdd\u62a4 \u4e86\u89e3\u66f4\u591a \u2192 \u65e5\u5386\u4ef7\u5dee (4) \u00b6 \u76f8\u540c\u884c\u6743\u4ef7,\u4e0d\u540c\u5230\u671f\u65e5\u3002 Long Call Calendar - \u65f6\u95f4\u8870\u51cf\u4ea4\u6613 Short Call Calendar - \u53cd\u5411\u65e5\u5386 Long Put Calendar - \u770b\u8dcc\u65f6\u95f4\u4ef7\u5dee Short Put Calendar - \u53cd\u5411 put \u65e5\u5386 \u4e86\u89e3\u66f4\u591a \u2192 \u5bf9\u89d2\u4ef7\u5dee (4) \u00b6 \u4e0d\u540c\u884c\u6743\u4ef7\u548c\u4e0d\u540c\u5230\u671f\u65e5\u3002 Long Call Diagonal - \u6df7\u5408\u4ef7\u5dee Short Call Diagonal - \u53cd\u5411 call \u5bf9\u89d2 Long Put Diagonal - \u770b\u8dcc\u5bf9\u89d2 Short Put Diagonal - \u770b\u6da8\u5bf9\u89d2 \u4e86\u89e3\u66f4\u591a \u2192 \u5feb\u901f\u53c2\u8003\u8868 \u00b6 \u7b56\u7565 \u817f\u6570 \u5e02\u573a\u89c2\u70b9 \u6700\u5927\u6536\u76ca \u6700\u5927\u635f\u5931 \u4f7f\u7528\u793a\u4f8b Long Call 1 \u770b\u6da8 \u65e0\u9650 \u652f\u4ed8\u7684\u6743\u5229\u91d1 \u62bc\u6ce8\u4e0a\u6da8 Short Put 1 \u770b\u6da8 \u6536\u5230\u7684\u6743\u5229\u91d1 \u91cd\u5927\u635f\u5931 \u521b\u6536 Iron Condor 4 \u4e2d\u6027 \u51c0\u4fe1\u7528 \u884c\u6743\u4ef7\u5dee \u533a\u95f4\u9707\u8361\u5e02\u573a Long Straddle 2 \u9ad8\u6ce2\u52a8\u7387 \u65e0\u9650 \u652f\u4ed8\u7684\u6743\u5229\u91d1 \u8d22\u62a5\u524d Call Butterfly 3 \u4e2d\u6027 \u7ffc\u5bbd \u51c0\u501f\u8bb0 \u9501\u5b9a\u884c\u6743\u4ef7 Call Calendar 2 \u4e2d\u6027 \u53ef\u53d8 \u51c0\u501f\u8bb0 \u65f6\u95f4\u8870\u51cf\u4ea4\u6613 \u7b56\u7565\u9009\u62e9\u6307\u5357 \u00b6 \u5982\u679c\u60a8\u8ba4\u4e3a\u5e02\u573a\u5c06... \u00b6 \u5927\u5e45\u4e0a\u6da8 - Long Calls - Long Call Spread \u5927\u5e45\u4e0b\u8dcc - Long Puts - Long Put Spread \u4fdd\u6301\u5e73\u7a33 - Short Straddle - Short Strangle - Iron Condor - Iron Butterfly \u6ce2\u52a8\u4f46\u65b9\u5411\u4e0d\u786e\u5b9a - Long Straddle - Long Strangle \u4fdd\u6301\u5728\u5f53\u524d\u4ef7\u683c\u9644\u8fd1 - Calendar Spreads - Butterflies \u6309\u98ce\u9669/\u56de\u62a5\u7279\u5f81 \u00b6 \u6709\u9650\u98ce\u9669,\u6709\u9650\u56de\u62a5 - \u6240\u6709\u4ef7\u5dee(\u5782\u76f4\u3001\u8776\u5f0f\u3001iron condor) \u6709\u9650\u98ce\u9669,\u65e0\u9650\u56de\u62a5 - Long calls/puts - Long straddles/strangles \u91cd\u5927\u98ce\u9669,\u6709\u9650\u56de\u62a5 - Short calls/puts - Short straddles/strangles \u901a\u7528\u53c2\u6570 \u00b6 \u6240\u6709\u7b56\u7565\u90fd\u63a5\u53d7\u8fd9\u4e9b\u901a\u7528\u53c2\u6570: max_entry_dte - \u8fdb\u573a\u65f6\u7684\u6700\u5927 DTE exit_dte - \u51fa\u573a\u65f6\u7684 DTE dte_interval - \u7ed3\u679c\u5206\u7ec4\u95f4\u9694 max_otm_pct - \u6700\u5927\u865a\u503c\u767e\u5206\u6bd4 otm_pct_interval - OTM% \u5206\u7ec4\u95f4\u9694 min_bid_ask - \u6700\u5c0f\u4e70\u5356\u4ef7\u5dee\u8fc7\u6ee4\u5668 raw - \u8fd4\u56de\u539f\u59cb\u4ea4\u6613\u6570\u636e(\u9ed8\u8ba4:\u805a\u5408\u7edf\u8ba1) \u67e5\u770b \u53c2\u6570\u6307\u5357 \u83b7\u53d6\u5b8c\u6574\u8be6\u7ec6\u4fe1\u606f\u3002 \u4e0b\u4e00\u6b65 \u00b6 \u6df1\u5165\u4e86\u89e3\u7279\u5b9a \u7b56\u7565\u5206\u7c7b \u4e86\u89e3 \u7b56\u7565\u53c2\u6570 \u67e5\u770b\u771f\u5b9e\u56de\u6d4b\u7684 \u793a\u4f8b \u67e5\u9605 API \u53c2\u8003 \u4e86\u89e3\u51fd\u6570\u7b7e\u540d","title":"\u6982\u89c8"},{"location":"zh/strategies/#_1","text":"Optopsy \u5305\u542b 28 \u79cd\u5185\u7f6e\u671f\u6743\u7b56\u7565,\u6db5\u76d6\u5355\u817f\u3001\u591a\u817f\u548c\u57fa\u4e8e\u65f6\u95f4\u7684\u7b56\u7565\u3002","title":"\u7b56\u7565\u6982\u89c8"},{"location":"zh/strategies/#_2","text":"","title":"\u7b56\u7565\u5206\u7c7b"},{"location":"zh/strategies/#4","text":"\u4f7f\u7528 call \u6216 put \u7684\u57fa\u672c\u65b9\u5411\u6027\u4ea4\u6613\u3002 Long Calls - \u770b\u6da8\u65b9\u5411\u6027\u62bc\u6ce8 Short Calls - \u770b\u8dcc\u6216\u4e2d\u6027\u6536\u76ca Long Puts - \u770b\u8dcc\u65b9\u5411\u6027\u62bc\u6ce8 Short Puts - \u770b\u6da8\u6536\u76ca\u7b56\u7565 \u4e86\u89e3\u66f4\u591a \u2192","title":"\u5355\u817f\u7b56\u7565 (4)"},{"location":"zh/strategies/#straddles-strangles-4","text":"\u57fa\u4e8e\u6ce2\u52a8\u7387\u7684\u7b56\u7565,\u7ed3\u5408 call \u548c put\u3002 Long Straddle - \u4ece\u5927\u5e45\u6ce2\u52a8\u4e2d\u83b7\u5229 Short Straddle - \u4ece\u4f4e\u6ce2\u52a8\u7387\u83b7\u5f97\u6536\u76ca Long Strangle - \u6210\u672c\u66f4\u4f4e\u7684\u6ce2\u52a8\u7387\u4ea4\u6613 Short Strangle - \u66f4\u5bbd\u7684\u76c8\u5229\u533a\u95f4\u6536\u76ca \u4e86\u89e3\u66f4\u591a \u2192","title":"Straddles &amp; Strangles (4)"},{"location":"zh/strategies/#4_1","text":"\u6709\u9650\u98ce\u9669\u7684\u65b9\u5411\u6027\u7b56\u7565\u3002 Long Call Spread - \u770b\u6da8\u501f\u8bb0\u4ef7\u5dee Short Call Spread - \u770b\u8dcc\u4fe1\u7528\u4ef7\u5dee Long Put Spread - \u770b\u8dcc\u501f\u8bb0\u4ef7\u5dee Short Put Spread - \u770b\u6da8\u4fe1\u7528\u4ef7\u5dee \u4e86\u89e3\u66f4\u591a \u2192","title":"\u5782\u76f4\u4ef7\u5dee (4)"},{"location":"zh/strategies/#4_2","text":"\u9488\u5bf9\u7279\u5b9a\u4ef7\u683c\u533a\u95f4\u7684\u4e2d\u6027\u7b56\u7565\u3002 Long Call Butterfly - \u5728\u4e2d\u95f4\u884c\u6743\u4ef7\u83b7\u5229 Short Call Butterfly - \u4ece\u4ef7\u683c\u79fb\u52a8\u83b7\u5229 Long Put Butterfly - \u770b\u8dcc\u8776\u5f0f Short Put Butterfly - \u53cd\u5411 put \u8776\u5f0f \u4e86\u89e3\u66f4\u591a \u2192","title":"\u8776\u5f0f\u4ef7\u5dee (4)"},{"location":"zh/strategies/#iron-4","text":"\u5177\u6709\u786e\u5b9a\u98ce\u9669\u7684\u56db\u817f\u7b56\u7565\u3002 Iron Condor - \u533a\u95f4\u9707\u8361\u6536\u76ca Reverse Iron Condor - \u7a81\u7834\u4ea4\u6613 Iron Butterfly - \u66f4\u7d27\u7684\u76c8\u5229\u533a\u95f4 Reverse Iron Butterfly - Long \u6ce2\u52a8\u7387 \u4e86\u89e3\u66f4\u591a \u2192","title":"Iron \u7b56\u7565 (4)"},{"location":"zh/strategies/#2","text":"\u80a1\u7968 + \u671f\u6743\u7ec4\u5408(\u5408\u6210)\u3002 Covered Call - \u6301\u80a1\u6536\u76ca Protective Put - \u4e0b\u884c\u4fdd\u62a4 \u4e86\u89e3\u66f4\u591a \u2192","title":"\u5907\u5151\u7b56\u7565 (2)"},{"location":"zh/strategies/#4_3","text":"\u76f8\u540c\u884c\u6743\u4ef7,\u4e0d\u540c\u5230\u671f\u65e5\u3002 Long Call Calendar - \u65f6\u95f4\u8870\u51cf\u4ea4\u6613 Short Call Calendar - \u53cd\u5411\u65e5\u5386 Long Put Calendar - \u770b\u8dcc\u65f6\u95f4\u4ef7\u5dee Short Put Calendar - \u53cd\u5411 put \u65e5\u5386 \u4e86\u89e3\u66f4\u591a \u2192","title":"\u65e5\u5386\u4ef7\u5dee (4)"},{"location":"zh/strategies/#4_4","text":"\u4e0d\u540c\u884c\u6743\u4ef7\u548c\u4e0d\u540c\u5230\u671f\u65e5\u3002 Long Call Diagonal - \u6df7\u5408\u4ef7\u5dee Short Call Diagonal - \u53cd\u5411 call \u5bf9\u89d2 Long Put Diagonal - \u770b\u8dcc\u5bf9\u89d2 Short Put Diagonal - \u770b\u6da8\u5bf9\u89d2 \u4e86\u89e3\u66f4\u591a \u2192","title":"\u5bf9\u89d2\u4ef7\u5dee (4)"},{"location":"zh/strategies/#_3","text":"\u7b56\u7565 \u817f\u6570 \u5e02\u573a\u89c2\u70b9 \u6700\u5927\u6536\u76ca \u6700\u5927\u635f\u5931 \u4f7f\u7528\u793a\u4f8b Long Call 1 \u770b\u6da8 \u65e0\u9650 \u652f\u4ed8\u7684\u6743\u5229\u91d1 \u62bc\u6ce8\u4e0a\u6da8 Short Put 1 \u770b\u6da8 \u6536\u5230\u7684\u6743\u5229\u91d1 \u91cd\u5927\u635f\u5931 \u521b\u6536 Iron Condor 4 \u4e2d\u6027 \u51c0\u4fe1\u7528 \u884c\u6743\u4ef7\u5dee \u533a\u95f4\u9707\u8361\u5e02\u573a Long Straddle 2 \u9ad8\u6ce2\u52a8\u7387 \u65e0\u9650 \u652f\u4ed8\u7684\u6743\u5229\u91d1 \u8d22\u62a5\u524d Call Butterfly 3 \u4e2d\u6027 \u7ffc\u5bbd \u51c0\u501f\u8bb0 \u9501\u5b9a\u884c\u6743\u4ef7 Call Calendar 2 \u4e2d\u6027 \u53ef\u53d8 \u51c0\u501f\u8bb0 \u65f6\u95f4\u8870\u51cf\u4ea4\u6613","title":"\u5feb\u901f\u53c2\u8003\u8868"},{"location":"zh/strategies/#_4","text":"","title":"\u7b56\u7565\u9009\u62e9\u6307\u5357"},{"location":"zh/strategies/#_5","text":"\u5927\u5e45\u4e0a\u6da8 - Long Calls - Long Call Spread \u5927\u5e45\u4e0b\u8dcc - Long Puts - Long Put Spread \u4fdd\u6301\u5e73\u7a33 - Short Straddle - Short Strangle - Iron Condor - Iron Butterfly \u6ce2\u52a8\u4f46\u65b9\u5411\u4e0d\u786e\u5b9a - Long Straddle - Long Strangle \u4fdd\u6301\u5728\u5f53\u524d\u4ef7\u683c\u9644\u8fd1 - Calendar Spreads - Butterflies","title":"\u5982\u679c\u60a8\u8ba4\u4e3a\u5e02\u573a\u5c06..."},{"location":"zh/strategies/#_6","text":"\u6709\u9650\u98ce\u9669,\u6709\u9650\u56de\u62a5 - \u6240\u6709\u4ef7\u5dee(\u5782\u76f4\u3001\u8776\u5f0f\u3001iron condor) \u6709\u9650\u98ce\u9669,\u65e0\u9650\u56de\u62a5 - Long calls/puts - Long straddles/strangles \u91cd\u5927\u98ce\u9669,\u6709\u9650\u56de\u62a5 - Short calls/puts - Short straddles/strangles","title":"\u6309\u98ce\u9669/\u56de\u62a5\u7279\u5f81"},{"location":"zh/strategies/#_7","text":"\u6240\u6709\u7b56\u7565\u90fd\u63a5\u53d7\u8fd9\u4e9b\u901a\u7528\u53c2\u6570: max_entry_dte - \u8fdb\u573a\u65f6\u7684\u6700\u5927 DTE exit_dte - \u51fa\u573a\u65f6\u7684 DTE dte_interval - \u7ed3\u679c\u5206\u7ec4\u95f4\u9694 max_otm_pct - \u6700\u5927\u865a\u503c\u767e\u5206\u6bd4 otm_pct_interval - OTM% \u5206\u7ec4\u95f4\u9694 min_bid_ask - \u6700\u5c0f\u4e70\u5356\u4ef7\u5dee\u8fc7\u6ee4\u5668 raw - \u8fd4\u56de\u539f\u59cb\u4ea4\u6613\u6570\u636e(\u9ed8\u8ba4:\u805a\u5408\u7edf\u8ba1) \u67e5\u770b \u53c2\u6570\u6307\u5357 \u83b7\u53d6\u5b8c\u6574\u8be6\u7ec6\u4fe1\u606f\u3002","title":"\u901a\u7528\u53c2\u6570"},{"location":"zh/strategies/#_8","text":"\u6df1\u5165\u4e86\u89e3\u7279\u5b9a \u7b56\u7565\u5206\u7c7b \u4e86\u89e3 \u7b56\u7565\u53c2\u6570 \u67e5\u770b\u771f\u5b9e\u56de\u6d4b\u7684 \u793a\u4f8b \u67e5\u9605 API \u53c2\u8003 \u4e86\u89e3\u51fd\u6570\u7b7e\u540d","title":"\u4e0b\u4e00\u6b65"},{"location":"zh/strategies/butterflies/","text":"\u8776\u5f0f\u4ef7\u5dee \u00b6 \u8776\u5f0f\u4ef7\u5dee\u662f\u4e09\u817f\u7b56\u7565,\u65e8\u5728\u5f53\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u7279\u5b9a\u4ef7\u683c\u9644\u8fd1\u65f6\u83b7\u5229\u3002\u5b83\u4eec\u63d0\u4f9b\u6709\u9650\u98ce\u9669\u548c\u6709\u9650\u56de\u62a5,\u5e02\u573a\u89c2\u70b9\u4e2d\u6027\u3002 Long Call Butterfly \u00b6 \u63cf\u8ff0 \u00b6 \u5f53\u6807\u7684\u8d44\u4ea7\u5728\u5230\u671f\u65f6\u4fdd\u6301\u5728\u4e2d\u95f4\u884c\u6743\u4ef7\u65f6\u83b7\u5229\u3002 \u7ec4\u6210: - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e(\u7ffc) - Short 2 \u4e2a calls,\u884c\u6743\u4ef7\u4e3a\u4e2d\u95f4(\u8eab\u4f53) - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8(\u7ffc) \u793a\u4f8b \u00b6 import optopsy as op results = op . long_call_butterfly ( data , max_entry_dte = 45 , exit_dte = 21 ) Short Call Butterfly \u00b6 \u63cf\u8ff0 \u00b6 \u5f53\u6807\u7684\u8d44\u4ea7\u5728\u4efb\u4e00\u65b9\u5411\u504f\u79bb\u4e2d\u95f4\u884c\u6743\u4ef7\u65f6\u83b7\u5229\u3002 \u7ec4\u6210: - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e - Long 2 \u4e2a calls,\u884c\u6743\u4ef7\u4e3a\u4e2d\u95f4 - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8 \u793a\u4f8b \u00b6 results = op . short_call_butterfly ( data , max_entry_dte = 30 , exit_dte = 7 ) Long Put Butterfly \u00b6 \u63cf\u8ff0 \u00b6 \u7c7b\u4f3c\u4e8e long call butterfly,\u4f46\u4f7f\u7528 puts\u3002\u5728\u4e2d\u95f4\u884c\u6743\u4ef7\u83b7\u5229\u3002 \u7ec4\u6210: - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e(\u7ffc) - Short 2 \u4e2a puts,\u884c\u6743\u4ef7\u4e3a\u4e2d\u95f4(\u8eab\u4f53) - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8(\u7ffc) \u793a\u4f8b \u00b6 results = op . long_put_butterfly ( data , max_entry_dte = 45 , exit_dte = 21 ) Short Put Butterfly \u00b6 \u63cf\u8ff0 \u00b6 \u5f53\u6807\u7684\u8d44\u4ea7\u5927\u5e45\u504f\u79bb\u4e2d\u95f4\u884c\u6743\u4ef7\u65f6\u83b7\u5229\u3002 \u7ec4\u6210: - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e - Long 2 \u4e2a puts,\u884c\u6743\u4ef7\u4e3a\u4e2d\u95f4 - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8 \u793a\u4f8b \u00b6 results = op . short_put_butterfly ( data , max_entry_dte = 30 , exit_dte = 7 ) \u5173\u952e\u7279\u5f81 \u00b6 \u7b49\u5bbd\u7ffc : \u7ffc\u4e0e\u8eab\u4f53\u7b49\u8ddd \u4f4e\u6210\u672c : \u901a\u5e38\u4ee5\u5c0f\u989d\u501f\u8bb0\u751a\u81f3\u4fe1\u7528\u8fdb\u573a \u6709\u9650\u98ce\u9669 : \u6700\u5927\u635f\u5931\u9650\u4e8e\u652f\u4ed8\u7684\u501f\u8bb0 \u9ad8\u7cbe\u5ea6 : \u5728\u4e2d\u95f4\u884c\u6743\u4ef7\u5468\u56f4\u7684\u7a84\u8303\u56f4\u5185\u83b7\u5229","title":"\u8776\u5f0f\u4ef7\u5dee"},{"location":"zh/strategies/butterflies/#_1","text":"\u8776\u5f0f\u4ef7\u5dee\u662f\u4e09\u817f\u7b56\u7565,\u65e8\u5728\u5f53\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u7279\u5b9a\u4ef7\u683c\u9644\u8fd1\u65f6\u83b7\u5229\u3002\u5b83\u4eec\u63d0\u4f9b\u6709\u9650\u98ce\u9669\u548c\u6709\u9650\u56de\u62a5,\u5e02\u573a\u89c2\u70b9\u4e2d\u6027\u3002","title":"\u8776\u5f0f\u4ef7\u5dee"},{"location":"zh/strategies/butterflies/#_2","text":"\u5f53\u6807\u7684\u8d44\u4ea7\u5728\u5230\u671f\u65f6\u4fdd\u6301\u5728\u4e2d\u95f4\u884c\u6743\u4ef7\u65f6\u83b7\u5229\u3002 \u7ec4\u6210: - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e(\u7ffc) - Short 2 \u4e2a calls,\u884c\u6743\u4ef7\u4e3a\u4e2d\u95f4(\u8eab\u4f53) - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8(\u7ffc)","title":"\u63cf\u8ff0"},{"location":"zh/strategies/butterflies/#_3","text":"import optopsy as op results = op . long_call_butterfly ( data , max_entry_dte = 45 , exit_dte = 21 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/butterflies/#_4","text":"\u5f53\u6807\u7684\u8d44\u4ea7\u5728\u4efb\u4e00\u65b9\u5411\u504f\u79bb\u4e2d\u95f4\u884c\u6743\u4ef7\u65f6\u83b7\u5229\u3002 \u7ec4\u6210: - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e - Long 2 \u4e2a calls,\u884c\u6743\u4ef7\u4e3a\u4e2d\u95f4 - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8","title":"\u63cf\u8ff0"},{"location":"zh/strategies/butterflies/#_5","text":"results = op . short_call_butterfly ( data , max_entry_dte = 30 , exit_dte = 7 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/butterflies/#_6","text":"\u7c7b\u4f3c\u4e8e long call butterfly,\u4f46\u4f7f\u7528 puts\u3002\u5728\u4e2d\u95f4\u884c\u6743\u4ef7\u83b7\u5229\u3002 \u7ec4\u6210: - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e(\u7ffc) - Short 2 \u4e2a puts,\u884c\u6743\u4ef7\u4e3a\u4e2d\u95f4(\u8eab\u4f53) - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8(\u7ffc)","title":"\u63cf\u8ff0"},{"location":"zh/strategies/butterflies/#_7","text":"results = op . long_put_butterfly ( data , max_entry_dte = 45 , exit_dte = 21 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/butterflies/#_8","text":"\u5f53\u6807\u7684\u8d44\u4ea7\u5927\u5e45\u504f\u79bb\u4e2d\u95f4\u884c\u6743\u4ef7\u65f6\u83b7\u5229\u3002 \u7ec4\u6210: - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e - Long 2 \u4e2a puts,\u884c\u6743\u4ef7\u4e3a\u4e2d\u95f4 - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8","title":"\u63cf\u8ff0"},{"location":"zh/strategies/butterflies/#_9","text":"results = op . short_put_butterfly ( data , max_entry_dte = 30 , exit_dte = 7 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/butterflies/#_10","text":"\u7b49\u5bbd\u7ffc : \u7ffc\u4e0e\u8eab\u4f53\u7b49\u8ddd \u4f4e\u6210\u672c : \u901a\u5e38\u4ee5\u5c0f\u989d\u501f\u8bb0\u751a\u81f3\u4fe1\u7528\u8fdb\u573a \u6709\u9650\u98ce\u9669 : \u6700\u5927\u635f\u5931\u9650\u4e8e\u652f\u4ed8\u7684\u501f\u8bb0 \u9ad8\u7cbe\u5ea6 : \u5728\u4e2d\u95f4\u884c\u6743\u4ef7\u5468\u56f4\u7684\u7a84\u8303\u56f4\u5185\u83b7\u5229","title":"\u5173\u952e\u7279\u5f81"},{"location":"zh/strategies/calendars/","text":"\u65e5\u5386\u4ef7\u5dee \u00b6 \u65e5\u5386\u4ef7\u5dee(\u4e5f\u79f0\u4e3a\u65f6\u95f4\u4ef7\u5dee\u6216\u6c34\u5e73\u4ef7\u5dee)\u4f7f\u7528\u76f8\u540c\u884c\u6743\u4ef7\u4f46\u4e0d\u540c\u5230\u671f\u65e5\u7684\u671f\u6743\u3002\u5b83\u4eec\u4ece\u65f6\u95f4\u8870\u51cf\u5dee\u5f02\u548c\u9690\u542b\u6ce2\u52a8\u7387\u53d8\u5316\u4e2d\u83b7\u5229\u3002 Long Call Calendar \u00b6 \u63cf\u8ff0 \u00b6 \u5356\u51fa\u8fd1\u671f call \u5e76\u4e70\u5165\u957f\u671f call,\u884c\u6743\u4ef7\u76f8\u540c\u3002\u4ece\u65f6\u95f4\u8870\u51cf\u548c\u540e\u6708\u6ce2\u52a8\u7387\u6269\u5f20\u4e2d\u83b7\u5229\u3002 \u7ec4\u6210: - Short 1 \u4e2a\u524d\u6708 call(\u63a5\u8fd1\u5230\u671f) - Long 1 \u4e2a\u540e\u6708 call(\u66f4\u957f\u5230\u671f) - \u4e24\u8005\u884c\u6743\u4ef7\u76f8\u540c \u793a\u4f8b \u00b6 import optopsy as op results = op . long_call_calendar ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 , exit_dte = 7 # \u5728\u524d\u6708\u5230\u671f\u524d 7 \u5929\u9000\u51fa ) \u4f7f\u7528\u573a\u666f \u00b6 \u5728\u884c\u6743\u4ef7\u9644\u8fd1\u7684\u4e2d\u6027\u5e02\u573a \u9884\u671f\u6ce2\u52a8\u7387\u589e\u52a0 \u65f6\u95f4\u8870\u51cf\u4ea4\u6613 Short Call Calendar \u00b6 \u63cf\u8ff0 \u00b6 \u4e70\u5165\u8fd1\u671f call,\u5356\u51fa\u957f\u671f call\u3002\u4ece\u8fdc\u79bb\u884c\u6743\u4ef7\u7684\u5927\u5e45\u79fb\u52a8\u4e2d\u83b7\u5229\u3002 \u7ec4\u6210: - Long 1 \u4e2a\u524d\u6708 call - Short 1 \u4e2a\u540e\u6708 call - \u4e24\u8005\u884c\u6743\u4ef7\u76f8\u540c \u793a\u4f8b \u00b6 results = op . short_call_calendar ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 ) Long Put Calendar \u00b6 \u63cf\u8ff0 \u00b6 \u7c7b\u4f3c\u4e8e long call calendar,\u4f46\u4f7f\u7528 puts\u3002\u4ece\u884c\u6743\u4ef7\u5904\u7684\u4e2d\u6027\u4ef7\u683c\u884c\u4e3a\u4e2d\u83b7\u5229\u3002 \u7ec4\u6210: - Short 1 \u4e2a\u524d\u6708 put - Long 1 \u4e2a\u540e\u6708 put - \u4e24\u8005\u884c\u6743\u4ef7\u76f8\u540c \u793a\u4f8b \u00b6 results = op . long_put_calendar ( data ) Short Put Calendar \u00b6 \u63cf\u8ff0 \u00b6 Long put calendar \u7684\u76f8\u53cd\u3002\u4ece\u8fdc\u79bb\u884c\u6743\u4ef7\u7684\u79fb\u52a8\u4e2d\u83b7\u5229\u3002 \u7ec4\u6210: - Long 1 \u4e2a\u524d\u6708 put - Short 1 \u4e2a\u540e\u6708 put - \u4e24\u8005\u884c\u6743\u4ef7\u76f8\u540c \u793a\u4f8b \u00b6 results = op . short_put_calendar ( data ) \u5173\u952e\u53c2\u6570 \u00b6 \u65e5\u5386\u4ef7\u5dee\u4f7f\u7528\u4e0d\u540c\u7684\u9ed8\u8ba4\u53c2\u6570: calendar_default_kwargs = { \"front_dte_min\" : 20 , # \u524d\u6708\u817f\u7684\u6700\u5c0f DTE \"front_dte_max\" : 40 , # \u524d\u6708\u817f\u7684\u6700\u5927 DTE \"back_dte_min\" : 50 , # \u540e\u6708\u817f\u7684\u6700\u5c0f DTE \"back_dte_max\" : 90 , # \u540e\u6708\u817f\u7684\u6700\u5927 DTE \"exit_dte\" : 7 , # \u5728\u524d\u6708\u5230\u671f\u524d 7 \u5929\u9000\u51fa \"dte_interval\" : 7 , \"otm_pct_interval\" : 0.05 , \"max_otm_pct\" : 0.5 , } \u6700\u4f73\u5b9e\u8df5 \u00b6 \u5728\u524d\u6708\u817f\u5230\u671f\u524d\u9000\u51fa\u4ee5\u907f\u514d\u5206\u914d \u76ee\u6807\u884c\u6743\u4ef7\u63a5\u8fd1\u5f53\u524d\u4ef7\u683c \u76d1\u63a7\u5230\u671f\u65e5\u4e4b\u95f4\u7684\u6ce2\u52a8\u7387\u503e\u659c \u8003\u8651\u540e\u6708\u7684 IV \u53d8\u5316","title":"\u65e5\u5386\u4ef7\u5dee"},{"location":"zh/strategies/calendars/#_1","text":"\u65e5\u5386\u4ef7\u5dee(\u4e5f\u79f0\u4e3a\u65f6\u95f4\u4ef7\u5dee\u6216\u6c34\u5e73\u4ef7\u5dee)\u4f7f\u7528\u76f8\u540c\u884c\u6743\u4ef7\u4f46\u4e0d\u540c\u5230\u671f\u65e5\u7684\u671f\u6743\u3002\u5b83\u4eec\u4ece\u65f6\u95f4\u8870\u51cf\u5dee\u5f02\u548c\u9690\u542b\u6ce2\u52a8\u7387\u53d8\u5316\u4e2d\u83b7\u5229\u3002","title":"\u65e5\u5386\u4ef7\u5dee"},{"location":"zh/strategies/calendars/#_2","text":"\u5356\u51fa\u8fd1\u671f call \u5e76\u4e70\u5165\u957f\u671f call,\u884c\u6743\u4ef7\u76f8\u540c\u3002\u4ece\u65f6\u95f4\u8870\u51cf\u548c\u540e\u6708\u6ce2\u52a8\u7387\u6269\u5f20\u4e2d\u83b7\u5229\u3002 \u7ec4\u6210: - Short 1 \u4e2a\u524d\u6708 call(\u63a5\u8fd1\u5230\u671f) - Long 1 \u4e2a\u540e\u6708 call(\u66f4\u957f\u5230\u671f) - \u4e24\u8005\u884c\u6743\u4ef7\u76f8\u540c","title":"\u63cf\u8ff0"},{"location":"zh/strategies/calendars/#_3","text":"import optopsy as op results = op . long_call_calendar ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 , exit_dte = 7 # \u5728\u524d\u6708\u5230\u671f\u524d 7 \u5929\u9000\u51fa )","title":"\u793a\u4f8b"},{"location":"zh/strategies/calendars/#_4","text":"\u5728\u884c\u6743\u4ef7\u9644\u8fd1\u7684\u4e2d\u6027\u5e02\u573a \u9884\u671f\u6ce2\u52a8\u7387\u589e\u52a0 \u65f6\u95f4\u8870\u51cf\u4ea4\u6613","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/calendars/#_5","text":"\u4e70\u5165\u8fd1\u671f call,\u5356\u51fa\u957f\u671f call\u3002\u4ece\u8fdc\u79bb\u884c\u6743\u4ef7\u7684\u5927\u5e45\u79fb\u52a8\u4e2d\u83b7\u5229\u3002 \u7ec4\u6210: - Long 1 \u4e2a\u524d\u6708 call - Short 1 \u4e2a\u540e\u6708 call - \u4e24\u8005\u884c\u6743\u4ef7\u76f8\u540c","title":"\u63cf\u8ff0"},{"location":"zh/strategies/calendars/#_6","text":"results = op . short_call_calendar ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/calendars/#_7","text":"\u7c7b\u4f3c\u4e8e long call calendar,\u4f46\u4f7f\u7528 puts\u3002\u4ece\u884c\u6743\u4ef7\u5904\u7684\u4e2d\u6027\u4ef7\u683c\u884c\u4e3a\u4e2d\u83b7\u5229\u3002 \u7ec4\u6210: - Short 1 \u4e2a\u524d\u6708 put - Long 1 \u4e2a\u540e\u6708 put - \u4e24\u8005\u884c\u6743\u4ef7\u76f8\u540c","title":"\u63cf\u8ff0"},{"location":"zh/strategies/calendars/#_8","text":"results = op . long_put_calendar ( data )","title":"\u793a\u4f8b"},{"location":"zh/strategies/calendars/#_9","text":"Long put calendar \u7684\u76f8\u53cd\u3002\u4ece\u8fdc\u79bb\u884c\u6743\u4ef7\u7684\u79fb\u52a8\u4e2d\u83b7\u5229\u3002 \u7ec4\u6210: - Long 1 \u4e2a\u524d\u6708 put - Short 1 \u4e2a\u540e\u6708 put - \u4e24\u8005\u884c\u6743\u4ef7\u76f8\u540c","title":"\u63cf\u8ff0"},{"location":"zh/strategies/calendars/#_10","text":"results = op . short_put_calendar ( data )","title":"\u793a\u4f8b"},{"location":"zh/strategies/calendars/#_11","text":"\u65e5\u5386\u4ef7\u5dee\u4f7f\u7528\u4e0d\u540c\u7684\u9ed8\u8ba4\u53c2\u6570: calendar_default_kwargs = { \"front_dte_min\" : 20 , # \u524d\u6708\u817f\u7684\u6700\u5c0f DTE \"front_dte_max\" : 40 , # \u524d\u6708\u817f\u7684\u6700\u5927 DTE \"back_dte_min\" : 50 , # \u540e\u6708\u817f\u7684\u6700\u5c0f DTE \"back_dte_max\" : 90 , # \u540e\u6708\u817f\u7684\u6700\u5927 DTE \"exit_dte\" : 7 , # \u5728\u524d\u6708\u5230\u671f\u524d 7 \u5929\u9000\u51fa \"dte_interval\" : 7 , \"otm_pct_interval\" : 0.05 , \"max_otm_pct\" : 0.5 , }","title":"\u5173\u952e\u53c2\u6570"},{"location":"zh/strategies/calendars/#_12","text":"\u5728\u524d\u6708\u817f\u5230\u671f\u524d\u9000\u51fa\u4ee5\u907f\u514d\u5206\u914d \u76ee\u6807\u884c\u6743\u4ef7\u63a5\u8fd1\u5f53\u524d\u4ef7\u683c \u76d1\u63a7\u5230\u671f\u65e5\u4e4b\u95f4\u7684\u6ce2\u52a8\u7387\u503e\u659c \u8003\u8651\u540e\u6708\u7684 IV \u53d8\u5316","title":"\u6700\u4f73\u5b9e\u8df5"},{"location":"zh/strategies/covered/","text":"\u5907\u5151\u7b56\u7565 \u00b6 \u5907\u5151\u7b56\u7565\u5c06\u80a1\u7968\u5934\u5bf8\u4e0e\u671f\u6743\u7ed3\u5408,\u7528\u4e8e\u521b\u6536\u6216\u4e0b\u884c\u4fdd\u62a4\u3002 \u5408\u6210\u5b9e\u73b0 Optopsy \u4f7f\u7528\u6df1\u5ea6\u5b9e\u503c calls \u4f5c\u4e3a\u5408\u6210\u80a1\u7968\u5934\u5bf8\u6765\u6a21\u62df\u5907\u5151\u7b56\u7565,\u56e0\u4e3a\u8be5\u5e93\u4ec5\u5904\u7406\u671f\u6743\u6570\u636e\u3002 Covered Call \u00b6 \u63cf\u8ff0 \u00b6 \u901a\u8fc7\u5bf9 long \u80a1\u7968\u5934\u5bf8(\u6216\u901a\u8fc7\u6df1\u5ea6\u5b9e\u503c call \u7684\u5408\u6210 long)\u5356\u51fa calls \u6765\u521b\u6536\u3002 \u7ec4\u6210: - Long \u6807\u7684\u8d44\u4ea7(\u901a\u8fc7 long \u6df1\u5ea6\u5b9e\u503c call \u6a21\u62df) - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u8f83\u9ad8 \u793a\u4f8b \u00b6 import optopsy as op results = op . covered_call ( data , max_entry_dte = 45 , exit_dte = 21 ) \u4f7f\u7528\u573a\u666f \u00b6 \u5728\u6301\u80a1\u4e0a\u521b\u6536 \u613f\u610f\u4ee5\u66f4\u9ad8\u4ef7\u683c\u5356\u51fa\u80a1\u7968 \u4e2d\u6027\u81f3\u7565\u5fae\u770b\u6da8\u7684\u89c2\u70b9 Protective Put (Married Put) \u00b6 \u63cf\u8ff0 \u00b6 \u901a\u8fc7\u5bf9 long \u80a1\u7968\u5934\u5bf8\u8d2d\u4e70 puts \u6765\u8d2d\u4e70\u4e0b\u884c\u4fdd\u62a4\u3002 \u7ec4\u6210: - Long \u6807\u7684\u8d44\u4ea7(\u901a\u8fc7 long \u6df1\u5ea6\u5b9e\u503c call \u6a21\u62df) - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u8f83\u4f4e\u4ee5\u63d0\u4f9b\u4fdd\u62a4 \u793a\u4f8b \u00b6 results = op . protective_put ( data , max_entry_dte = 90 , exit_dte = 60 ) \u4f7f\u7528\u573a\u666f \u00b6 \u5bf9\u51b2 long \u80a1\u7968\u5934\u5bf8 \u5728\u4e0d\u786e\u5b9a\u671f\u95f4\u7684\u4fdd\u62a4 \u6295\u8d44\u7ec4\u5408\u4fdd\u9669","title":"\u5907\u5151\u7b56\u7565"},{"location":"zh/strategies/covered/#_1","text":"\u5907\u5151\u7b56\u7565\u5c06\u80a1\u7968\u5934\u5bf8\u4e0e\u671f\u6743\u7ed3\u5408,\u7528\u4e8e\u521b\u6536\u6216\u4e0b\u884c\u4fdd\u62a4\u3002 \u5408\u6210\u5b9e\u73b0 Optopsy \u4f7f\u7528\u6df1\u5ea6\u5b9e\u503c calls \u4f5c\u4e3a\u5408\u6210\u80a1\u7968\u5934\u5bf8\u6765\u6a21\u62df\u5907\u5151\u7b56\u7565,\u56e0\u4e3a\u8be5\u5e93\u4ec5\u5904\u7406\u671f\u6743\u6570\u636e\u3002","title":"\u5907\u5151\u7b56\u7565"},{"location":"zh/strategies/covered/#_2","text":"\u901a\u8fc7\u5bf9 long \u80a1\u7968\u5934\u5bf8(\u6216\u901a\u8fc7\u6df1\u5ea6\u5b9e\u503c call \u7684\u5408\u6210 long)\u5356\u51fa calls \u6765\u521b\u6536\u3002 \u7ec4\u6210: - Long \u6807\u7684\u8d44\u4ea7(\u901a\u8fc7 long \u6df1\u5ea6\u5b9e\u503c call \u6a21\u62df) - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u8f83\u9ad8","title":"\u63cf\u8ff0"},{"location":"zh/strategies/covered/#_3","text":"import optopsy as op results = op . covered_call ( data , max_entry_dte = 45 , exit_dte = 21 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/covered/#_4","text":"\u5728\u6301\u80a1\u4e0a\u521b\u6536 \u613f\u610f\u4ee5\u66f4\u9ad8\u4ef7\u683c\u5356\u51fa\u80a1\u7968 \u4e2d\u6027\u81f3\u7565\u5fae\u770b\u6da8\u7684\u89c2\u70b9","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/covered/#_5","text":"\u901a\u8fc7\u5bf9 long \u80a1\u7968\u5934\u5bf8\u8d2d\u4e70 puts \u6765\u8d2d\u4e70\u4e0b\u884c\u4fdd\u62a4\u3002 \u7ec4\u6210: - Long \u6807\u7684\u8d44\u4ea7(\u901a\u8fc7 long \u6df1\u5ea6\u5b9e\u503c call \u6a21\u62df) - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u8f83\u4f4e\u4ee5\u63d0\u4f9b\u4fdd\u62a4","title":"\u63cf\u8ff0"},{"location":"zh/strategies/covered/#_6","text":"results = op . protective_put ( data , max_entry_dte = 90 , exit_dte = 60 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/covered/#_7","text":"\u5bf9\u51b2 long \u80a1\u7968\u5934\u5bf8 \u5728\u4e0d\u786e\u5b9a\u671f\u95f4\u7684\u4fdd\u62a4 \u6295\u8d44\u7ec4\u5408\u4fdd\u9669","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/diagonals/","text":"\u5bf9\u89d2\u4ef7\u5dee \u00b6 \u5bf9\u89d2\u4ef7\u5dee\u7ed3\u5408\u4e86\u5782\u76f4\u4ef7\u5dee\u548c\u65e5\u5386\u4ef7\u5dee\u7684\u5143\u7d20,\u4f7f\u7528\u4e0d\u540c\u7684\u884c\u6743\u4ef7\u548c\u4e0d\u540c\u7684\u5230\u671f\u65e5\u3002\u8fd9\u4e9b\u6df7\u5408\u7b56\u7565\u63d0\u4f9b\u7075\u6d3b\u7684\u76c8\u5229\u533a\u95f4\u548c\u65b9\u5411\u6027\u504f\u5411\u3002 Long Call Diagonal \u00b6 \u63cf\u8ff0 \u00b6 \u4e70\u5165\u4e00\u4e2a\u957f\u671f call,\u884c\u6743\u4ef7\u4e3a\u4e00\u4e2a\u503c,\u5356\u51fa\u4e00\u4e2a\u77ed\u671f call,\u884c\u6743\u4ef7\u4e3a\u53e6\u4e00\u4e2a\u503c\u3002\u7ed3\u5408\u65f6\u95f4\u8870\u51cf\u548c\u65b9\u5411\u6027\u79fb\u52a8\u3002 \u7ec4\u6210: - Short 1 \u4e2a\u524d\u6708 call - Long 1 \u4e2a\u540e\u6708 call - \u6bcf\u4e2a\u817f\u7684\u884c\u6743\u4ef7\u4e0d\u540c \u793a\u4f8b \u00b6 import optopsy as op results = op . long_call_diagonal ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 , exit_dte = 7 ) \u4f7f\u7528\u573a\u666f \u00b6 \u770b\u6da8\u81f3\u4e2d\u6027\u504f\u5411,\u5e26\u6536\u76ca \u6bd4\u65e5\u5386\u66f4\u7075\u6d3b \u53ef\u8c03\u6574\u7684\u65b9\u5411\u6027\u655e\u53e3 Short Call Diagonal \u00b6 \u63cf\u8ff0 \u00b6 Long call diagonal \u7684\u76f8\u53cd\u3002\u4e70\u5165\u8fd1\u671f,\u5356\u51fa\u957f\u671f,\u884c\u6743\u4ef7\u4e0d\u540c\u3002 \u7ec4\u6210: - Long 1 \u4e2a\u524d\u6708 call - Short 1 \u4e2a\u540e\u6708 call - \u6bcf\u4e2a\u817f\u7684\u884c\u6743\u4ef7\u4e0d\u540c \u793a\u4f8b \u00b6 results = op . short_call_diagonal ( data ) Long Put Diagonal \u00b6 \u63cf\u8ff0 \u00b6 \u7ed3\u6784\u7c7b\u4f3c\u4e8e call diagonals,\u4f46\u4f7f\u7528 puts\u3002\u5141\u8bb8\u770b\u8dcc\u81f3\u4e2d\u6027\u5b9a\u4f4d\u3002 \u7ec4\u6210: - Short 1 \u4e2a\u524d\u6708 put - Long 1 \u4e2a\u540e\u6708 put - \u6bcf\u4e2a\u817f\u7684\u884c\u6743\u4ef7\u4e0d\u540c \u793a\u4f8b \u00b6 results = op . long_put_diagonal ( data ) Short Put Diagonal \u00b6 \u63cf\u8ff0 \u00b6 Long put diagonal \u7684\u76f8\u53cd,\u5230\u671f\u65e5\u76f8\u53cd\u3002 \u7ec4\u6210: - Long 1 \u4e2a\u524d\u6708 put - Short 1 \u4e2a\u540e\u6708 put - \u6bcf\u4e2a\u817f\u7684\u884c\u6743\u4ef7\u4e0d\u540c \u793a\u4f8b \u00b6 results = op . short_put_diagonal ( data ) Diagonal vs Calendar \u00b6 \u7279\u5f81 Calendar Spread Diagonal Spread \u884c\u6743\u4ef7 \u76f8\u540c \u4e0d\u540c \u65b9\u5411\u6027 \u4e2d\u6027 \u53ef\u4ee5\u6709\u65b9\u5411\u6027 \u590d\u6742\u6027 \u7b80\u5355 \u66f4\u590d\u6742 \u7075\u6d3b\u6027 \u6709\u9650 \u9ad8 \u53c2\u6570 \u00b6 \u5bf9\u89d2\u4ef7\u5dee\u4f7f\u7528\u65e5\u5386\u4ef7\u5dee\u53c2\u6570,\u4f46\u8bc4\u4f30\u6240\u6709\u884c\u6743\u4ef7\u7ec4\u5408: results = op . long_call_diagonal ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 , max_otm_pct = 0.30 # \u66f4\u5bbd\u7684\u884c\u6743\u4ef7\u9009\u62e9\u8303\u56f4 ) \u7b56\u7565\u6280\u5de7 \u00b6 \u4ece\u65e5\u5386\u5f00\u59cb,\u968f\u7740\u5e02\u573a\u79fb\u52a8\u8c03\u6574\u884c\u6743\u4ef7 \u540c\u65f6\u76d1\u63a7\u65f6\u95f4\u8870\u51cf\u548c\u65b9\u5411\u6027\u79fb\u52a8 \u6bd4\u65e5\u5386\u9700\u8981\u66f4\u591a\u7ba1\u7406 \u53ef\u4ee5\u8f6c\u6362\u4e3a\u5782\u76f4\u4ef7\u5dee\u6216\u65e5\u5386","title":"\u5bf9\u89d2\u4ef7\u5dee"},{"location":"zh/strategies/diagonals/#_1","text":"\u5bf9\u89d2\u4ef7\u5dee\u7ed3\u5408\u4e86\u5782\u76f4\u4ef7\u5dee\u548c\u65e5\u5386\u4ef7\u5dee\u7684\u5143\u7d20,\u4f7f\u7528\u4e0d\u540c\u7684\u884c\u6743\u4ef7\u548c\u4e0d\u540c\u7684\u5230\u671f\u65e5\u3002\u8fd9\u4e9b\u6df7\u5408\u7b56\u7565\u63d0\u4f9b\u7075\u6d3b\u7684\u76c8\u5229\u533a\u95f4\u548c\u65b9\u5411\u6027\u504f\u5411\u3002","title":"\u5bf9\u89d2\u4ef7\u5dee"},{"location":"zh/strategies/diagonals/#_2","text":"\u4e70\u5165\u4e00\u4e2a\u957f\u671f call,\u884c\u6743\u4ef7\u4e3a\u4e00\u4e2a\u503c,\u5356\u51fa\u4e00\u4e2a\u77ed\u671f call,\u884c\u6743\u4ef7\u4e3a\u53e6\u4e00\u4e2a\u503c\u3002\u7ed3\u5408\u65f6\u95f4\u8870\u51cf\u548c\u65b9\u5411\u6027\u79fb\u52a8\u3002 \u7ec4\u6210: - Short 1 \u4e2a\u524d\u6708 call - Long 1 \u4e2a\u540e\u6708 call - \u6bcf\u4e2a\u817f\u7684\u884c\u6743\u4ef7\u4e0d\u540c","title":"\u63cf\u8ff0"},{"location":"zh/strategies/diagonals/#_3","text":"import optopsy as op results = op . long_call_diagonal ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 , exit_dte = 7 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/diagonals/#_4","text":"\u770b\u6da8\u81f3\u4e2d\u6027\u504f\u5411,\u5e26\u6536\u76ca \u6bd4\u65e5\u5386\u66f4\u7075\u6d3b \u53ef\u8c03\u6574\u7684\u65b9\u5411\u6027\u655e\u53e3","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/diagonals/#_5","text":"Long call diagonal \u7684\u76f8\u53cd\u3002\u4e70\u5165\u8fd1\u671f,\u5356\u51fa\u957f\u671f,\u884c\u6743\u4ef7\u4e0d\u540c\u3002 \u7ec4\u6210: - Long 1 \u4e2a\u524d\u6708 call - Short 1 \u4e2a\u540e\u6708 call - \u6bcf\u4e2a\u817f\u7684\u884c\u6743\u4ef7\u4e0d\u540c","title":"\u63cf\u8ff0"},{"location":"zh/strategies/diagonals/#_6","text":"results = op . short_call_diagonal ( data )","title":"\u793a\u4f8b"},{"location":"zh/strategies/diagonals/#_7","text":"\u7ed3\u6784\u7c7b\u4f3c\u4e8e call diagonals,\u4f46\u4f7f\u7528 puts\u3002\u5141\u8bb8\u770b\u8dcc\u81f3\u4e2d\u6027\u5b9a\u4f4d\u3002 \u7ec4\u6210: - Short 1 \u4e2a\u524d\u6708 put - Long 1 \u4e2a\u540e\u6708 put - \u6bcf\u4e2a\u817f\u7684\u884c\u6743\u4ef7\u4e0d\u540c","title":"\u63cf\u8ff0"},{"location":"zh/strategies/diagonals/#_8","text":"results = op . long_put_diagonal ( data )","title":"\u793a\u4f8b"},{"location":"zh/strategies/diagonals/#_9","text":"Long put diagonal \u7684\u76f8\u53cd,\u5230\u671f\u65e5\u76f8\u53cd\u3002 \u7ec4\u6210: - Long 1 \u4e2a\u524d\u6708 put - Short 1 \u4e2a\u540e\u6708 put - \u6bcf\u4e2a\u817f\u7684\u884c\u6743\u4ef7\u4e0d\u540c","title":"\u63cf\u8ff0"},{"location":"zh/strategies/diagonals/#_10","text":"results = op . short_put_diagonal ( data )","title":"\u793a\u4f8b"},{"location":"zh/strategies/diagonals/#diagonal-vs-calendar","text":"\u7279\u5f81 Calendar Spread Diagonal Spread \u884c\u6743\u4ef7 \u76f8\u540c \u4e0d\u540c \u65b9\u5411\u6027 \u4e2d\u6027 \u53ef\u4ee5\u6709\u65b9\u5411\u6027 \u590d\u6742\u6027 \u7b80\u5355 \u66f4\u590d\u6742 \u7075\u6d3b\u6027 \u6709\u9650 \u9ad8","title":"Diagonal vs Calendar"},{"location":"zh/strategies/diagonals/#_11","text":"\u5bf9\u89d2\u4ef7\u5dee\u4f7f\u7528\u65e5\u5386\u4ef7\u5dee\u53c2\u6570,\u4f46\u8bc4\u4f30\u6240\u6709\u884c\u6743\u4ef7\u7ec4\u5408: results = op . long_call_diagonal ( data , front_dte_min = 20 , front_dte_max = 40 , back_dte_min = 50 , back_dte_max = 90 , max_otm_pct = 0.30 # \u66f4\u5bbd\u7684\u884c\u6743\u4ef7\u9009\u62e9\u8303\u56f4 )","title":"\u53c2\u6570"},{"location":"zh/strategies/diagonals/#_12","text":"\u4ece\u65e5\u5386\u5f00\u59cb,\u968f\u7740\u5e02\u573a\u79fb\u52a8\u8c03\u6574\u884c\u6743\u4ef7 \u540c\u65f6\u76d1\u63a7\u65f6\u95f4\u8870\u51cf\u548c\u65b9\u5411\u6027\u79fb\u52a8 \u6bd4\u65e5\u5386\u9700\u8981\u66f4\u591a\u7ba1\u7406 \u53ef\u4ee5\u8f6c\u6362\u4e3a\u5782\u76f4\u4ef7\u5dee\u6216\u65e5\u5386","title":"\u7b56\u7565\u6280\u5de7"},{"location":"zh/strategies/iron-strategies/","text":"Iron Condors & Iron Butterflies \u00b6 \u56db\u817f\u7b56\u7565,\u7ed3\u5408\u4fe1\u7528\u4ef7\u5dee\u4ee5\u521b\u5efa\u6709\u9650\u98ce\u9669\u3001\u6709\u9650\u56de\u62a5\u7684\u5934\u5bf8\u3002\u8fd9\u4e9b\u662f\u4e2d\u6027\u81f3\u533a\u95f4\u9707\u8361\u5e02\u573a\u7684\u70ed\u95e8\u6536\u76ca\u7b56\u7565\u3002 Iron Condor \u00b6 \u63cf\u8ff0 \u00b6 Iron condor \u7ed3\u5408 bull put spread \u548c bear call spread,\u521b\u5efa\u4e00\u4e2a\u5bbd\u76c8\u5229\u533a\u95f4\u3002\u8fd9\u662f\u6700\u53d7\u6b22\u8fce\u7684\u4fe1\u7528\u7b56\u7565\u4e4b\u4e00\u3002 \u7ec4\u6210: - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a A(\u4fdd\u62a4) - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a B(\u6536\u76ca) - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a C(\u6536\u76ca) - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a D(\u4fdd\u62a4) \u5176\u4e2d: A < B < C < D \u5e02\u573a\u89c2\u70b9 \u00b6 \u4e2d\u6027 - \u9884\u671f\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u7a7a\u5934\u884c\u6743\u4ef7\u4e4b\u95f4 \u5982\u679c\u4ef7\u683c\u5728\u5230\u671f\u65f6\u4fdd\u6301\u5728\u533a\u95f4\u5185\u5219\u83b7\u5229 \u9002\u5408\u4f4e\u6ce2\u52a8\u7387\u3001\u533a\u95f4\u9707\u8361\u5e02\u573a \u76c8\u4e8f \u00b6 \u6700\u5927\u76c8\u5229 : \u6536\u5230\u7684\u51c0\u4fe1\u7528 \u6700\u5927\u635f\u5931 : \u4ef7\u5dee\u5bbd\u5ea6 - \u51c0\u4fe1\u7528 \u76c8\u4e8f\u5e73\u8861\u70b9 : Short put \u884c\u6743\u4ef7 - \u51c0\u4fe1\u7528, Short call \u884c\u6743\u4ef7 + \u51c0\u4fe1\u7528 \u793a\u4f8b \u00b6 import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) # \u56de\u6d4b iron condors results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.30 , # \u5bbd\u7ffc\u4ee5\u63d0\u9ad8\u6982\u7387 min_bid_ask = 0.10 ) print ( results ) \u4f7f\u7528\u573a\u666f \u00b6 \u5728\u533a\u95f4\u9707\u8361\u5e02\u573a\u4e2d\u521b\u6536 \u9ad8 IV \u4e8b\u4ef6\u540e(\u8d22\u62a5\u540e IV \u6324\u538b) \u5f53\u60a8\u9884\u671f\u4f4e\u6ce2\u52a8\u7387\u65f6 \u6bcf\u6708\u6536\u76ca\u7b56\u7565(45 DTE \u8fdb\u573a,21 DTE \u51fa\u573a) \u7ba1\u7406\u6307\u5357 \u00b6 \u6b62\u76c8 : \u5728\u6700\u5927\u76c8\u5229\u7684 50% \u65f6\u5e73\u4ed3 \u6b62\u635f : \u5728\u6536\u5230\u4fe1\u7528\u7684 200% \u6216 21 DTE \u65f6\u5e73\u4ed3 \u6eda\u52a8 : \u5982\u679c\u53d7\u5230\u6311\u6218,\u6eda\u52a8\u672a\u6d4b\u8bd5\u7684\u4e00\u4fa7 \u76c8\u5229\u533a\u95f4 : \u901a\u5e38 60-70% \u7684\u76c8\u5229\u6982\u7387 Reverse Iron Condor \u00b6 \u63cf\u8ff0 \u00b6 Iron condor \u7684\u76f8\u53cd - \u8be5\u7b56\u7565\u4ece\u4efb\u4e00\u65b9\u5411\u7684\u5927\u5e45\u4ef7\u683c\u6ce2\u52a8\u4e2d\u83b7\u5229,\u540c\u65f6\u5b9a\u4e49\u98ce\u9669\u3002 \u7ec4\u6210: - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a A - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a B - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a C - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a D \u5176\u4e2d: A < B < C < D \u5e02\u573a\u89c2\u70b9 \u00b6 \u9884\u671f\u9ad8\u6ce2\u52a8\u7387 - \u9884\u671f\u4efb\u4e00\u65b9\u5411\u7684\u7a81\u7834 \u5982\u679c\u4ef7\u683c\u5927\u5e45\u8d85\u51fa\u5185\u4fa7\u884c\u6743\u4ef7\u5219\u83b7\u5229 Long straddles \u7684\u6709\u9650\u98ce\u9669\u66ff\u4ee3\u65b9\u6848 \u76c8\u4e8f \u00b6 \u6700\u5927\u76c8\u5229 : \u4ef7\u5dee\u5bbd\u5ea6 - \u51c0\u501f\u8bb0 \u6700\u5927\u635f\u5931 : \u652f\u4ed8\u7684\u51c0\u501f\u8bb0 \u76c8\u4e8f\u5e73\u8861\u70b9 : Long put \u884c\u6743\u4ef7 + \u501f\u8bb0, Long call \u884c\u6743\u4ef7 - \u501f\u8bb0 \u793a\u4f8b \u00b6 results = op . reverse_iron_condor ( data , max_entry_dte = 30 , exit_dte = 0 , max_otm_pct = 0.25 # \u4e3a\u7a81\u7834\u79fb\u52a8\u8bbe\u7f6e ) \u4f7f\u7528\u573a\u666f \u00b6 \u5728\u9884\u671f\u5927\u5e45\u6ce2\u52a8\u7684\u91cd\u5927\u4e8b\u4ef6\u4e4b\u524d \u6709\u9650\u98ce\u9669\u7684\u6ce2\u52a8\u7387\u4ea4\u6613 \u5f53\u60a8\u9884\u671f\u7a81\u7834\u4f46\u60f3\u8981\u6709\u9650\u635f\u5931\u65f6 Iron Butterfly \u00b6 \u63cf\u8ff0 \u00b6 Iron butterfly \u7c7b\u4f3c\u4e8e iron condor,\u4f46\u7a7a\u5934\u884c\u6743\u4ef7\u5728\u76f8\u540c\u4ef7\u683c(ATM),\u521b\u5efa\u66f4\u7d27\u7684\u76c8\u5229\u533a\u95f4\u548c\u66f4\u9ad8\u7684\u6f5c\u5728\u76c8\u5229\u3002 \u7ec4\u6210: - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a A(\u7ffc) - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a B(\u8eab\u4f53) - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a B(\u8eab\u4f53) - \u4e0e short put \u76f8\u540c - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a C(\u7ffc) \u5176\u4e2d: A < B < C \u5e02\u573a\u89c2\u70b9 \u00b6 \u975e\u5e38\u4e2d\u6027 - \u9884\u671f\u4ef7\u683c\u4fdd\u6301\u5728\u5f53\u524d\u6c34\u5e73\u6216\u975e\u5e38\u63a5\u8fd1 \u5982\u679c\u4ef7\u683c\u5728\u5230\u671f\u65f6\u6070\u597d\u5728\u4e2d\u95f4\u884c\u6743\u4ef7\u5219\u6700\u5927\u76c8\u5229 \u6bd4 iron condor \u56de\u62a5\u66f4\u9ad8\u4f46\u76c8\u5229\u533a\u95f4\u66f4\u7a84 \u76c8\u4e8f \u00b6 \u6700\u5927\u76c8\u5229 : \u6536\u5230\u7684\u51c0\u4fe1\u7528(\u5927\u4e8e iron condor) \u6700\u5927\u635f\u5931 : \u7ffc\u5bbd\u5ea6 - \u51c0\u4fe1\u7528 \u76c8\u4e8f\u5e73\u8861\u70b9 : Short \u884c\u6743\u4ef7 \u00b1 \u51c0\u4fe1\u7528 \u793a\u4f8b \u00b6 results = op . iron_butterfly ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.05 , # ATM \u8eab\u4f53\u4ee5\u83b7\u5f97\u6700\u5927\u4fe1\u7528 min_bid_ask = 0.15 ) \u4f7f\u7528\u573a\u666f \u00b6 \u9884\u671f\u4ef7\u683c\u9501\u5b9a\u5728\u7279\u5b9a\u6c34\u5e73 \u5728\u5177\u6709\u9ad8\u6301\u4ed3\u91cf\u7684\u4e3b\u8981\u884c\u6743\u4ef7\u5468\u56f4 \u5f53\u60a8\u60f3\u8981\u6bd4 iron condors \u66f4\u9ad8\u7684\u4fe1\u7528\u65f6 \u6bd4 iron condors \u6982\u7387\u66f4\u4f4e\u4f46\u56de\u62a5\u66f4\u9ad8 Pin \u98ce\u9669 \u00b6 \u80a1\u7968\u4ef7\u683c\u5f80\u5f80\u9501\u5b9a\u5728\u5177\u6709\u9ad8\u6301\u4ed3\u91cf\u7684\u884c\u6743\u4ef7 Iron butterflies \u4ece\u8fd9\u79cd\u9501\u5b9a\u6548\u5e94\u4e2d\u53d7\u76ca \u4ed4\u7ec6\u76d1\u63a7\u5230\u671f\u5468\u7684\u4ef7\u683c\u884c\u4e3a Reverse Iron Butterfly \u00b6 \u63cf\u8ff0 \u00b6 Iron butterfly \u7684\u76f8\u53cd - \u4ece\u8fdc\u79bb\u4e2d\u5fc3\u884c\u6743\u4ef7\u7684\u5927\u5e45\u6ce2\u52a8\u4e2d\u83b7\u5229\u3002 \u7ec4\u6210: - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a A(\u7ffc) - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a B(\u8eab\u4f53) - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a B(\u8eab\u4f53) - \u4e0e long put \u76f8\u540c - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a C(\u7ffc) \u5176\u4e2d: A < B < C \u5e02\u573a\u89c2\u70b9 \u00b6 \u9ad8\u6ce2\u52a8\u7387 - \u9884\u671f\u4ece\u5f53\u524d\u4ef7\u683c\u5927\u5e45\u79fb\u52a8 Long straddles \u7684\u6709\u9650\u98ce\u9669\u66ff\u4ee3\u65b9\u6848 \u6210\u672c\u66f4\u4f4e\u4e14\u6700\u5927\u635f\u5931\u6709\u9650 \u76c8\u4e8f \u00b6 \u6700\u5927\u76c8\u5229 : \u7ffc\u5bbd\u5ea6 - \u51c0\u501f\u8bb0 \u6700\u5927\u635f\u5931 : \u652f\u4ed8\u7684\u51c0\u501f\u8bb0 \u76c8\u4e8f\u5e73\u8861\u70b9 : Long \u884c\u6743\u4ef7 \u00b1 \u51c0\u501f\u8bb0 \u793a\u4f8b \u00b6 results = op . reverse_iron_butterfly ( data , max_entry_dte = 30 , exit_dte = 7 , max_otm_pct = 0.10 ) \u4f7f\u7528\u573a\u666f \u00b6 \u5728\u91cd\u5927\u4e8b\u4ef6\u4e4b\u524d(\u8d22\u62a5\u3001FDA \u51b3\u5b9a) \u5f53\u60a8\u9884\u671f\u7206\u70b8\u6027\u6ce2\u52a8\u65f6 Long straddles/strangles \u7684\u6709\u9650\u98ce\u9669\u66ff\u4ee3\u65b9\u6848 \u7b56\u7565\u6bd4\u8f83 \u00b6 \u7b56\u7565 \u76c8\u5229\u533a\u95f4 \u6700\u5927\u76c8\u5229 \u6700\u5927\u635f\u5931 \u6700\u4f73\u7528\u4e8e Iron Condor \u5bbd\u533a\u95f4 \u4e2d\u7b49\u4fe1\u7528 \u6709\u9650 \u533a\u95f4\u9707\u8361\u6536\u76ca Reverse IC \u533a\u95f4\u5916 \u6709\u9650 \u51c0\u501f\u8bb0 \u7a81\u7834\u4ea4\u6613 Iron Butterfly \u7a84(\u5728 ATM) \u66f4\u9ad8\u4fe1\u7528 \u6709\u9650 \u9501\u5b9a\u884c\u6743\u4ef7 Reverse Iron Butterfly \u8fdc\u79bb ATM \u6709\u9650 \u51c0\u501f\u8bb0 \u6ce2\u52a8\u7387\u7206\u53d1 Iron Condor vs Iron Butterfly \u00b6 Iron Condor: - \u2705 \u66f4\u5bbd\u7684\u76c8\u5229\u533a\u95f4(60-70% \u6982\u7387) - \u2705 \u5982\u679c\u4ef7\u683c\u79fb\u52a8\u66f4\u5bbd\u5bb9 - \u274c \u6536\u5230\u7684\u4fe1\u7528\u8f83\u4f4e - \u4f7f\u7528\u65f6\u673a : \u5bf9\u533a\u95f4\u6709\u4e2d\u7b49\u4fe1\u5fc3 Iron Butterfly: - \u2705 \u66f4\u9ad8\u7684\u4fe1\u7528(2-3 \u500d) - \u274c \u66f4\u7a84\u7684\u76c8\u5229\u533a\u95f4(40-50% \u6982\u7387) - \u274c \u5bf9\u4ef7\u683c\u79fb\u52a8\u4e0d\u592a\u5bbd\u5bb9 - \u4f7f\u7528\u65f6\u673a : \u5bf9\u9501\u5b9a\u6709\u9ad8\u5ea6\u4fe1\u5fc3 \u9ad8\u7ea7\u793a\u4f8b: Delta \u4e2d\u6027 Iron Condors \u00b6 # \u76ee\u6807 delta \u4e2d\u6027\u5b9a\u4f4d results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , # \u7a7a\u5934\u884c\u6743\u4ef7\u7684\u76ee\u6807\u7279\u5b9a delta delta_min = 0.15 , # ~15-20 delta \u7a7a\u5934\u884c\u6743\u4ef7 delta_max = 0.20 , delta_interval = 0.05 , min_bid_ask = 0.10 , slippage = 'liquidity' ) \u98ce\u9669\u7ba1\u7406\u6700\u4f73\u5b9e\u8df5 \u00b6 \u8fdb\u573a\u68c0\u67e5\u6e05\u5355 \u00b6 [ ] 45 DTE \u6216\u66f4\u5c11(\u6700\u4f73 theta \u8870\u51cf) [ ] \u4fe1\u7528 > \u4ef7\u5dee\u5bbd\u5ea6\u7684 1/3 [ ] \u76c8\u5229\u6982\u7387 > 60% [ ] \u6d41\u52a8\u884c\u6743\u4ef7(\u7d27\u5bc6\u7684\u4e70\u5356\u4ef7\u5dee) [ ] \u786e\u5b9a\u7684\u5934\u5bf8\u89c4\u6a21(\u6bcf\u7b14\u4ea4\u6613 < \u8d26\u6237\u7684 5%) \u7ba1\u7406\u89c4\u5219 \u00b6 \u6b62\u76c8 : \u5728\u6700\u5927\u76c8\u5229\u7684 50% \u65f6\u5e73\u4ed3(21 DTE) \u6b62\u635f : \u5728\u4fe1\u7528\u7684 200-300% \u6216\u76c8\u4e8f\u5e73\u8861\u65f6\u5e73\u4ed3 \u6eda\u52a8 : \u5982\u679c\u65e9\u671f\u53d7\u5230\u6311\u6218,\u5411\u4e0b/\u5411\u4e0a\u6eda\u52a8\u672a\u6d4b\u8bd5\u7684\u4e00\u4fa7 \u5230\u671f : \u907f\u514d\u6301\u6709\u81f3\u5230\u671f(pin \u98ce\u9669) \u5934\u5bf8\u89c4\u6a21 \u00b6 \u6bcf\u7b14\u4ea4\u6613\u98ce\u9669\u4e0d\u8d85\u8fc7 2-5% Iron condors: \u5bbd\u5ea6\u51b3\u5b9a\u6bcf\u4e2a\u5408\u7ea6\u7684\u98ce\u9669 \u793a\u4f8b: $5 \u5bbd\u4ef7\u5dee\u6536\u53d6 $2 \u4fe1\u7528 = \u6bcf\u4e2a IC \u6700\u5927\u98ce\u9669 $300 Greeks \u5206\u6790 \u00b6 Iron Condor Greeks \u00b6 Theta : \u6b63(\u65f6\u95f4\u8870\u51cf\u5e2e\u52a9\u60a8) Vega : \u8d1f(\u5e0c\u671b\u6ce2\u52a8\u7387\u964d\u4f4e) Delta : \u63a5\u8fd1\u96f6(\u4e2d\u6027\u5934\u5bf8) Gamma : \u8d1f(\u5982\u679c\u4ef7\u683c\u79fb\u52a8,\u5934\u5bf8\u5bf9\u60a8\u4e0d\u5229) \u6700\u4f73\u6761\u4ef6: - \u9ad8 IV \u2192 \u5728 IV \u5347\u9ad8\u65f6\u5356\u51fa - \u6ce2\u52a8\u7387\u964d\u4f4e \u2192 IV \u6324\u538b\u6709\u5229\u4e8e\u5934\u5bf8 - \u65f6\u95f4\u6d41\u901d \u2192 Theta \u8870\u51cf\u589e\u52a0\u76c8\u5229 \u8981\u907f\u514d\u7684\u5e38\u89c1\u9519\u8bef \u00b6 \u6301\u6709\u65f6\u95f4\u8fc7\u957f : \u5728 50% \u76c8\u5229\u65f6\u9000\u51fa,\u4e0d\u8981\u8d2a\u5fc3 \u9519\u8bef\u7684 IV \u73af\u5883 : \u4e0d\u8981\u5728 IV \u4f4e\u65f6\u5356\u51fa \u592a\u7a84 : \u786e\u4fdd\u7a7a\u5934\u884c\u6743\u4ef7\u4e4b\u95f4\u6709\u8db3\u591f\u7684\u7f13\u51b2 \u5ffd\u7565\u8c03\u6574 : \u5982\u679c\u4ef7\u683c\u5a01\u80c1\u884c\u6743\u4ef7,\u5236\u5b9a\u8ba1\u5212 \u8fc7\u5ea6\u89c4\u6a21 : \u5c0a\u91cd\u6bcf\u4e2a\u5934\u5bf8\u7684\u6700\u5927\u635f\u5931 \u4e0b\u4e00\u6b65 \u00b6 \u4e86\u89e3 \u8776\u5f0f\u4ef7\u5dee \u4ee5\u83b7\u5f97\u4e09\u817f\u66ff\u4ee3\u65b9\u6848 \u63a2\u7d22 \u65e5\u5386\u4ef7\u5dee \u4ee5\u83b7\u5f97\u57fa\u4e8e\u65f6\u95f4\u7684\u7b56\u7565 \u67e5\u770b\u5305\u542b\u98ce\u9669\u7ba1\u7406\u7684\u66f4\u591a \u793a\u4f8b \u67e5\u9605 \u53c2\u6570 \u8fdb\u884c\u4f18\u5316","title":"\u94c1\u79c3\u9e70\u548c\u94c1\u8776\u5f0f"},{"location":"zh/strategies/iron-strategies/#iron-condors-iron-butterflies","text":"\u56db\u817f\u7b56\u7565,\u7ed3\u5408\u4fe1\u7528\u4ef7\u5dee\u4ee5\u521b\u5efa\u6709\u9650\u98ce\u9669\u3001\u6709\u9650\u56de\u62a5\u7684\u5934\u5bf8\u3002\u8fd9\u4e9b\u662f\u4e2d\u6027\u81f3\u533a\u95f4\u9707\u8361\u5e02\u573a\u7684\u70ed\u95e8\u6536\u76ca\u7b56\u7565\u3002","title":"Iron Condors &amp; Iron Butterflies"},{"location":"zh/strategies/iron-strategies/#_1","text":"Iron condor \u7ed3\u5408 bull put spread \u548c bear call spread,\u521b\u5efa\u4e00\u4e2a\u5bbd\u76c8\u5229\u533a\u95f4\u3002\u8fd9\u662f\u6700\u53d7\u6b22\u8fce\u7684\u4fe1\u7528\u7b56\u7565\u4e4b\u4e00\u3002 \u7ec4\u6210: - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a A(\u4fdd\u62a4) - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a B(\u6536\u76ca) - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a C(\u6536\u76ca) - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a D(\u4fdd\u62a4) \u5176\u4e2d: A < B < C < D","title":"\u63cf\u8ff0"},{"location":"zh/strategies/iron-strategies/#_2","text":"\u4e2d\u6027 - \u9884\u671f\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u7a7a\u5934\u884c\u6743\u4ef7\u4e4b\u95f4 \u5982\u679c\u4ef7\u683c\u5728\u5230\u671f\u65f6\u4fdd\u6301\u5728\u533a\u95f4\u5185\u5219\u83b7\u5229 \u9002\u5408\u4f4e\u6ce2\u52a8\u7387\u3001\u533a\u95f4\u9707\u8361\u5e02\u573a","title":"\u5e02\u573a\u89c2\u70b9"},{"location":"zh/strategies/iron-strategies/#_3","text":"\u6700\u5927\u76c8\u5229 : \u6536\u5230\u7684\u51c0\u4fe1\u7528 \u6700\u5927\u635f\u5931 : \u4ef7\u5dee\u5bbd\u5ea6 - \u51c0\u4fe1\u7528 \u76c8\u4e8f\u5e73\u8861\u70b9 : Short put \u884c\u6743\u4ef7 - \u51c0\u4fe1\u7528, Short call \u884c\u6743\u4ef7 + \u51c0\u4fe1\u7528","title":"\u76c8\u4e8f"},{"location":"zh/strategies/iron-strategies/#_4","text":"import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) # \u56de\u6d4b iron condors results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.30 , # \u5bbd\u7ffc\u4ee5\u63d0\u9ad8\u6982\u7387 min_bid_ask = 0.10 ) print ( results )","title":"\u793a\u4f8b"},{"location":"zh/strategies/iron-strategies/#_5","text":"\u5728\u533a\u95f4\u9707\u8361\u5e02\u573a\u4e2d\u521b\u6536 \u9ad8 IV \u4e8b\u4ef6\u540e(\u8d22\u62a5\u540e IV \u6324\u538b) \u5f53\u60a8\u9884\u671f\u4f4e\u6ce2\u52a8\u7387\u65f6 \u6bcf\u6708\u6536\u76ca\u7b56\u7565(45 DTE \u8fdb\u573a,21 DTE \u51fa\u573a)","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/iron-strategies/#_6","text":"\u6b62\u76c8 : \u5728\u6700\u5927\u76c8\u5229\u7684 50% \u65f6\u5e73\u4ed3 \u6b62\u635f : \u5728\u6536\u5230\u4fe1\u7528\u7684 200% \u6216 21 DTE \u65f6\u5e73\u4ed3 \u6eda\u52a8 : \u5982\u679c\u53d7\u5230\u6311\u6218,\u6eda\u52a8\u672a\u6d4b\u8bd5\u7684\u4e00\u4fa7 \u76c8\u5229\u533a\u95f4 : \u901a\u5e38 60-70% \u7684\u76c8\u5229\u6982\u7387","title":"\u7ba1\u7406\u6307\u5357"},{"location":"zh/strategies/iron-strategies/#_7","text":"Iron condor \u7684\u76f8\u53cd - \u8be5\u7b56\u7565\u4ece\u4efb\u4e00\u65b9\u5411\u7684\u5927\u5e45\u4ef7\u683c\u6ce2\u52a8\u4e2d\u83b7\u5229,\u540c\u65f6\u5b9a\u4e49\u98ce\u9669\u3002 \u7ec4\u6210: - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a A - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a B - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a C - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a D \u5176\u4e2d: A < B < C < D","title":"\u63cf\u8ff0"},{"location":"zh/strategies/iron-strategies/#_8","text":"\u9884\u671f\u9ad8\u6ce2\u52a8\u7387 - \u9884\u671f\u4efb\u4e00\u65b9\u5411\u7684\u7a81\u7834 \u5982\u679c\u4ef7\u683c\u5927\u5e45\u8d85\u51fa\u5185\u4fa7\u884c\u6743\u4ef7\u5219\u83b7\u5229 Long straddles \u7684\u6709\u9650\u98ce\u9669\u66ff\u4ee3\u65b9\u6848","title":"\u5e02\u573a\u89c2\u70b9"},{"location":"zh/strategies/iron-strategies/#_9","text":"\u6700\u5927\u76c8\u5229 : \u4ef7\u5dee\u5bbd\u5ea6 - \u51c0\u501f\u8bb0 \u6700\u5927\u635f\u5931 : \u652f\u4ed8\u7684\u51c0\u501f\u8bb0 \u76c8\u4e8f\u5e73\u8861\u70b9 : Long put \u884c\u6743\u4ef7 + \u501f\u8bb0, Long call \u884c\u6743\u4ef7 - \u501f\u8bb0","title":"\u76c8\u4e8f"},{"location":"zh/strategies/iron-strategies/#_10","text":"results = op . reverse_iron_condor ( data , max_entry_dte = 30 , exit_dte = 0 , max_otm_pct = 0.25 # \u4e3a\u7a81\u7834\u79fb\u52a8\u8bbe\u7f6e )","title":"\u793a\u4f8b"},{"location":"zh/strategies/iron-strategies/#_11","text":"\u5728\u9884\u671f\u5927\u5e45\u6ce2\u52a8\u7684\u91cd\u5927\u4e8b\u4ef6\u4e4b\u524d \u6709\u9650\u98ce\u9669\u7684\u6ce2\u52a8\u7387\u4ea4\u6613 \u5f53\u60a8\u9884\u671f\u7a81\u7834\u4f46\u60f3\u8981\u6709\u9650\u635f\u5931\u65f6","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/iron-strategies/#_12","text":"Iron butterfly \u7c7b\u4f3c\u4e8e iron condor,\u4f46\u7a7a\u5934\u884c\u6743\u4ef7\u5728\u76f8\u540c\u4ef7\u683c(ATM),\u521b\u5efa\u66f4\u7d27\u7684\u76c8\u5229\u533a\u95f4\u548c\u66f4\u9ad8\u7684\u6f5c\u5728\u76c8\u5229\u3002 \u7ec4\u6210: - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a A(\u7ffc) - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a B(\u8eab\u4f53) - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a B(\u8eab\u4f53) - \u4e0e short put \u76f8\u540c - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a C(\u7ffc) \u5176\u4e2d: A < B < C","title":"\u63cf\u8ff0"},{"location":"zh/strategies/iron-strategies/#_13","text":"\u975e\u5e38\u4e2d\u6027 - \u9884\u671f\u4ef7\u683c\u4fdd\u6301\u5728\u5f53\u524d\u6c34\u5e73\u6216\u975e\u5e38\u63a5\u8fd1 \u5982\u679c\u4ef7\u683c\u5728\u5230\u671f\u65f6\u6070\u597d\u5728\u4e2d\u95f4\u884c\u6743\u4ef7\u5219\u6700\u5927\u76c8\u5229 \u6bd4 iron condor \u56de\u62a5\u66f4\u9ad8\u4f46\u76c8\u5229\u533a\u95f4\u66f4\u7a84","title":"\u5e02\u573a\u89c2\u70b9"},{"location":"zh/strategies/iron-strategies/#_14","text":"\u6700\u5927\u76c8\u5229 : \u6536\u5230\u7684\u51c0\u4fe1\u7528(\u5927\u4e8e iron condor) \u6700\u5927\u635f\u5931 : \u7ffc\u5bbd\u5ea6 - \u51c0\u4fe1\u7528 \u76c8\u4e8f\u5e73\u8861\u70b9 : Short \u884c\u6743\u4ef7 \u00b1 \u51c0\u4fe1\u7528","title":"\u76c8\u4e8f"},{"location":"zh/strategies/iron-strategies/#_15","text":"results = op . iron_butterfly ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.05 , # ATM \u8eab\u4f53\u4ee5\u83b7\u5f97\u6700\u5927\u4fe1\u7528 min_bid_ask = 0.15 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/iron-strategies/#_16","text":"\u9884\u671f\u4ef7\u683c\u9501\u5b9a\u5728\u7279\u5b9a\u6c34\u5e73 \u5728\u5177\u6709\u9ad8\u6301\u4ed3\u91cf\u7684\u4e3b\u8981\u884c\u6743\u4ef7\u5468\u56f4 \u5f53\u60a8\u60f3\u8981\u6bd4 iron condors \u66f4\u9ad8\u7684\u4fe1\u7528\u65f6 \u6bd4 iron condors \u6982\u7387\u66f4\u4f4e\u4f46\u56de\u62a5\u66f4\u9ad8","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/iron-strategies/#pin","text":"\u80a1\u7968\u4ef7\u683c\u5f80\u5f80\u9501\u5b9a\u5728\u5177\u6709\u9ad8\u6301\u4ed3\u91cf\u7684\u884c\u6743\u4ef7 Iron butterflies \u4ece\u8fd9\u79cd\u9501\u5b9a\u6548\u5e94\u4e2d\u53d7\u76ca \u4ed4\u7ec6\u76d1\u63a7\u5230\u671f\u5468\u7684\u4ef7\u683c\u884c\u4e3a","title":"Pin \u98ce\u9669"},{"location":"zh/strategies/iron-strategies/#_17","text":"Iron butterfly \u7684\u76f8\u53cd - \u4ece\u8fdc\u79bb\u4e2d\u5fc3\u884c\u6743\u4ef7\u7684\u5927\u5e45\u6ce2\u52a8\u4e2d\u83b7\u5229\u3002 \u7ec4\u6210: - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a A(\u7ffc) - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a B(\u8eab\u4f53) - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a B(\u8eab\u4f53) - \u4e0e long put \u76f8\u540c - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a C(\u7ffc) \u5176\u4e2d: A < B < C","title":"\u63cf\u8ff0"},{"location":"zh/strategies/iron-strategies/#_18","text":"\u9ad8\u6ce2\u52a8\u7387 - \u9884\u671f\u4ece\u5f53\u524d\u4ef7\u683c\u5927\u5e45\u79fb\u52a8 Long straddles \u7684\u6709\u9650\u98ce\u9669\u66ff\u4ee3\u65b9\u6848 \u6210\u672c\u66f4\u4f4e\u4e14\u6700\u5927\u635f\u5931\u6709\u9650","title":"\u5e02\u573a\u89c2\u70b9"},{"location":"zh/strategies/iron-strategies/#_19","text":"\u6700\u5927\u76c8\u5229 : \u7ffc\u5bbd\u5ea6 - \u51c0\u501f\u8bb0 \u6700\u5927\u635f\u5931 : \u652f\u4ed8\u7684\u51c0\u501f\u8bb0 \u76c8\u4e8f\u5e73\u8861\u70b9 : Long \u884c\u6743\u4ef7 \u00b1 \u51c0\u501f\u8bb0","title":"\u76c8\u4e8f"},{"location":"zh/strategies/iron-strategies/#_20","text":"results = op . reverse_iron_butterfly ( data , max_entry_dte = 30 , exit_dte = 7 , max_otm_pct = 0.10 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/iron-strategies/#_21","text":"\u5728\u91cd\u5927\u4e8b\u4ef6\u4e4b\u524d(\u8d22\u62a5\u3001FDA \u51b3\u5b9a) \u5f53\u60a8\u9884\u671f\u7206\u70b8\u6027\u6ce2\u52a8\u65f6 Long straddles/strangles \u7684\u6709\u9650\u98ce\u9669\u66ff\u4ee3\u65b9\u6848","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/iron-strategies/#_22","text":"\u7b56\u7565 \u76c8\u5229\u533a\u95f4 \u6700\u5927\u76c8\u5229 \u6700\u5927\u635f\u5931 \u6700\u4f73\u7528\u4e8e Iron Condor \u5bbd\u533a\u95f4 \u4e2d\u7b49\u4fe1\u7528 \u6709\u9650 \u533a\u95f4\u9707\u8361\u6536\u76ca Reverse IC \u533a\u95f4\u5916 \u6709\u9650 \u51c0\u501f\u8bb0 \u7a81\u7834\u4ea4\u6613 Iron Butterfly \u7a84(\u5728 ATM) \u66f4\u9ad8\u4fe1\u7528 \u6709\u9650 \u9501\u5b9a\u884c\u6743\u4ef7 Reverse Iron Butterfly \u8fdc\u79bb ATM \u6709\u9650 \u51c0\u501f\u8bb0 \u6ce2\u52a8\u7387\u7206\u53d1","title":"\u7b56\u7565\u6bd4\u8f83"},{"location":"zh/strategies/iron-strategies/#iron-condor-vs-iron-butterfly","text":"Iron Condor: - \u2705 \u66f4\u5bbd\u7684\u76c8\u5229\u533a\u95f4(60-70% \u6982\u7387) - \u2705 \u5982\u679c\u4ef7\u683c\u79fb\u52a8\u66f4\u5bbd\u5bb9 - \u274c \u6536\u5230\u7684\u4fe1\u7528\u8f83\u4f4e - \u4f7f\u7528\u65f6\u673a : \u5bf9\u533a\u95f4\u6709\u4e2d\u7b49\u4fe1\u5fc3 Iron Butterfly: - \u2705 \u66f4\u9ad8\u7684\u4fe1\u7528(2-3 \u500d) - \u274c \u66f4\u7a84\u7684\u76c8\u5229\u533a\u95f4(40-50% \u6982\u7387) - \u274c \u5bf9\u4ef7\u683c\u79fb\u52a8\u4e0d\u592a\u5bbd\u5bb9 - \u4f7f\u7528\u65f6\u673a : \u5bf9\u9501\u5b9a\u6709\u9ad8\u5ea6\u4fe1\u5fc3","title":"Iron Condor vs Iron Butterfly"},{"location":"zh/strategies/iron-strategies/#delta-iron-condors","text":"# \u76ee\u6807 delta \u4e2d\u6027\u5b9a\u4f4d results = op . iron_condor ( data , max_entry_dte = 45 , exit_dte = 21 , # \u7a7a\u5934\u884c\u6743\u4ef7\u7684\u76ee\u6807\u7279\u5b9a delta delta_min = 0.15 , # ~15-20 delta \u7a7a\u5934\u884c\u6743\u4ef7 delta_max = 0.20 , delta_interval = 0.05 , min_bid_ask = 0.10 , slippage = 'liquidity' )","title":"\u9ad8\u7ea7\u793a\u4f8b: Delta \u4e2d\u6027 Iron Condors"},{"location":"zh/strategies/iron-strategies/#_23","text":"","title":"\u98ce\u9669\u7ba1\u7406\u6700\u4f73\u5b9e\u8df5"},{"location":"zh/strategies/iron-strategies/#_24","text":"[ ] 45 DTE \u6216\u66f4\u5c11(\u6700\u4f73 theta \u8870\u51cf) [ ] \u4fe1\u7528 > \u4ef7\u5dee\u5bbd\u5ea6\u7684 1/3 [ ] \u76c8\u5229\u6982\u7387 > 60% [ ] \u6d41\u52a8\u884c\u6743\u4ef7(\u7d27\u5bc6\u7684\u4e70\u5356\u4ef7\u5dee) [ ] \u786e\u5b9a\u7684\u5934\u5bf8\u89c4\u6a21(\u6bcf\u7b14\u4ea4\u6613 < \u8d26\u6237\u7684 5%)","title":"\u8fdb\u573a\u68c0\u67e5\u6e05\u5355"},{"location":"zh/strategies/iron-strategies/#_25","text":"\u6b62\u76c8 : \u5728\u6700\u5927\u76c8\u5229\u7684 50% \u65f6\u5e73\u4ed3(21 DTE) \u6b62\u635f : \u5728\u4fe1\u7528\u7684 200-300% \u6216\u76c8\u4e8f\u5e73\u8861\u65f6\u5e73\u4ed3 \u6eda\u52a8 : \u5982\u679c\u65e9\u671f\u53d7\u5230\u6311\u6218,\u5411\u4e0b/\u5411\u4e0a\u6eda\u52a8\u672a\u6d4b\u8bd5\u7684\u4e00\u4fa7 \u5230\u671f : \u907f\u514d\u6301\u6709\u81f3\u5230\u671f(pin \u98ce\u9669)","title":"\u7ba1\u7406\u89c4\u5219"},{"location":"zh/strategies/iron-strategies/#_26","text":"\u6bcf\u7b14\u4ea4\u6613\u98ce\u9669\u4e0d\u8d85\u8fc7 2-5% Iron condors: \u5bbd\u5ea6\u51b3\u5b9a\u6bcf\u4e2a\u5408\u7ea6\u7684\u98ce\u9669 \u793a\u4f8b: $5 \u5bbd\u4ef7\u5dee\u6536\u53d6 $2 \u4fe1\u7528 = \u6bcf\u4e2a IC \u6700\u5927\u98ce\u9669 $300","title":"\u5934\u5bf8\u89c4\u6a21"},{"location":"zh/strategies/iron-strategies/#greeks","text":"","title":"Greeks \u5206\u6790"},{"location":"zh/strategies/iron-strategies/#iron-condor-greeks","text":"Theta : \u6b63(\u65f6\u95f4\u8870\u51cf\u5e2e\u52a9\u60a8) Vega : \u8d1f(\u5e0c\u671b\u6ce2\u52a8\u7387\u964d\u4f4e) Delta : \u63a5\u8fd1\u96f6(\u4e2d\u6027\u5934\u5bf8) Gamma : \u8d1f(\u5982\u679c\u4ef7\u683c\u79fb\u52a8,\u5934\u5bf8\u5bf9\u60a8\u4e0d\u5229) \u6700\u4f73\u6761\u4ef6: - \u9ad8 IV \u2192 \u5728 IV \u5347\u9ad8\u65f6\u5356\u51fa - \u6ce2\u52a8\u7387\u964d\u4f4e \u2192 IV \u6324\u538b\u6709\u5229\u4e8e\u5934\u5bf8 - \u65f6\u95f4\u6d41\u901d \u2192 Theta \u8870\u51cf\u589e\u52a0\u76c8\u5229","title":"Iron Condor Greeks"},{"location":"zh/strategies/iron-strategies/#_27","text":"\u6301\u6709\u65f6\u95f4\u8fc7\u957f : \u5728 50% \u76c8\u5229\u65f6\u9000\u51fa,\u4e0d\u8981\u8d2a\u5fc3 \u9519\u8bef\u7684 IV \u73af\u5883 : \u4e0d\u8981\u5728 IV \u4f4e\u65f6\u5356\u51fa \u592a\u7a84 : \u786e\u4fdd\u7a7a\u5934\u884c\u6743\u4ef7\u4e4b\u95f4\u6709\u8db3\u591f\u7684\u7f13\u51b2 \u5ffd\u7565\u8c03\u6574 : \u5982\u679c\u4ef7\u683c\u5a01\u80c1\u884c\u6743\u4ef7,\u5236\u5b9a\u8ba1\u5212 \u8fc7\u5ea6\u89c4\u6a21 : \u5c0a\u91cd\u6bcf\u4e2a\u5934\u5bf8\u7684\u6700\u5927\u635f\u5931","title":"\u8981\u907f\u514d\u7684\u5e38\u89c1\u9519\u8bef"},{"location":"zh/strategies/iron-strategies/#_28","text":"\u4e86\u89e3 \u8776\u5f0f\u4ef7\u5dee \u4ee5\u83b7\u5f97\u4e09\u817f\u66ff\u4ee3\u65b9\u6848 \u63a2\u7d22 \u65e5\u5386\u4ef7\u5dee \u4ee5\u83b7\u5f97\u57fa\u4e8e\u65f6\u95f4\u7684\u7b56\u7565 \u67e5\u770b\u5305\u542b\u98ce\u9669\u7ba1\u7406\u7684\u66f4\u591a \u793a\u4f8b \u67e5\u9605 \u53c2\u6570 \u8fdb\u884c\u4f18\u5316","title":"\u4e0b\u4e00\u6b65"},{"location":"zh/strategies/singles/","text":"\u5355\u817f\u7b56\u7565 \u00b6 \u5355\u817f\u7b56\u7565\u6d89\u53ca\u4e70\u5165\u6216\u5356\u51fa\u5355\u4e2a call \u6216 put \u671f\u6743\u3002\u8fd9\u4e9b\u662f\u6700\u7b80\u5355\u7684\u671f\u6743\u7b56\u7565,\u662f\u66f4\u590d\u6742\u7684\u591a\u817f\u7b56\u7565\u7684\u57fa\u7840\u3002 Long Calls \u00b6 \u63cf\u8ff0 \u00b6 Long call \u8d4b\u4e88\u60a8\u4ee5\u884c\u6743\u4ef7\u4e70\u5165\u6807\u7684\u8d44\u4ea7\u7684\u6743\u5229\u3002\u8fd9\u662f\u4e00\u79cd\u770b\u6da8\u7b56\u7565,\u5177\u6709\u65e0\u9650\u7684\u76c8\u5229\u6f5c\u529b\u548c\u6709\u9650\u7684\u98ce\u9669(\u652f\u4ed8\u7684\u6743\u5229\u91d1)\u3002 \u5e02\u573a\u89c2\u70b9 \u00b6 \u770b\u6da8 - \u9884\u671f\u4ef7\u683c\u5927\u5e45\u4e0a\u6da8 \u968f\u7740\u6807\u7684\u8d44\u4ea7\u4ef7\u683c\u8d85\u8fc7\u884c\u6743\u4ef7 + \u652f\u4ed8\u7684\u6743\u5229\u91d1,\u5229\u6da6\u589e\u52a0 \u76c8\u4e8f \u00b6 \u6700\u5927\u76c8\u5229 : \u65e0\u9650(\u6807\u7684\u8d44\u4ea7\u4ef7\u683c - \u884c\u6743\u4ef7 - \u6743\u5229\u91d1) \u6700\u5927\u635f\u5931 : \u652f\u4ed8\u7684\u6743\u5229\u91d1(\u5982\u679c\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u884c\u6743\u4ef7\u4ee5\u4e0b) \u76c8\u4e8f\u5e73\u8861\u70b9 : \u884c\u6743\u4ef7 + \u652f\u4ed8\u7684\u6743\u5229\u91d1 \u793a\u4f8b \u00b6 import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) # \u56de\u6d4b 30-60 DTE \u8303\u56f4\u7684 long calls results = op . long_calls ( data , max_entry_dte = 60 , exit_dte = 30 , max_otm_pct = 0.10 # \u7565\u5fae\u865a\u503c\u7684 calls ) print ( results ) \u4f7f\u7528\u573a\u666f \u00b6 \u62bc\u6ce8\u5f3a\u52b2\u4e0a\u6da8 \u4e70\u5165\u80a1\u7968\u7684\u4f4e\u6210\u672c\u66ff\u4ee3\u65b9\u6848 \u9884\u671f\u6b63\u9762\u6d88\u606f\u7684\u8d22\u62a5\u4ea4\u6613 \u7a81\u7834\u4ea4\u6613 Short Calls \u00b6 \u63cf\u8ff0 \u00b6 Short call \u5728\u88ab\u884c\u6743\u65f6\u6709\u4e49\u52a1\u4ee5\u884c\u6743\u4ef7\u5356\u51fa\u6807\u7684\u8d44\u4ea7\u3002\u8fd9\u662f\u4e00\u79cd\u770b\u8dcc\u6216\u4e2d\u6027\u7684\u6536\u76ca\u7b56\u7565,\u5177\u6709\u6709\u9650\u7684\u76c8\u5229\u548c\u7406\u8bba\u4e0a\u65e0\u9650\u7684\u98ce\u9669\u3002 \u5e02\u573a\u89c2\u70b9 \u00b6 \u770b\u8dcc\u81f3\u4e2d\u6027 - \u9884\u671f\u4ef7\u683c\u4fdd\u6301\u5e73\u7a33\u6216\u4e0b\u8dcc \u5982\u679c\u6807\u7684\u8d44\u4ea7\u5728\u5230\u671f\u65f6\u4fdd\u6301\u5728\u884c\u6743\u4ef7\u4ee5\u4e0b\u5219\u83b7\u5229 \u76c8\u4e8f \u00b6 \u6700\u5927\u76c8\u5229 : \u6536\u5230\u7684\u6743\u5229\u91d1 \u6700\u5927\u635f\u5931 : \u65e0\u9650(\u6807\u7684\u8d44\u4ea7\u4ef7\u683c - \u884c\u6743\u4ef7 - \u6743\u5229\u91d1) \u76c8\u4e8f\u5e73\u8861\u70b9 : \u884c\u6743\u4ef7 + \u6536\u5230\u7684\u6743\u5229\u91d1 \u793a\u4f8b \u00b6 results = op . short_calls ( data , max_entry_dte = 45 , exit_dte = 0 , # \u6301\u6709\u81f3\u5230\u671f max_otm_pct = 0.30 # \u5356\u51fa\u865a\u503c calls \u4ee5\u83b7\u5f97\u6536\u76ca ) \u4f7f\u7528\u573a\u666f \u00b6 \u5728\u4e2d\u6027/\u770b\u8dcc\u5e02\u573a\u4e2d\u521b\u6536 \u5907\u5151 call \u7b56\u7565(\u6301\u6709\u80a1\u7968) \u9ad8\u6982\u7387\u6536\u76ca\u4ea4\u6613 \u26a0\ufe0f \u98ce\u9669\u8b66\u544a \u00b6 \u88f8\u7a7a call \u5728\u6807\u7684\u8d44\u4ea7\u5927\u5e45\u4e0a\u6da8\u65f6\u5177\u6709\u65e0\u9650\u98ce\u9669\u3002\u8003\u8651\u4f7f\u7528\u6709\u9650\u98ce\u9669\u7684\u66ff\u4ee3\u65b9\u6848,\u5982 call \u4ef7\u5dee\u3002 Long Puts \u00b6 \u63cf\u8ff0 \u00b6 Long put \u8d4b\u4e88\u60a8\u4ee5\u884c\u6743\u4ef7\u5356\u51fa\u6807\u7684\u8d44\u4ea7\u7684\u6743\u5229\u3002\u8fd9\u662f\u4e00\u79cd\u770b\u8dcc\u7b56\u7565,\u5177\u6709\u53ef\u89c2\u7684\u76c8\u5229\u6f5c\u529b\u548c\u6709\u9650\u7684\u98ce\u9669(\u652f\u4ed8\u7684\u6743\u5229\u91d1)\u3002 \u5e02\u573a\u89c2\u70b9 \u00b6 \u770b\u8dcc - \u9884\u671f\u4ef7\u683c\u5927\u5e45\u4e0b\u8dcc \u968f\u7740\u6807\u7684\u8d44\u4ea7\u4ef7\u683c\u8dcc\u7834\u884c\u6743\u4ef7 - \u652f\u4ed8\u7684\u6743\u5229\u91d1,\u5229\u6da6\u589e\u52a0 \u76c8\u4e8f \u00b6 \u6700\u5927\u76c8\u5229 : \u884c\u6743\u4ef7 - \u6743\u5229\u91d1 - 0(\u5982\u679c\u6807\u7684\u8d44\u4ea7\u5f52\u96f6) \u6700\u5927\u635f\u5931 : \u652f\u4ed8\u7684\u6743\u5229\u91d1(\u5982\u679c\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u884c\u6743\u4ef7\u4ee5\u4e0a) \u76c8\u4e8f\u5e73\u8861\u70b9 : \u884c\u6743\u4ef7 - \u652f\u4ed8\u7684\u6743\u5229\u91d1 \u793a\u4f8b \u00b6 results = op . long_puts ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.15 # \u4e2d\u5ea6\u865a\u503c puts ) \u4f7f\u7528\u573a\u666f \u00b6 \u62bc\u6ce8\u5e02\u573a\u4e0b\u8dcc \u6295\u8d44\u7ec4\u5408\u5bf9\u51b2 \u9884\u671f\u8d1f\u9762\u6d88\u606f\u7684\u8d22\u62a5\u4ea4\u6613 \u7a81\u7834\u4e0b\u884c\u4ea4\u6613 Short Puts \u00b6 \u63cf\u8ff0 \u00b6 Short put \u5728\u88ab\u884c\u6743\u65f6\u6709\u4e49\u52a1\u4ee5\u884c\u6743\u4ef7\u4e70\u5165\u6807\u7684\u8d44\u4ea7\u3002\u8fd9\u662f\u4e00\u79cd\u770b\u6da8\u7684\u6536\u76ca\u7b56\u7565,\u60a8\u6536\u53d6\u6743\u5229\u91d1,\u5e0c\u671b\u671f\u6743\u5230\u671f\u65f6\u5931\u6548\u3002 \u5e02\u573a\u89c2\u70b9 \u00b6 \u770b\u6da8\u81f3\u4e2d\u6027 - \u9884\u671f\u4ef7\u683c\u4fdd\u6301\u5e73\u7a33\u6216\u4e0a\u6da8 \u5982\u679c\u6807\u7684\u8d44\u4ea7\u5728\u5230\u671f\u65f6\u4fdd\u6301\u5728\u884c\u6743\u4ef7\u4ee5\u4e0a\u5219\u83b7\u5229 \u76c8\u4e8f \u00b6 \u6700\u5927\u76c8\u5229 : \u6536\u5230\u7684\u6743\u5229\u91d1 \u6700\u5927\u635f\u5931 : \u884c\u6743\u4ef7 - \u6743\u5229\u91d1(\u5982\u679c\u6807\u7684\u8d44\u4ea7\u5f52\u96f6) \u76c8\u4e8f\u5e73\u8861\u70b9 : \u884c\u6743\u4ef7 - \u6536\u5230\u7684\u6743\u5229\u91d1 \u793a\u4f8b \u00b6 results = op . short_puts ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.20 , # 20% OTM \u4ee5\u83b7\u5f97\u66f4\u5b89\u5168\u7684\u6743\u5229\u91d1 min_bid_ask = 0.10 ) \u4f7f\u7528\u573a\u666f \u00b6 \u5728\u770b\u6da8\u5e02\u573a\u4e2d\u521b\u6536 \u4ee5\u66f4\u4f4e\u4ef7\u683c\u4e70\u5165\u80a1\u7968\u65f6\"\u83b7\u5f97\u62a5\u916c\u7b49\u5f85\" \u9ad8\u6982\u7387\u4fe1\u7528\u7b56\u7565 Wheel \u7b56\u7565(\u5356\u51fa puts,\u88ab\u5206\u914d,\u5356\u51fa calls) \u5206\u914d\u8003\u8651 \u00b6 \u5982\u679c\u671f\u6743\u5728\u5230\u671f\u65f6\u5904\u4e8e\u5b9e\u503c\u72b6\u6001,\u60a8\u5c06\u6709\u4e49\u52a1\u4ee5\u884c\u6743\u4ef7\u4e70\u5165\u80a1\u7968\u3002\u786e\u4fdd\u60a8\u6709\u8d44\u91d1\u6216\u53ef\u4ee5\u5728\u5230\u671f\u524d\u5e73\u4ed3\u3002 Greeks \u8fc7\u6ee4 \u00b6 \u6240\u6709\u5355\u817f\u7b56\u7565\u90fd\u652f\u6301 delta \u8fc7\u6ee4\u4ee5\u5b9a\u4f4d\u7279\u5b9a\u7684\u6982\u7387\u8303\u56f4: # \u76ee\u6807 0.30 delta \u671f\u6743(\u5927\u7ea6 30% \u6982\u7387 ITM) results = op . long_calls ( data , delta_min = 0.25 , delta_max = 0.35 , delta_interval = 0.05 # \u6309 delta \u8303\u56f4\u5206\u7ec4\u7ed3\u679c ) \u6ed1\u70b9\u6a21\u578b \u00b6 \u914d\u7f6e\u73b0\u5b9e\u7684\u6210\u4ea4\u4ef7\u683c: # \u4f7f\u7528\u57fa\u4e8e\u6d41\u52a8\u6027\u7684\u6ed1\u70b9 results = op . long_calls ( data , slippage = 'liquidity' , fill_ratio = 0.5 , # \u4ef7\u5dee\u7684 50% reference_volume = 1000 # \u6d41\u52a8\u671f\u6743\u7684\u6700\u5c0f\u6210\u4ea4\u91cf ) \u53ef\u7528\u7684\u6ed1\u70b9\u6a21\u5f0f: - 'mid' - \u4ee5\u4e2d\u95f4\u4ef7\u6210\u4ea4 (bid+ask)/2(\u9ed8\u8ba4) - 'spread' - \u4ee5 ask \u4e70\u5165,\u4ee5 bid \u5356\u51fa(\u6700\u5dee\u60c5\u51b5) - 'liquidity' - \u57fa\u4e8e\u6210\u4ea4\u91cf/\u6301\u4ed3\u91cf\u7684\u52a8\u6001\u6210\u4ea4 \u6bd4\u8f83\u8868 \u00b6 \u7b56\u7565 \u65b9\u5411 \u6700\u5927\u76c8\u5229 \u6700\u5927\u635f\u5931 \u6700\u4f73\u65f6\u673a Long Call \u770b\u6da8 \u65e0\u9650 \u6743\u5229\u91d1 \u9884\u671f\u4e0a\u6da8 Short Call \u770b\u8dcc/\u4e2d\u6027 \u6743\u5229\u91d1 \u65e0\u9650 \u9884\u671f\u4e0b\u8dcc/\u5e73\u7a33 Long Put \u770b\u8dcc \u53ef\u89c2 \u6743\u5229\u91d1 \u9884\u671f\u4e0b\u8dcc Short Put \u770b\u6da8/\u4e2d\u6027 \u6743\u5229\u91d1 \u53ef\u89c2 \u9884\u671f\u4e0a\u6da8/\u5e73\u7a33 \u4e0b\u4e00\u6b65 \u00b6 \u4e86\u89e3 Straddles & Strangles \u63a2\u7d22 \u5782\u76f4\u4ef7\u5dee \u4ee5\u83b7\u5f97\u6709\u9650\u98ce\u9669\u7684\u66ff\u4ee3\u65b9\u6848 \u67e5\u770b\u66f4\u591a \u793a\u4f8b","title":"\u5355\u817f\u7b56\u7565"},{"location":"zh/strategies/singles/#_1","text":"\u5355\u817f\u7b56\u7565\u6d89\u53ca\u4e70\u5165\u6216\u5356\u51fa\u5355\u4e2a call \u6216 put \u671f\u6743\u3002\u8fd9\u4e9b\u662f\u6700\u7b80\u5355\u7684\u671f\u6743\u7b56\u7565,\u662f\u66f4\u590d\u6742\u7684\u591a\u817f\u7b56\u7565\u7684\u57fa\u7840\u3002","title":"\u5355\u817f\u7b56\u7565"},{"location":"zh/strategies/singles/#_2","text":"Long call \u8d4b\u4e88\u60a8\u4ee5\u884c\u6743\u4ef7\u4e70\u5165\u6807\u7684\u8d44\u4ea7\u7684\u6743\u5229\u3002\u8fd9\u662f\u4e00\u79cd\u770b\u6da8\u7b56\u7565,\u5177\u6709\u65e0\u9650\u7684\u76c8\u5229\u6f5c\u529b\u548c\u6709\u9650\u7684\u98ce\u9669(\u652f\u4ed8\u7684\u6743\u5229\u91d1)\u3002","title":"\u63cf\u8ff0"},{"location":"zh/strategies/singles/#_3","text":"\u770b\u6da8 - \u9884\u671f\u4ef7\u683c\u5927\u5e45\u4e0a\u6da8 \u968f\u7740\u6807\u7684\u8d44\u4ea7\u4ef7\u683c\u8d85\u8fc7\u884c\u6743\u4ef7 + \u652f\u4ed8\u7684\u6743\u5229\u91d1,\u5229\u6da6\u589e\u52a0","title":"\u5e02\u573a\u89c2\u70b9"},{"location":"zh/strategies/singles/#_4","text":"\u6700\u5927\u76c8\u5229 : \u65e0\u9650(\u6807\u7684\u8d44\u4ea7\u4ef7\u683c - \u884c\u6743\u4ef7 - \u6743\u5229\u91d1) \u6700\u5927\u635f\u5931 : \u652f\u4ed8\u7684\u6743\u5229\u91d1(\u5982\u679c\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u884c\u6743\u4ef7\u4ee5\u4e0b) \u76c8\u4e8f\u5e73\u8861\u70b9 : \u884c\u6743\u4ef7 + \u652f\u4ed8\u7684\u6743\u5229\u91d1","title":"\u76c8\u4e8f"},{"location":"zh/strategies/singles/#_5","text":"import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) # \u56de\u6d4b 30-60 DTE \u8303\u56f4\u7684 long calls results = op . long_calls ( data , max_entry_dte = 60 , exit_dte = 30 , max_otm_pct = 0.10 # \u7565\u5fae\u865a\u503c\u7684 calls ) print ( results )","title":"\u793a\u4f8b"},{"location":"zh/strategies/singles/#_6","text":"\u62bc\u6ce8\u5f3a\u52b2\u4e0a\u6da8 \u4e70\u5165\u80a1\u7968\u7684\u4f4e\u6210\u672c\u66ff\u4ee3\u65b9\u6848 \u9884\u671f\u6b63\u9762\u6d88\u606f\u7684\u8d22\u62a5\u4ea4\u6613 \u7a81\u7834\u4ea4\u6613","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/singles/#_7","text":"Short call \u5728\u88ab\u884c\u6743\u65f6\u6709\u4e49\u52a1\u4ee5\u884c\u6743\u4ef7\u5356\u51fa\u6807\u7684\u8d44\u4ea7\u3002\u8fd9\u662f\u4e00\u79cd\u770b\u8dcc\u6216\u4e2d\u6027\u7684\u6536\u76ca\u7b56\u7565,\u5177\u6709\u6709\u9650\u7684\u76c8\u5229\u548c\u7406\u8bba\u4e0a\u65e0\u9650\u7684\u98ce\u9669\u3002","title":"\u63cf\u8ff0"},{"location":"zh/strategies/singles/#_8","text":"\u770b\u8dcc\u81f3\u4e2d\u6027 - \u9884\u671f\u4ef7\u683c\u4fdd\u6301\u5e73\u7a33\u6216\u4e0b\u8dcc \u5982\u679c\u6807\u7684\u8d44\u4ea7\u5728\u5230\u671f\u65f6\u4fdd\u6301\u5728\u884c\u6743\u4ef7\u4ee5\u4e0b\u5219\u83b7\u5229","title":"\u5e02\u573a\u89c2\u70b9"},{"location":"zh/strategies/singles/#_9","text":"\u6700\u5927\u76c8\u5229 : \u6536\u5230\u7684\u6743\u5229\u91d1 \u6700\u5927\u635f\u5931 : \u65e0\u9650(\u6807\u7684\u8d44\u4ea7\u4ef7\u683c - \u884c\u6743\u4ef7 - \u6743\u5229\u91d1) \u76c8\u4e8f\u5e73\u8861\u70b9 : \u884c\u6743\u4ef7 + \u6536\u5230\u7684\u6743\u5229\u91d1","title":"\u76c8\u4e8f"},{"location":"zh/strategies/singles/#_10","text":"results = op . short_calls ( data , max_entry_dte = 45 , exit_dte = 0 , # \u6301\u6709\u81f3\u5230\u671f max_otm_pct = 0.30 # \u5356\u51fa\u865a\u503c calls \u4ee5\u83b7\u5f97\u6536\u76ca )","title":"\u793a\u4f8b"},{"location":"zh/strategies/singles/#_11","text":"\u5728\u4e2d\u6027/\u770b\u8dcc\u5e02\u573a\u4e2d\u521b\u6536 \u5907\u5151 call \u7b56\u7565(\u6301\u6709\u80a1\u7968) \u9ad8\u6982\u7387\u6536\u76ca\u4ea4\u6613","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/singles/#_12","text":"\u88f8\u7a7a call \u5728\u6807\u7684\u8d44\u4ea7\u5927\u5e45\u4e0a\u6da8\u65f6\u5177\u6709\u65e0\u9650\u98ce\u9669\u3002\u8003\u8651\u4f7f\u7528\u6709\u9650\u98ce\u9669\u7684\u66ff\u4ee3\u65b9\u6848,\u5982 call \u4ef7\u5dee\u3002","title":"\u26a0\ufe0f \u98ce\u9669\u8b66\u544a"},{"location":"zh/strategies/singles/#_13","text":"Long put \u8d4b\u4e88\u60a8\u4ee5\u884c\u6743\u4ef7\u5356\u51fa\u6807\u7684\u8d44\u4ea7\u7684\u6743\u5229\u3002\u8fd9\u662f\u4e00\u79cd\u770b\u8dcc\u7b56\u7565,\u5177\u6709\u53ef\u89c2\u7684\u76c8\u5229\u6f5c\u529b\u548c\u6709\u9650\u7684\u98ce\u9669(\u652f\u4ed8\u7684\u6743\u5229\u91d1)\u3002","title":"\u63cf\u8ff0"},{"location":"zh/strategies/singles/#_14","text":"\u770b\u8dcc - \u9884\u671f\u4ef7\u683c\u5927\u5e45\u4e0b\u8dcc \u968f\u7740\u6807\u7684\u8d44\u4ea7\u4ef7\u683c\u8dcc\u7834\u884c\u6743\u4ef7 - \u652f\u4ed8\u7684\u6743\u5229\u91d1,\u5229\u6da6\u589e\u52a0","title":"\u5e02\u573a\u89c2\u70b9"},{"location":"zh/strategies/singles/#_15","text":"\u6700\u5927\u76c8\u5229 : \u884c\u6743\u4ef7 - \u6743\u5229\u91d1 - 0(\u5982\u679c\u6807\u7684\u8d44\u4ea7\u5f52\u96f6) \u6700\u5927\u635f\u5931 : \u652f\u4ed8\u7684\u6743\u5229\u91d1(\u5982\u679c\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u884c\u6743\u4ef7\u4ee5\u4e0a) \u76c8\u4e8f\u5e73\u8861\u70b9 : \u884c\u6743\u4ef7 - \u652f\u4ed8\u7684\u6743\u5229\u91d1","title":"\u76c8\u4e8f"},{"location":"zh/strategies/singles/#_16","text":"results = op . long_puts ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.15 # \u4e2d\u5ea6\u865a\u503c puts )","title":"\u793a\u4f8b"},{"location":"zh/strategies/singles/#_17","text":"\u62bc\u6ce8\u5e02\u573a\u4e0b\u8dcc \u6295\u8d44\u7ec4\u5408\u5bf9\u51b2 \u9884\u671f\u8d1f\u9762\u6d88\u606f\u7684\u8d22\u62a5\u4ea4\u6613 \u7a81\u7834\u4e0b\u884c\u4ea4\u6613","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/singles/#_18","text":"Short put \u5728\u88ab\u884c\u6743\u65f6\u6709\u4e49\u52a1\u4ee5\u884c\u6743\u4ef7\u4e70\u5165\u6807\u7684\u8d44\u4ea7\u3002\u8fd9\u662f\u4e00\u79cd\u770b\u6da8\u7684\u6536\u76ca\u7b56\u7565,\u60a8\u6536\u53d6\u6743\u5229\u91d1,\u5e0c\u671b\u671f\u6743\u5230\u671f\u65f6\u5931\u6548\u3002","title":"\u63cf\u8ff0"},{"location":"zh/strategies/singles/#_19","text":"\u770b\u6da8\u81f3\u4e2d\u6027 - \u9884\u671f\u4ef7\u683c\u4fdd\u6301\u5e73\u7a33\u6216\u4e0a\u6da8 \u5982\u679c\u6807\u7684\u8d44\u4ea7\u5728\u5230\u671f\u65f6\u4fdd\u6301\u5728\u884c\u6743\u4ef7\u4ee5\u4e0a\u5219\u83b7\u5229","title":"\u5e02\u573a\u89c2\u70b9"},{"location":"zh/strategies/singles/#_20","text":"\u6700\u5927\u76c8\u5229 : \u6536\u5230\u7684\u6743\u5229\u91d1 \u6700\u5927\u635f\u5931 : \u884c\u6743\u4ef7 - \u6743\u5229\u91d1(\u5982\u679c\u6807\u7684\u8d44\u4ea7\u5f52\u96f6) \u76c8\u4e8f\u5e73\u8861\u70b9 : \u884c\u6743\u4ef7 - \u6536\u5230\u7684\u6743\u5229\u91d1","title":"\u76c8\u4e8f"},{"location":"zh/strategies/singles/#_21","text":"results = op . short_puts ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.20 , # 20% OTM \u4ee5\u83b7\u5f97\u66f4\u5b89\u5168\u7684\u6743\u5229\u91d1 min_bid_ask = 0.10 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/singles/#_22","text":"\u5728\u770b\u6da8\u5e02\u573a\u4e2d\u521b\u6536 \u4ee5\u66f4\u4f4e\u4ef7\u683c\u4e70\u5165\u80a1\u7968\u65f6\"\u83b7\u5f97\u62a5\u916c\u7b49\u5f85\" \u9ad8\u6982\u7387\u4fe1\u7528\u7b56\u7565 Wheel \u7b56\u7565(\u5356\u51fa puts,\u88ab\u5206\u914d,\u5356\u51fa calls)","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/singles/#_23","text":"\u5982\u679c\u671f\u6743\u5728\u5230\u671f\u65f6\u5904\u4e8e\u5b9e\u503c\u72b6\u6001,\u60a8\u5c06\u6709\u4e49\u52a1\u4ee5\u884c\u6743\u4ef7\u4e70\u5165\u80a1\u7968\u3002\u786e\u4fdd\u60a8\u6709\u8d44\u91d1\u6216\u53ef\u4ee5\u5728\u5230\u671f\u524d\u5e73\u4ed3\u3002","title":"\u5206\u914d\u8003\u8651"},{"location":"zh/strategies/singles/#greeks","text":"\u6240\u6709\u5355\u817f\u7b56\u7565\u90fd\u652f\u6301 delta \u8fc7\u6ee4\u4ee5\u5b9a\u4f4d\u7279\u5b9a\u7684\u6982\u7387\u8303\u56f4: # \u76ee\u6807 0.30 delta \u671f\u6743(\u5927\u7ea6 30% \u6982\u7387 ITM) results = op . long_calls ( data , delta_min = 0.25 , delta_max = 0.35 , delta_interval = 0.05 # \u6309 delta \u8303\u56f4\u5206\u7ec4\u7ed3\u679c )","title":"Greeks \u8fc7\u6ee4"},{"location":"zh/strategies/singles/#_24","text":"\u914d\u7f6e\u73b0\u5b9e\u7684\u6210\u4ea4\u4ef7\u683c: # \u4f7f\u7528\u57fa\u4e8e\u6d41\u52a8\u6027\u7684\u6ed1\u70b9 results = op . long_calls ( data , slippage = 'liquidity' , fill_ratio = 0.5 , # \u4ef7\u5dee\u7684 50% reference_volume = 1000 # \u6d41\u52a8\u671f\u6743\u7684\u6700\u5c0f\u6210\u4ea4\u91cf ) \u53ef\u7528\u7684\u6ed1\u70b9\u6a21\u5f0f: - 'mid' - \u4ee5\u4e2d\u95f4\u4ef7\u6210\u4ea4 (bid+ask)/2(\u9ed8\u8ba4) - 'spread' - \u4ee5 ask \u4e70\u5165,\u4ee5 bid \u5356\u51fa(\u6700\u5dee\u60c5\u51b5) - 'liquidity' - \u57fa\u4e8e\u6210\u4ea4\u91cf/\u6301\u4ed3\u91cf\u7684\u52a8\u6001\u6210\u4ea4","title":"\u6ed1\u70b9\u6a21\u578b"},{"location":"zh/strategies/singles/#_25","text":"\u7b56\u7565 \u65b9\u5411 \u6700\u5927\u76c8\u5229 \u6700\u5927\u635f\u5931 \u6700\u4f73\u65f6\u673a Long Call \u770b\u6da8 \u65e0\u9650 \u6743\u5229\u91d1 \u9884\u671f\u4e0a\u6da8 Short Call \u770b\u8dcc/\u4e2d\u6027 \u6743\u5229\u91d1 \u65e0\u9650 \u9884\u671f\u4e0b\u8dcc/\u5e73\u7a33 Long Put \u770b\u8dcc \u53ef\u89c2 \u6743\u5229\u91d1 \u9884\u671f\u4e0b\u8dcc Short Put \u770b\u6da8/\u4e2d\u6027 \u6743\u5229\u91d1 \u53ef\u89c2 \u9884\u671f\u4e0a\u6da8/\u5e73\u7a33","title":"\u6bd4\u8f83\u8868"},{"location":"zh/strategies/singles/#_26","text":"\u4e86\u89e3 Straddles & Strangles \u63a2\u7d22 \u5782\u76f4\u4ef7\u5dee \u4ee5\u83b7\u5f97\u6709\u9650\u98ce\u9669\u7684\u66ff\u4ee3\u65b9\u6848 \u67e5\u770b\u66f4\u591a \u793a\u4f8b","title":"\u4e0b\u4e00\u6b65"},{"location":"zh/strategies/spreads/","text":"\u5782\u76f4\u4ef7\u5dee \u00b6 \u5782\u76f4\u4ef7\u5dee\u7ed3\u5408\u4e70\u5165\u548c\u5356\u51fa\u76f8\u540c\u7c7b\u578b\u7684\u671f\u6743(\u90fd\u662f calls \u6216\u90fd\u662f puts),\u884c\u6743\u4ef7\u4e0d\u540c\u4f46\u5230\u671f\u65e5\u76f8\u540c\u3002\u8fd9\u4e9b\u7b56\u7565\u63d0\u4f9b\u6709\u9650\u98ce\u9669\u548c\u6709\u9650\u56de\u62a5\u3002 Long Call Spread (Bull Call Spread) \u00b6 \u63cf\u8ff0 \u00b6 \u4e00\u79cd\u770b\u6da8\u7b56\u7565,\u4e70\u5165\u8f83\u4f4e\u884c\u6743\u4ef7\u7684 call \u5e76\u5356\u51fa\u8f83\u9ad8\u884c\u6743\u4ef7\u7684 call,\u964d\u4f4e\u6210\u672c\u4f46\u9650\u5236\u4e0a\u884c\u7a7a\u95f4\u3002 \u7ec4\u6210: - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e\u7684 X - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8\u7684 Y \u793a\u4f8b \u00b6 import optopsy as op results = op . long_call_spread ( data , max_entry_dte = 45 , exit_dte = 21 ) Short Call Spread (Bear Call Spread) \u00b6 \u63cf\u8ff0 \u00b6 \u4e00\u79cd\u770b\u8dcc\u7684\u4fe1\u7528\u7b56\u7565,\u5f53\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u7a7a\u5934\u884c\u6743\u4ef7\u4ee5\u4e0b\u65f6\u83b7\u5229\u3002 \u7ec4\u6210: - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e\u7684 X - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8\u7684 Y(\u4fdd\u62a4) \u793a\u4f8b \u00b6 results = op . short_call_spread ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.20 ) Long Put Spread (Bear Put Spread) \u00b6 \u63cf\u8ff0 \u00b6 \u4e00\u79cd\u770b\u8dcc\u7b56\u7565,\u4ece\u5411\u4e0b\u79fb\u52a8\u4e2d\u83b7\u5229,\u98ce\u9669\u6709\u9650\u3002 \u7ec4\u6210: - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e\u7684 X - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8\u7684 Y \u793a\u4f8b \u00b6 results = op . long_put_spread ( data , max_entry_dte = 45 , exit_dte = 21 ) Short Put Spread (Bull Put Spread) \u00b6 \u63cf\u8ff0 \u00b6 \u4e00\u79cd\u770b\u6da8\u7684\u4fe1\u7528\u7b56\u7565,\u5f53\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u7a7a\u5934\u884c\u6743\u4ef7\u4ee5\u4e0a\u65f6\u83b7\u5229\u3002 \u7ec4\u6210: - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e\u7684 X(\u4fdd\u62a4) - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8\u7684 Y \u793a\u4f8b \u00b6 results = op . short_put_spread ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 ) \u6bd4\u8f83\u8868 \u00b6 \u4ef7\u5dee \u65b9\u5411 \u7c7b\u578b \u6700\u5927\u76c8\u5229 \u6700\u5927\u635f\u5931 Long Call \u770b\u6da8 \u501f\u8bb0 \u5bbd\u5ea6 - \u501f\u8bb0 \u652f\u4ed8\u7684\u501f\u8bb0 Short Call \u770b\u8dcc \u4fe1\u7528 \u4fe1\u7528 \u5bbd\u5ea6 - \u4fe1\u7528 Long Put \u770b\u8dcc \u501f\u8bb0 \u5bbd\u5ea6 - \u501f\u8bb0 \u652f\u4ed8\u7684\u501f\u8bb0 Short Put \u770b\u6da8 \u4fe1\u7528 \u4fe1\u7528 \u5bbd\u5ea6 - \u4fe1\u7528","title":"\u5782\u76f4\u4ef7\u5dee"},{"location":"zh/strategies/spreads/#_1","text":"\u5782\u76f4\u4ef7\u5dee\u7ed3\u5408\u4e70\u5165\u548c\u5356\u51fa\u76f8\u540c\u7c7b\u578b\u7684\u671f\u6743(\u90fd\u662f calls \u6216\u90fd\u662f puts),\u884c\u6743\u4ef7\u4e0d\u540c\u4f46\u5230\u671f\u65e5\u76f8\u540c\u3002\u8fd9\u4e9b\u7b56\u7565\u63d0\u4f9b\u6709\u9650\u98ce\u9669\u548c\u6709\u9650\u56de\u62a5\u3002","title":"\u5782\u76f4\u4ef7\u5dee"},{"location":"zh/strategies/spreads/#_2","text":"\u4e00\u79cd\u770b\u6da8\u7b56\u7565,\u4e70\u5165\u8f83\u4f4e\u884c\u6743\u4ef7\u7684 call \u5e76\u5356\u51fa\u8f83\u9ad8\u884c\u6743\u4ef7\u7684 call,\u964d\u4f4e\u6210\u672c\u4f46\u9650\u5236\u4e0a\u884c\u7a7a\u95f4\u3002 \u7ec4\u6210: - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e\u7684 X - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8\u7684 Y","title":"\u63cf\u8ff0"},{"location":"zh/strategies/spreads/#_3","text":"import optopsy as op results = op . long_call_spread ( data , max_entry_dte = 45 , exit_dte = 21 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/spreads/#_4","text":"\u4e00\u79cd\u770b\u8dcc\u7684\u4fe1\u7528\u7b56\u7565,\u5f53\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u7a7a\u5934\u884c\u6743\u4ef7\u4ee5\u4e0b\u65f6\u83b7\u5229\u3002 \u7ec4\u6210: - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e\u7684 X - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8\u7684 Y(\u4fdd\u62a4)","title":"\u63cf\u8ff0"},{"location":"zh/strategies/spreads/#_5","text":"results = op . short_call_spread ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.20 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/spreads/#_6","text":"\u4e00\u79cd\u770b\u8dcc\u7b56\u7565,\u4ece\u5411\u4e0b\u79fb\u52a8\u4e2d\u83b7\u5229,\u98ce\u9669\u6709\u9650\u3002 \u7ec4\u6210: - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e\u7684 X - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8\u7684 Y","title":"\u63cf\u8ff0"},{"location":"zh/strategies/spreads/#_7","text":"results = op . long_put_spread ( data , max_entry_dte = 45 , exit_dte = 21 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/spreads/#_8","text":"\u4e00\u79cd\u770b\u6da8\u7684\u4fe1\u7528\u7b56\u7565,\u5f53\u6807\u7684\u8d44\u4ea7\u4fdd\u6301\u5728\u7a7a\u5934\u884c\u6743\u4ef7\u4ee5\u4e0a\u65f6\u83b7\u5229\u3002 \u7ec4\u6210: - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u4f4e\u7684 X(\u4fdd\u62a4) - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a\u8f83\u9ad8\u7684 Y","title":"\u63cf\u8ff0"},{"location":"zh/strategies/spreads/#_9","text":"results = op . short_put_spread ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/spreads/#_10","text":"\u4ef7\u5dee \u65b9\u5411 \u7c7b\u578b \u6700\u5927\u76c8\u5229 \u6700\u5927\u635f\u5931 Long Call \u770b\u6da8 \u501f\u8bb0 \u5bbd\u5ea6 - \u501f\u8bb0 \u652f\u4ed8\u7684\u501f\u8bb0 Short Call \u770b\u8dcc \u4fe1\u7528 \u4fe1\u7528 \u5bbd\u5ea6 - \u4fe1\u7528 Long Put \u770b\u8dcc \u501f\u8bb0 \u5bbd\u5ea6 - \u501f\u8bb0 \u652f\u4ed8\u7684\u501f\u8bb0 Short Put \u770b\u6da8 \u4fe1\u7528 \u4fe1\u7528 \u5bbd\u5ea6 - \u4fe1\u7528","title":"\u6bd4\u8f83\u8868"},{"location":"zh/strategies/straddles-strangles/","text":"Straddles & Strangles \u00b6 Straddles \u548c strangles \u662f\u57fa\u4e8e\u6ce2\u52a8\u7387\u7684\u7b56\u7565,\u7ed3\u5408 calls \u548c puts \u4ee5\u4ece\u5927\u5e45\u4ef7\u683c\u6ce2\u52a8(long)\u6216\u4f4e\u6ce2\u52a8\u7387(short)\u4e2d\u83b7\u5229\u3002 Long Straddle \u00b6 \u63cf\u8ff0 \u00b6 Long straddle \u7531\u5728 \u76f8\u540c\u884c\u6743\u4ef7 \u4e70\u5165\u4e00\u4e2a call \u548c\u4e00\u4e2a put \u7ec4\u6210,\u901a\u5e38\u5728\u5e73\u503c\u3002\u8be5\u7b56\u7565\u4ece\u4efb\u4e00\u65b9\u5411\u7684\u5927\u5e45\u4ef7\u683c\u6ce2\u52a8\u4e2d\u83b7\u5229\u3002 \u7ec4\u6210: - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a X - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a X \u5e02\u573a\u89c2\u70b9 \u00b6 \u9884\u671f\u9ad8\u6ce2\u52a8\u7387 - \u9884\u671f\u5927\u5e45\u4e0a\u6da8\u6216\u4e0b\u8dcc \u65b9\u5411\u65e0\u5173\u7d27\u8981,\u53ea\u5728\u4e4e\u5e45\u5ea6 \u5728\u8d22\u62a5\u516c\u544a\u6216\u91cd\u5927\u4e8b\u4ef6\u4e4b\u524d\u5e38\u89c1 \u76c8\u4e8f \u00b6 \u6700\u5927\u76c8\u5229 : \u65e0\u9650(\u4efb\u4e00\u65b9\u5411) \u6700\u5927\u635f\u5931 : \u652f\u4ed8\u7684\u603b\u6743\u5229\u91d1(\u5982\u679c\u4ef7\u683c\u4fdd\u6301\u5728\u884c\u6743\u4ef7) \u76c8\u4e8f\u5e73\u8861\u70b9 : \u884c\u6743\u4ef7 \u00b1 \u652f\u4ed8\u7684\u603b\u6743\u5229\u91d1 \u793a\u4f8b \u00b6 import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) # \u56de\u6d4b long straddles results = op . long_straddles ( data , max_entry_dte = 30 , exit_dte = 0 , # \u6301\u6709\u81f3\u5230\u671f max_otm_pct = 0.05 # \u63a5\u8fd1 ATM ) print ( results ) \u4f7f\u7528\u573a\u666f \u00b6 \u9884\u671f\u5927\u5e45\u6ce2\u52a8\u7684\u8d22\u62a5\u4ea4\u6613 \u5728\u7f8e\u8054\u50a8\u516c\u544a\u6216\u91cd\u5927\u7ecf\u6d4e\u6570\u636e\u53d1\u5e03\u524d \u5f53\u9690\u542b\u6ce2\u52a8\u7387\u4f4e\u4f46\u60a8\u9884\u671f\u7206\u53d1\u65f6 \u4e8c\u5143\u4e8b\u4ef6(FDA \u6279\u51c6\u3001\u6cd5\u9662\u88c1\u51b3) Short Straddle \u00b6 \u63cf\u8ff0 \u00b6 Short straddle \u7531\u5728 \u76f8\u540c\u884c\u6743\u4ef7 \u5356\u51fa\u4e00\u4e2a call \u548c\u4e00\u4e2a put \u7ec4\u6210\u3002\u8be5\u7b56\u7565\u5728\u4ef7\u683c\u5728\u5230\u671f\u65f6\u4fdd\u6301\u5728\u884c\u6743\u4ef7\u9644\u8fd1\u65f6\u83b7\u5229\u3002 \u7ec4\u6210: - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a X - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a X \u5e02\u573a\u89c2\u70b9 \u00b6 \u9884\u671f\u4f4e\u6ce2\u52a8\u7387 - \u4ef7\u683c\u4fdd\u6301\u7a33\u5b9a \u5982\u679c\u4ef7\u683c\u5728\u5230\u671f\u65f6\u6070\u597d\u5728\u884c\u6743\u4ef7\u5219\u6700\u5927\u76c8\u5229 \u5982\u679c\u4ef7\u683c\u5728\u4efb\u4e00\u65b9\u5411\u5927\u5e45\u79fb\u52a8,\u5229\u6da6\u4f1a\u4fb5\u8680 \u76c8\u4e8f \u00b6 \u6700\u5927\u76c8\u5229 : \u6536\u5230\u7684\u603b\u6743\u5229\u91d1 \u6700\u5927\u635f\u5931 : \u65e0\u9650(\u5982\u679c\u4ef7\u683c\u8fdc\u79bb\u884c\u6743\u4ef7) \u76c8\u4e8f\u5e73\u8861\u70b9 : \u884c\u6743\u4ef7 \u00b1 \u6536\u5230\u7684\u603b\u6743\u5229\u91d1 \u793a\u4f8b \u00b6 results = op . short_straddles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.05 , # ATM straddles min_bid_ask = 0.20 # \u786e\u4fdd\u6d41\u52a8\u671f\u6743 ) \u4f7f\u7528\u573a\u666f \u00b6 \u9ad8\u9690\u542b\u6ce2\u52a8\u7387\u73af\u5883 \u8d22\u62a5\u540e\u9884\u671f IV \u6324\u538b \u533a\u95f4\u9707\u8361\u5e02\u573a \u4f4e\u6ce2\u52a8\u7387\u671f\u95f4\u7684\u6536\u76ca\u521b\u9020 \u26a0\ufe0f \u98ce\u9669\u8b66\u544a \u00b6 Short straddles \u5728\u4e24\u4e2a\u65b9\u5411\u90fd\u6709\u65e0\u9650\u98ce\u9669\u3002\u8003\u8651\u4f7f\u7528 iron butterflies \u4f5c\u4e3a\u6709\u9650\u98ce\u9669\u7684\u66ff\u4ee3\u65b9\u6848\u3002 Long Strangle \u00b6 \u63cf\u8ff0 \u00b6 Long strangle \u7531\u4e70\u5165\u865a\u503c call \u548c\u865a\u503c put \u5728 \u4e0d\u540c\u884c\u6743\u4ef7 \u7ec4\u6210\u3002\u8fd9\u7c7b\u4f3c\u4e8e long straddle,\u4f46\u6210\u672c\u66f4\u4f4e,\u76c8\u4e8f\u5e73\u8861\u70b9\u66f4\u5bbd\u3002 \u7ec4\u6210: - Long 1 \u4e2a\u865a\u503c put,\u884c\u6743\u4ef7\u4e3a X - Long 1 \u4e2a\u865a\u503c call,\u884c\u6743\u4ef7\u4e3a Y(Y > X) \u5e02\u573a\u89c2\u70b9 \u00b6 \u9884\u671f\u9ad8\u6ce2\u52a8\u7387 - \u9884\u671f\u5927\u5e45\u6ce2\u52a8 \u6210\u672c\u4f4e\u4e8e straddles,\u4f46\u9700\u8981\u66f4\u5927\u7684\u6ce2\u52a8\u624d\u80fd\u83b7\u5229 \u5bf9\u4e8e\u7206\u70b8\u6027\u6ce2\u52a8,\u98ce\u9669/\u56de\u62a5\u6bd4 straddles \u66f4\u597d \u76c8\u4e8f \u00b6 \u6700\u5927\u76c8\u5229 : \u65e0\u9650(\u4efb\u4e00\u65b9\u5411) \u6700\u5927\u635f\u5931 : \u652f\u4ed8\u7684\u603b\u6743\u5229\u91d1 \u76c8\u4e8f\u5e73\u8861\u70b9 : Put \u884c\u6743\u4ef7 - \u603b\u6743\u5229\u91d1, Call \u884c\u6743\u4ef7 + \u603b\u6743\u5229\u91d1 \u793a\u4f8b \u00b6 results = op . long_strangles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.20 # \u66f4\u5bbd\u7684\u884c\u6743\u4ef7\u4ee5\u964d\u4f4e\u6210\u672c ) \u4f7f\u7528\u573a\u666f \u00b6 \u6210\u672c\u66f4\u4f4e\u7684\u6ce2\u52a8\u7387\u4ea4\u6613 \u5728\u7ed3\u679c\u672a\u77e5\u7684\u91cd\u5927\u4e8b\u4ef6\u4e4b\u524d \u5f53\u60a8\u9884\u671f\u5927\u5e45\u6ce2\u52a8\u4f46\u60f3\u964d\u4f4e\u6210\u672c\u65f6 \u5728\u5927\u89c4\u6a21\u6ce2\u52a8\u65f6\u6bd4 straddles \u6709\u66f4\u9ad8\u7684\u76c8\u5229\u6982\u7387 Short Strangle \u00b6 \u63cf\u8ff0 \u00b6 Short strangle \u7531\u5356\u51fa\u865a\u503c call \u548c\u865a\u503c put \u5728 \u4e0d\u540c\u884c\u6743\u4ef7 \u7ec4\u6210\u3002\u8fd9\u63d0\u4f9b\u4e86\u6bd4 short straddle \u66f4\u5bbd\u7684\u76c8\u5229\u533a\u95f4\u3002 \u7ec4\u6210: - Short 1 \u4e2a\u865a\u503c put,\u884c\u6743\u4ef7\u4e3a X - Short 1 \u4e2a\u865a\u503c call,\u884c\u6743\u4ef7\u4e3a Y(Y > X) \u5e02\u573a\u89c2\u70b9 \u00b6 \u4f4e\u81f3\u4e2d\u7b49\u6ce2\u52a8\u7387 - \u4ef7\u683c\u4fdd\u6301\u5728\u533a\u95f4\u5185 \u76c8\u5229\u533a\u95f4\u6bd4 short straddles \u66f4\u5bbd \u5982\u679c\u4ef7\u683c\u9002\u5ea6\u79fb\u52a8\u66f4\u5bbd\u5bb9 \u76c8\u4e8f \u00b6 \u6700\u5927\u76c8\u5229 : \u6536\u5230\u7684\u603b\u6743\u5229\u91d1 \u6700\u5927\u635f\u5931 : \u65e0\u9650(\u8d85\u8fc7\u7a7a\u5934\u884c\u6743\u4ef7) \u76c8\u4e8f\u5e73\u8861\u70b9 : Put \u884c\u6743\u4ef7 - \u603b\u6743\u5229\u91d1, Call \u884c\u6743\u4ef7 + \u603b\u6743\u5229\u91d1 \u793a\u4f8b \u00b6 results = op . short_strangles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.30 , # \u5bbd\u884c\u6743\u4ef7\u4ee5\u83b7\u5f97\u66f4\u5b89\u5168\u7684\u533a\u95f4 min_bid_ask = 0.15 ) \u4f7f\u7528\u573a\u666f \u00b6 \u5728\u533a\u95f4\u9707\u8361\u5e02\u573a\u4e2d\u7684\u6536\u76ca \u6bd4 short straddles \u6709\u66f4\u9ad8\u7684\u6210\u529f\u6982\u7387 \u9ad8 IV \u4e8b\u4ef6\u540e(\u8d22\u62a5\u540e) \u5f53\u60a8\u9884\u671f\u4f4e\u6ce2\u52a8\u7387\u4f46\u60f3\u8981\u7f13\u51b2\u65f6 \u7ba1\u7406\u6280\u5de7 \u00b6 \u8003\u8651\u5728\u6700\u5927\u76c8\u5229\u7684 50% \u65f6\u5e73\u4ed3 \u5982\u679c\u9700\u8981,\u6eda\u52a8\u672a\u6d4b\u8bd5\u7684\u4e00\u4fa7 \u7531\u4e8e\u672a\u5b9a\u4e49\u98ce\u9669,\u4ed4\u7ec6\u76d1\u63a7\u5934\u5bf8\u89c4\u6a21 \u7b56\u7565\u6bd4\u8f83 \u00b6 \u7b56\u7565 \u884c\u6743\u4ef7 \u6743\u5229\u91d1 \u76c8\u5229\u533a\u95f4 \u6700\u4f73\u7528\u4e8e Long Straddle \u76f8\u540c \u6210\u672c\u8f83\u9ad8 \u5bbd(\u4efb\u4f55\u5927\u5e45\u6ce2\u52a8) \u6700\u5927\u6ce2\u52a8\u7387\u4ea4\u6613 Long Strangle \u4e0d\u540c \u6210\u672c\u8f83\u4f4e \u66f4\u5bbd\u7684\u76c8\u4e8f\u5e73\u8861\u70b9 \u6210\u672c\u66f4\u4f4e\u7684\u6ce2\u52a8\u7387 Short Straddle \u76f8\u540c \u4fe1\u7528\u8f83\u9ad8 \u7a84(\u5728\u884c\u6743\u4ef7) \u6700\u5927\u6536\u76ca,\u4f4e\u6ce2\u52a8\u7387 Short Strangle \u4e0d\u540c \u4fe1\u7528\u8f83\u4f4e \u66f4\u5bbd\u7684\u533a\u95f4 \u66f4\u5b89\u5168\u7684\u6536\u76ca,\u4e2d\u7b49\u6ce2\u52a8\u7387 Greeks \u8003\u8651 \u00b6 \u5bf9\u4e8e Long Straddles/Strangles \u00b6 \u6b63 Vega - \u4ece\u6ce2\u52a8\u7387\u589e\u52a0\u4e2d\u53d7\u76ca \u8d1f Theta - \u65f6\u95f4\u8870\u51cf\u5bf9\u60a8\u4e0d\u5229 \u4ea4\u6613 : \u5728 IV \u4f4e\u65f6\u4e70\u5165,\u5728 IV \u98d9\u5347\u65f6\u5356\u51fa \u5bf9\u4e8e Short Straddles/Strangles \u00b6 \u8d1f Vega - \u53d7\u6ce2\u52a8\u7387\u589e\u52a0\u4f24\u5bb3 \u6b63 Theta - \u65f6\u95f4\u8870\u51cf\u5bf9\u60a8\u6709\u5229 \u4ea4\u6613 : \u5728 IV \u9ad8\u65f6\u5356\u51fa,\u4ece IV \u6324\u538b\u4e2d\u53d7\u76ca \u793a\u4f8b: IV \u8fc7\u6ee4 \u00b6 # \u9488\u5bf9 short strangles \u7684\u9ad8 IV \u73af\u5883 results = op . short_strangles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 , # \u8fc7\u6ee4\u6d41\u52a8\u3001\u9ad8 IV \u671f\u6743 min_bid_ask = 0.15 , slippage = 'liquidity' ) \u98ce\u9669\u7ba1\u7406 \u00b6 \u5bf9\u4e8e Long \u5934\u5bf8: - \u98ce\u9669\u9650\u4e8e\u652f\u4ed8\u7684\u6743\u5229\u91d1 - \u8003\u8651\u5728 100% \u635f\u5931\u6216 200%+ \u6536\u76ca\u65f6\u9000\u51fa - \u5927\u5e45\u6ce2\u52a8\u65f6\u5229\u6da6\u53ef\u80fd\u76f8\u5f53\u53ef\u89c2 \u5bf9\u4e8e Short \u5934\u5bf8: - \u26a0\ufe0f \u98ce\u9669\u662f\u65e0\u9650\u7684 - \u8003\u8651\u6b62\u635f\u6216\u8f6c\u6362\u4e3a iron condors/butterflies - \u5728\u6700\u5927\u76c8\u5229\u7684 50-75% \u65f6\u63d0\u524d\u5e73\u4ed3 - \u4fdd\u5b88\u5730\u786e\u5b9a\u5934\u5bf8\u89c4\u6a21(\u8d26\u6237\u7684\u5c0f\u767e\u5206\u6bd4) \u4e0b\u4e00\u6b65 \u00b6 \u4e86\u89e3 \u5782\u76f4\u4ef7\u5dee \u4ee5\u83b7\u5f97\u6709\u9650\u98ce\u9669\u7684\u66ff\u4ee3\u65b9\u6848 \u63a2\u7d22 Iron Butterflies \u4ee5\u83b7\u5f97\u6709\u9650\u98ce\u9669\u7684\u6ce2\u52a8\u7387\u4ea4\u6613 \u67e5\u770b\u5305\u542b IV \u5206\u6790\u7684\u66f4\u591a \u793a\u4f8b","title":"\u8de8\u5f0f\u7ec4\u5408"},{"location":"zh/strategies/straddles-strangles/#straddles-strangles","text":"Straddles \u548c strangles \u662f\u57fa\u4e8e\u6ce2\u52a8\u7387\u7684\u7b56\u7565,\u7ed3\u5408 calls \u548c puts \u4ee5\u4ece\u5927\u5e45\u4ef7\u683c\u6ce2\u52a8(long)\u6216\u4f4e\u6ce2\u52a8\u7387(short)\u4e2d\u83b7\u5229\u3002","title":"Straddles &amp; Strangles"},{"location":"zh/strategies/straddles-strangles/#_1","text":"Long straddle \u7531\u5728 \u76f8\u540c\u884c\u6743\u4ef7 \u4e70\u5165\u4e00\u4e2a call \u548c\u4e00\u4e2a put \u7ec4\u6210,\u901a\u5e38\u5728\u5e73\u503c\u3002\u8be5\u7b56\u7565\u4ece\u4efb\u4e00\u65b9\u5411\u7684\u5927\u5e45\u4ef7\u683c\u6ce2\u52a8\u4e2d\u83b7\u5229\u3002 \u7ec4\u6210: - Long 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a X - Long 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a X","title":"\u63cf\u8ff0"},{"location":"zh/strategies/straddles-strangles/#_2","text":"\u9884\u671f\u9ad8\u6ce2\u52a8\u7387 - \u9884\u671f\u5927\u5e45\u4e0a\u6da8\u6216\u4e0b\u8dcc \u65b9\u5411\u65e0\u5173\u7d27\u8981,\u53ea\u5728\u4e4e\u5e45\u5ea6 \u5728\u8d22\u62a5\u516c\u544a\u6216\u91cd\u5927\u4e8b\u4ef6\u4e4b\u524d\u5e38\u89c1","title":"\u5e02\u573a\u89c2\u70b9"},{"location":"zh/strategies/straddles-strangles/#_3","text":"\u6700\u5927\u76c8\u5229 : \u65e0\u9650(\u4efb\u4e00\u65b9\u5411) \u6700\u5927\u635f\u5931 : \u652f\u4ed8\u7684\u603b\u6743\u5229\u91d1(\u5982\u679c\u4ef7\u683c\u4fdd\u6301\u5728\u884c\u6743\u4ef7) \u76c8\u4e8f\u5e73\u8861\u70b9 : \u884c\u6743\u4ef7 \u00b1 \u652f\u4ed8\u7684\u603b\u6743\u5229\u91d1","title":"\u76c8\u4e8f"},{"location":"zh/strategies/straddles-strangles/#_4","text":"import optopsy as op data = op . csv_data ( 'SPX_options.csv' ) # \u56de\u6d4b long straddles results = op . long_straddles ( data , max_entry_dte = 30 , exit_dte = 0 , # \u6301\u6709\u81f3\u5230\u671f max_otm_pct = 0.05 # \u63a5\u8fd1 ATM ) print ( results )","title":"\u793a\u4f8b"},{"location":"zh/strategies/straddles-strangles/#_5","text":"\u9884\u671f\u5927\u5e45\u6ce2\u52a8\u7684\u8d22\u62a5\u4ea4\u6613 \u5728\u7f8e\u8054\u50a8\u516c\u544a\u6216\u91cd\u5927\u7ecf\u6d4e\u6570\u636e\u53d1\u5e03\u524d \u5f53\u9690\u542b\u6ce2\u52a8\u7387\u4f4e\u4f46\u60a8\u9884\u671f\u7206\u53d1\u65f6 \u4e8c\u5143\u4e8b\u4ef6(FDA \u6279\u51c6\u3001\u6cd5\u9662\u88c1\u51b3)","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/straddles-strangles/#_6","text":"Short straddle \u7531\u5728 \u76f8\u540c\u884c\u6743\u4ef7 \u5356\u51fa\u4e00\u4e2a call \u548c\u4e00\u4e2a put \u7ec4\u6210\u3002\u8be5\u7b56\u7565\u5728\u4ef7\u683c\u5728\u5230\u671f\u65f6\u4fdd\u6301\u5728\u884c\u6743\u4ef7\u9644\u8fd1\u65f6\u83b7\u5229\u3002 \u7ec4\u6210: - Short 1 \u4e2a call,\u884c\u6743\u4ef7\u4e3a X - Short 1 \u4e2a put,\u884c\u6743\u4ef7\u4e3a X","title":"\u63cf\u8ff0"},{"location":"zh/strategies/straddles-strangles/#_7","text":"\u9884\u671f\u4f4e\u6ce2\u52a8\u7387 - \u4ef7\u683c\u4fdd\u6301\u7a33\u5b9a \u5982\u679c\u4ef7\u683c\u5728\u5230\u671f\u65f6\u6070\u597d\u5728\u884c\u6743\u4ef7\u5219\u6700\u5927\u76c8\u5229 \u5982\u679c\u4ef7\u683c\u5728\u4efb\u4e00\u65b9\u5411\u5927\u5e45\u79fb\u52a8,\u5229\u6da6\u4f1a\u4fb5\u8680","title":"\u5e02\u573a\u89c2\u70b9"},{"location":"zh/strategies/straddles-strangles/#_8","text":"\u6700\u5927\u76c8\u5229 : \u6536\u5230\u7684\u603b\u6743\u5229\u91d1 \u6700\u5927\u635f\u5931 : \u65e0\u9650(\u5982\u679c\u4ef7\u683c\u8fdc\u79bb\u884c\u6743\u4ef7) \u76c8\u4e8f\u5e73\u8861\u70b9 : \u884c\u6743\u4ef7 \u00b1 \u6536\u5230\u7684\u603b\u6743\u5229\u91d1","title":"\u76c8\u4e8f"},{"location":"zh/strategies/straddles-strangles/#_9","text":"results = op . short_straddles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.05 , # ATM straddles min_bid_ask = 0.20 # \u786e\u4fdd\u6d41\u52a8\u671f\u6743 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/straddles-strangles/#_10","text":"\u9ad8\u9690\u542b\u6ce2\u52a8\u7387\u73af\u5883 \u8d22\u62a5\u540e\u9884\u671f IV \u6324\u538b \u533a\u95f4\u9707\u8361\u5e02\u573a \u4f4e\u6ce2\u52a8\u7387\u671f\u95f4\u7684\u6536\u76ca\u521b\u9020","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/straddles-strangles/#_11","text":"Short straddles \u5728\u4e24\u4e2a\u65b9\u5411\u90fd\u6709\u65e0\u9650\u98ce\u9669\u3002\u8003\u8651\u4f7f\u7528 iron butterflies \u4f5c\u4e3a\u6709\u9650\u98ce\u9669\u7684\u66ff\u4ee3\u65b9\u6848\u3002","title":"\u26a0\ufe0f \u98ce\u9669\u8b66\u544a"},{"location":"zh/strategies/straddles-strangles/#_12","text":"Long strangle \u7531\u4e70\u5165\u865a\u503c call \u548c\u865a\u503c put \u5728 \u4e0d\u540c\u884c\u6743\u4ef7 \u7ec4\u6210\u3002\u8fd9\u7c7b\u4f3c\u4e8e long straddle,\u4f46\u6210\u672c\u66f4\u4f4e,\u76c8\u4e8f\u5e73\u8861\u70b9\u66f4\u5bbd\u3002 \u7ec4\u6210: - Long 1 \u4e2a\u865a\u503c put,\u884c\u6743\u4ef7\u4e3a X - Long 1 \u4e2a\u865a\u503c call,\u884c\u6743\u4ef7\u4e3a Y(Y > X)","title":"\u63cf\u8ff0"},{"location":"zh/strategies/straddles-strangles/#_13","text":"\u9884\u671f\u9ad8\u6ce2\u52a8\u7387 - \u9884\u671f\u5927\u5e45\u6ce2\u52a8 \u6210\u672c\u4f4e\u4e8e straddles,\u4f46\u9700\u8981\u66f4\u5927\u7684\u6ce2\u52a8\u624d\u80fd\u83b7\u5229 \u5bf9\u4e8e\u7206\u70b8\u6027\u6ce2\u52a8,\u98ce\u9669/\u56de\u62a5\u6bd4 straddles \u66f4\u597d","title":"\u5e02\u573a\u89c2\u70b9"},{"location":"zh/strategies/straddles-strangles/#_14","text":"\u6700\u5927\u76c8\u5229 : \u65e0\u9650(\u4efb\u4e00\u65b9\u5411) \u6700\u5927\u635f\u5931 : \u652f\u4ed8\u7684\u603b\u6743\u5229\u91d1 \u76c8\u4e8f\u5e73\u8861\u70b9 : Put \u884c\u6743\u4ef7 - \u603b\u6743\u5229\u91d1, Call \u884c\u6743\u4ef7 + \u603b\u6743\u5229\u91d1","title":"\u76c8\u4e8f"},{"location":"zh/strategies/straddles-strangles/#_15","text":"results = op . long_strangles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.20 # \u66f4\u5bbd\u7684\u884c\u6743\u4ef7\u4ee5\u964d\u4f4e\u6210\u672c )","title":"\u793a\u4f8b"},{"location":"zh/strategies/straddles-strangles/#_16","text":"\u6210\u672c\u66f4\u4f4e\u7684\u6ce2\u52a8\u7387\u4ea4\u6613 \u5728\u7ed3\u679c\u672a\u77e5\u7684\u91cd\u5927\u4e8b\u4ef6\u4e4b\u524d \u5f53\u60a8\u9884\u671f\u5927\u5e45\u6ce2\u52a8\u4f46\u60f3\u964d\u4f4e\u6210\u672c\u65f6 \u5728\u5927\u89c4\u6a21\u6ce2\u52a8\u65f6\u6bd4 straddles \u6709\u66f4\u9ad8\u7684\u76c8\u5229\u6982\u7387","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/straddles-strangles/#_17","text":"Short strangle \u7531\u5356\u51fa\u865a\u503c call \u548c\u865a\u503c put \u5728 \u4e0d\u540c\u884c\u6743\u4ef7 \u7ec4\u6210\u3002\u8fd9\u63d0\u4f9b\u4e86\u6bd4 short straddle \u66f4\u5bbd\u7684\u76c8\u5229\u533a\u95f4\u3002 \u7ec4\u6210: - Short 1 \u4e2a\u865a\u503c put,\u884c\u6743\u4ef7\u4e3a X - Short 1 \u4e2a\u865a\u503c call,\u884c\u6743\u4ef7\u4e3a Y(Y > X)","title":"\u63cf\u8ff0"},{"location":"zh/strategies/straddles-strangles/#_18","text":"\u4f4e\u81f3\u4e2d\u7b49\u6ce2\u52a8\u7387 - \u4ef7\u683c\u4fdd\u6301\u5728\u533a\u95f4\u5185 \u76c8\u5229\u533a\u95f4\u6bd4 short straddles \u66f4\u5bbd \u5982\u679c\u4ef7\u683c\u9002\u5ea6\u79fb\u52a8\u66f4\u5bbd\u5bb9","title":"\u5e02\u573a\u89c2\u70b9"},{"location":"zh/strategies/straddles-strangles/#_19","text":"\u6700\u5927\u76c8\u5229 : \u6536\u5230\u7684\u603b\u6743\u5229\u91d1 \u6700\u5927\u635f\u5931 : \u65e0\u9650(\u8d85\u8fc7\u7a7a\u5934\u884c\u6743\u4ef7) \u76c8\u4e8f\u5e73\u8861\u70b9 : Put \u884c\u6743\u4ef7 - \u603b\u6743\u5229\u91d1, Call \u884c\u6743\u4ef7 + \u603b\u6743\u5229\u91d1","title":"\u76c8\u4e8f"},{"location":"zh/strategies/straddles-strangles/#_20","text":"results = op . short_strangles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.30 , # \u5bbd\u884c\u6743\u4ef7\u4ee5\u83b7\u5f97\u66f4\u5b89\u5168\u7684\u533a\u95f4 min_bid_ask = 0.15 )","title":"\u793a\u4f8b"},{"location":"zh/strategies/straddles-strangles/#_21","text":"\u5728\u533a\u95f4\u9707\u8361\u5e02\u573a\u4e2d\u7684\u6536\u76ca \u6bd4 short straddles \u6709\u66f4\u9ad8\u7684\u6210\u529f\u6982\u7387 \u9ad8 IV \u4e8b\u4ef6\u540e(\u8d22\u62a5\u540e) \u5f53\u60a8\u9884\u671f\u4f4e\u6ce2\u52a8\u7387\u4f46\u60f3\u8981\u7f13\u51b2\u65f6","title":"\u4f7f\u7528\u573a\u666f"},{"location":"zh/strategies/straddles-strangles/#_22","text":"\u8003\u8651\u5728\u6700\u5927\u76c8\u5229\u7684 50% \u65f6\u5e73\u4ed3 \u5982\u679c\u9700\u8981,\u6eda\u52a8\u672a\u6d4b\u8bd5\u7684\u4e00\u4fa7 \u7531\u4e8e\u672a\u5b9a\u4e49\u98ce\u9669,\u4ed4\u7ec6\u76d1\u63a7\u5934\u5bf8\u89c4\u6a21","title":"\u7ba1\u7406\u6280\u5de7"},{"location":"zh/strategies/straddles-strangles/#_23","text":"\u7b56\u7565 \u884c\u6743\u4ef7 \u6743\u5229\u91d1 \u76c8\u5229\u533a\u95f4 \u6700\u4f73\u7528\u4e8e Long Straddle \u76f8\u540c \u6210\u672c\u8f83\u9ad8 \u5bbd(\u4efb\u4f55\u5927\u5e45\u6ce2\u52a8) \u6700\u5927\u6ce2\u52a8\u7387\u4ea4\u6613 Long Strangle \u4e0d\u540c \u6210\u672c\u8f83\u4f4e \u66f4\u5bbd\u7684\u76c8\u4e8f\u5e73\u8861\u70b9 \u6210\u672c\u66f4\u4f4e\u7684\u6ce2\u52a8\u7387 Short Straddle \u76f8\u540c \u4fe1\u7528\u8f83\u9ad8 \u7a84(\u5728\u884c\u6743\u4ef7) \u6700\u5927\u6536\u76ca,\u4f4e\u6ce2\u52a8\u7387 Short Strangle \u4e0d\u540c \u4fe1\u7528\u8f83\u4f4e \u66f4\u5bbd\u7684\u533a\u95f4 \u66f4\u5b89\u5168\u7684\u6536\u76ca,\u4e2d\u7b49\u6ce2\u52a8\u7387","title":"\u7b56\u7565\u6bd4\u8f83"},{"location":"zh/strategies/straddles-strangles/#greeks","text":"","title":"Greeks \u8003\u8651"},{"location":"zh/strategies/straddles-strangles/#long-straddlesstrangles","text":"\u6b63 Vega - \u4ece\u6ce2\u52a8\u7387\u589e\u52a0\u4e2d\u53d7\u76ca \u8d1f Theta - \u65f6\u95f4\u8870\u51cf\u5bf9\u60a8\u4e0d\u5229 \u4ea4\u6613 : \u5728 IV \u4f4e\u65f6\u4e70\u5165,\u5728 IV \u98d9\u5347\u65f6\u5356\u51fa","title":"\u5bf9\u4e8e Long Straddles/Strangles"},{"location":"zh/strategies/straddles-strangles/#short-straddlesstrangles","text":"\u8d1f Vega - \u53d7\u6ce2\u52a8\u7387\u589e\u52a0\u4f24\u5bb3 \u6b63 Theta - \u65f6\u95f4\u8870\u51cf\u5bf9\u60a8\u6709\u5229 \u4ea4\u6613 : \u5728 IV \u9ad8\u65f6\u5356\u51fa,\u4ece IV \u6324\u538b\u4e2d\u53d7\u76ca","title":"\u5bf9\u4e8e Short Straddles/Strangles"},{"location":"zh/strategies/straddles-strangles/#iv","text":"# \u9488\u5bf9 short strangles \u7684\u9ad8 IV \u73af\u5883 results = op . short_strangles ( data , max_entry_dte = 45 , exit_dte = 21 , max_otm_pct = 0.25 , # \u8fc7\u6ee4\u6d41\u52a8\u3001\u9ad8 IV \u671f\u6743 min_bid_ask = 0.15 , slippage = 'liquidity' )","title":"\u793a\u4f8b: IV \u8fc7\u6ee4"},{"location":"zh/strategies/straddles-strangles/#_24","text":"\u5bf9\u4e8e Long \u5934\u5bf8: - \u98ce\u9669\u9650\u4e8e\u652f\u4ed8\u7684\u6743\u5229\u91d1 - \u8003\u8651\u5728 100% \u635f\u5931\u6216 200%+ \u6536\u76ca\u65f6\u9000\u51fa - \u5927\u5e45\u6ce2\u52a8\u65f6\u5229\u6da6\u53ef\u80fd\u76f8\u5f53\u53ef\u89c2 \u5bf9\u4e8e Short \u5934\u5bf8: - \u26a0\ufe0f \u98ce\u9669\u662f\u65e0\u9650\u7684 - \u8003\u8651\u6b62\u635f\u6216\u8f6c\u6362\u4e3a iron condors/butterflies - \u5728\u6700\u5927\u76c8\u5229\u7684 50-75% \u65f6\u63d0\u524d\u5e73\u4ed3 - \u4fdd\u5b88\u5730\u786e\u5b9a\u5934\u5bf8\u89c4\u6a21(\u8d26\u6237\u7684\u5c0f\u767e\u5206\u6bd4)","title":"\u98ce\u9669\u7ba1\u7406"},{"location":"zh/strategies/straddles-strangles/#_25","text":"\u4e86\u89e3 \u5782\u76f4\u4ef7\u5dee \u4ee5\u83b7\u5f97\u6709\u9650\u98ce\u9669\u7684\u66ff\u4ee3\u65b9\u6848 \u63a2\u7d22 Iron Butterflies \u4ee5\u83b7\u5f97\u6709\u9650\u98ce\u9669\u7684\u6ce2\u52a8\u7387\u4ea4\u6613 \u67e5\u770b\u5305\u542b IV \u5206\u6790\u7684\u66f4\u591a \u793a\u4f8b","title":"\u4e0b\u4e00\u6b65"}]}